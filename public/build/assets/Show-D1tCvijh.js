import{d as I,h as x,p as z,c as n,g as m,i as A,e as t,b as h,n as B,t as r,s as L,x as P,y as O,o as d,u as T,f as _,a as E,D as Z,w as C,l as j,j as H,F as S,r as J,k as K,G as q,H as G,C as U}from"./app-DvJ-vTb0.js";import{_ as Q,r as W}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";import{u as X,_ as Y}from"./useIsMobile-CMH_TBsk.js";import{p as D,f as tt}from"./inputGuards-BTKUKM9N.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as st}from"./MobileToast.vue_vue_type_script_setup_true_lang-C8uRLjf5.js";const ot={key:0,class:"fixed inset-0 z-[80]"},lt={class:"absolute inset-x-0 bottom-0 h-[650px] max-h-[calc(100vh-150px)] w-full overflow-hidden rounded-t-[24px] bg-white shadow-[0_-4px_20px_rgba(0,0,0,0.25)] md:inset-x-auto md:bottom-auto md:left-1/2 md:top-1/2 md:h-auto md:max-h-[92vh] md:w-[560px] md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-[28px] md:shadow-[0_30px_90px_-45px_rgba(15,23,42,0.55)]"},at={class:"flex h-full flex-col"},nt={class:"flex-1 overflow-y-auto px-6 pb-6"},it={class:"mt-2"},rt={class:"flex h-[120px] items-center"},dt=["value"],ut={class:"mt-2 space-y-4"},ct={type:"button",class:"flex w-full items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-4 text-left shadow-sm"},mt={class:"text-sm font-semibold text-slate-900"},pt={class:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-4"},xt={class:"px-6 pt-4 pb-[calc(24px+env(safe-area-inset-bottom))]"},vt=I({__name:"AddMoneyModal",props:{open:{type:Boolean},accent:{}},emits:["close","confirm"],setup(y,{emit:b}){const g=y,k=b,w=()=>k("close"),p=x(""),v=x("Banco Inter"),u=x(!1);z(()=>g.open,i=>{i&&(p.value="",v.value="Banco Inter",u.value=!1)});const l=i=>{const s=i.target;p.value=tt(s.value)},M=n(()=>{const i=String(p.value??"").length;return i<=6?"text-[56px]":i<=9?"text-[44px]":i<=12?"text-[36px]":"text-[30px]"}),$=n(()=>g.accent==="blue"?"bg-[#3B82F6]":"bg-[#14B8A6]"),f=n(()=>g.accent==="blue"?"shadow-[0_2px_8px_rgba(59,130,246,0.25)]":"shadow-[0_2px_8px_rgba(20,184,166,0.25)]");return(i,s)=>y.open?(d(),m("div",ot,[t("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:w,"aria-label":"Fechar"}),t("div",lt,[t("div",at,[t("header",{class:"relative flex h-14 items-center px-4"},[t("button",{class:"h-10 w-10 rounded-full bg-slate-100 text-slate-500",type:"button",onClick:w,"aria-label":"Fechar"},[...s[3]||(s[3]=[t("svg",{class:"mx-auto h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])]),s[4]||(s[4]=t("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[t("div",{class:"text-[16px] font-bold text-[#1F2937]"},"Adicionar dinheiro")],-1))]),t("div",nt,[t("div",it,[t("div",rt,[s[5]||(s[5]=t("div",{class:"w-10 text-base text-[#6B7280]"},"R$",-1)),t("input",{class:B(["amount-input h-[72px] w-full flex-1 bg-transparent text-center font-bold leading-none tracking-tight focus:outline-none focus:ring-0",M.value]),type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"off",spellcheck:"false",value:p.value,onInput:l,onKeydown:s[0]||(s[0]=(...c)=>h(D)&&h(D)(...c)),placeholder:"0,00","aria-label":"Valor"},null,42,dt),s[6]||(s[6]=t("div",{class:"w-10"},null,-1))])]),t("div",ut,[t("div",null,[s[9]||(s[9]=t("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Retirar de",-1)),t("button",ct,[t("div",null,[t("div",mt,r(v.value),1),s[7]||(s[7]=t("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Saldo: R$ 1.450,00",-1))]),s[8]||(s[8]=t("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))])]),t("div",pt,[s[10]||(s[10]=L('<div class="flex items-center gap-3" data-v-072855a4><span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-blue-50 text-blue-600" data-v-072855a4><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-072855a4><rect x="3" y="4" width="18" height="18" rx="3" data-v-072855a4></rect><path d="M8 2v4" data-v-072855a4></path><path d="M16 2v4" data-v-072855a4></path><path d="M3 10h18" data-v-072855a4></path></svg></span><div class="text-sm font-semibold text-slate-900" data-v-072855a4>Repetir esse depósito mensalmente?</div></div>',1)),P(t("input",{"onUpdate:modelValue":s[1]||(s[1]=c=>u.value=c),type:"checkbox",class:"h-5 w-5 rounded-md border-slate-300 text-blue-600"},null,512),[[O,u.value]])])])]),t("footer",xt,[t("button",{type:"button",class:B(["h-[52px] w-full rounded-2xl text-base font-bold text-white",[$.value,f.value]]),onClick:s[2]||(s[2]=c=>{k("confirm",{amount:p.value,from:v.value,repeat:u.value}),w()})}," Confirmar depósito ",2)])])])])):A("",!0)}}),ft=et(vt,[["__scopeId","data-v-072855a4"]]),ht={key:0,class:"relative flex items-center justify-center pt-2"},bt={class:"text-base font-semibold text-slate-900"},gt={class:"flex flex-col items-center"},wt={class:"flex h-20 w-20 items-center justify-center rounded-full bg-white/20 ring-1 ring-white/30"},_t={key:0,class:"h-9 w-9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},yt={key:1,class:"h-9 w-9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},kt={key:2,class:"h-9 w-9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Mt={class:"mt-2 text-4xl font-bold tracking-tight"},$t={class:"align-middle"},Ct={class:"mt-6 w-full"},Bt={class:"flex items-center justify-between text-xs font-semibold opacity-90"},Rt={class:"mt-3 h-3 w-full rounded-full bg-black/20"},jt={class:"-mt-7 grid grid-cols-2 gap-3 md:mx-auto md:max-w-md"},St={class:"rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Dt={class:"mt-2 text-lg font-semibold text-slate-900"},It={class:"rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},At={class:"mt-2 text-lg font-semibold text-slate-900"},Nt={class:"mt-7 pb-[calc(7rem+env(safe-area-inset-bottom))] md:mx-auto md:max-w-md"},Ft={class:"mt-4 space-y-3"},Vt={class:"flex items-center gap-3"},zt={class:"text-sm font-semibold text-slate-900"},Lt={class:"mt-1 text-xs font-semibold text-slate-400"},Pt={class:"text-sm font-semibold text-emerald-600"},Ot={class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)] md:static md:bg-transparent md:px-0 md:pb-0 md:pt-6 md:shadow-none"},Tt={class:"mx-auto w-full max-w-md"},Gt=I({__name:"Show",props:{goalId:{}},setup(y){const b=X(),g=n(()=>b.value?Y:Q),k=n(()=>b.value?{showNav:!1}:{title:"Metas",subtitle:"Detalhes",showSearch:!1,showNewAction:!1}),w=T(),p=n(()=>w.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),v=y,u=x(p.value.goals.find(o=>o.id===v.goalId)??null),l=n(()=>{const o=u.value;if(!o)return{id:v.goalId,title:"Meta",color:"teal",icon:"home",target:0,current:0,due:""};const e=o.icon==="plane"?"blue":o.icon==="car"?"orange":"teal",a=o.icon==="plane"?"plane":o.icon==="car"?"car":"home";return{id:o.id,title:o.title,color:e,icon:a,target:o.target,current:o.current,due:o.due}}),M=n(()=>Math.min(100,Math.round(l.value.current/l.value.target*100))),$=n(()=>Math.max(0,l.value.target-l.value.current)),f=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(o),i=n(()=>l.value.color==="blue"?"bg-[#2563EB]":l.value.color==="orange"?"bg-[#F97316]":"bg-[#0D9488]"),s=x(!1),c=x(!1),R=x(""),N=o=>{R.value=o,c.value=!0},F=n(()=>u.value?.deposits??[]),V=async o=>{const e=Number(o.amount.replace(/\./g,"").replace(",","."))||0,a=await W(route("goals.deposits.store",l.value.id),{method:"POST",body:JSON.stringify({amount:e,title:"Depósito manual"})});u.value=a.goal,N("Valor adicionado")};return(o,e)=>(d(),m(S,null,[_(h(Z),{title:l.value.title},null,8,["title"]),(d(),E(U(g.value),q(G(k.value)),{default:C(()=>[h(b)?(d(),m("header",ht,[_(h(j),{href:o.route("goals.index"),class:"absolute left-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Voltar"},{default:C(()=>[...e[3]||(e[3]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_:1},8,["href"]),t("div",bt,r(l.value.title),1),_(h(j),{href:o.route("goals.edit",{goalId:l.value.id}),class:"absolute right-0 flex h-10 w-10 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Editar"},{default:C(()=>[...e[4]||(e[4]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 20h9"}),t("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5Z"})],-1)])]),_:1},8,["href"])])):A("",!0),t("div",{class:B(["-mx-5 mt-4 overflow-hidden rounded-b-[36px] px-5 pb-10 pt-8 text-white md:mx-0 md:rounded-3xl md:px-8 md:pb-12 md:pt-10",i.value])},[t("div",gt,[t("div",wt,[l.value.icon==="home"?(d(),m("svg",_t,[...e[5]||(e[5]=[t("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),t("path",{d:"M5 10v10h14V10"},null,-1)])])):l.value.icon==="plane"?(d(),m("svg",yt,[...e[6]||(e[6]=[t("path",{d:"M2 16l20-8-20-8 6 8-6 8Z"},null,-1),t("path",{d:"M6 16v6l4-4"},null,-1)])])):(d(),m("svg",kt,[...e[7]||(e[7]=[t("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),t("path",{d:"M7 16h10"},null,-1),t("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),t("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])]))]),e[9]||(e[9]=t("div",{class:"mt-6 text-sm font-semibold opacity-90"},"Total economizado",-1)),t("div",Mt,[e[8]||(e[8]=t("span",{class:"mr-2 align-middle text-2xl font-semibold opacity-90"},"R$",-1)),t("span",$t,r(f(l.value.current).replace("R$","").trim()),1)]),t("div",Ct,[t("div",Bt,[t("div",null,r(M.value)+"%",1),t("div",null,"Meta: "+r(f(l.value.target).replace("R$","R$")),1)]),t("div",Rt,[t("div",{class:"h-3 rounded-full bg-white",style:H({width:`${M.value}%`})},null,4)])])])],2),t("div",jt,[t("div",St,[e[10]||(e[10]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},"FALTAM",-1)),t("div",Dt,r(f($.value).replace("R$","R$")),1)]),t("div",It,[e[11]||(e[11]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},"PRAZO",-1)),t("div",At,r(l.value.due),1)])]),t("div",Nt,[e[13]||(e[13]=t("div",{class:"text-base font-semibold text-slate-900"},"Histórico de depósitos",-1)),t("div",Ft,[(d(!0),m(S,null,J(F.value,a=>(d(),m("div",{key:a.id,class:"flex items-center justify-between rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},[t("div",Vt,[e[12]||(e[12]=t("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-600"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 3v14"}),t("path",{d:"M7 12l5 5 5-5"})])],-1)),t("div",null,[t("div",zt,r(a.title),1),t("div",Lt,r(a.subtitle),1)])]),t("div",Pt,"+ "+r(f(a.amount).replace("R$","R$")),1)]))),128))])]),t("div",Ot,[t("div",Tt,[t("button",{type:"button",class:"flex h-[52px] w-full items-center justify-center gap-2 rounded-2xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)]",onClick:e[0]||(e[0]=a=>s.value=!0)},[...e[14]||(e[14]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M12 5v14"}),t("path",{d:"M5 12h14"})],-1),K(" Adicionar valor ",-1)])])])]),_(ft,{open:s.value,accent:l.value.color==="blue"?"blue":"teal",onClose:e[1]||(e[1]=a=>s.value=!1),onConfirm:V},null,8,["open","accent"]),_(st,{show:c.value,message:R.value,onDismiss:e[2]||(e[2]=a=>c.value=!1)},null,8,["show","message"])]),_:1},16))],64))}});export{Gt as default};
