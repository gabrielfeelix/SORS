import{d as S,c as p,h as k,J as D,g as i,f as A,a as N,b as o,D as B,w as R,e,o as n,F as u,r as U,i as x,t as d,n as V,A as M,x as f,I as b,G as $,H as F,C as I}from"./app-DvJ-vTb0.js";import{u as P,_ as j}from"./useIsMobile-CMH_TBsk.js";import{_ as z}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";const E={class:"space-y-4"},G={class:"space-y-4"},L={class:"flex items-start justify-between"},H={class:"text-base font-semibold text-slate-900"},J={class:"text-sm text-slate-500"},T={class:"mt-3 text-xs text-slate-400"},q=["onClick"],K=["onSubmit"],O={key:0,class:"mt-1 text-xs text-red-500"},Q=["disabled"],Z=S({__name:"Users",props:{users:{}},setup(v){const _=v,c=P(),w=p(()=>c.value?j:z),h=p(()=>c.value?{showNav:!1}:{title:"Administração",showSearch:!1,showNewAction:!1}),m=k(null),s=D({password:"",password_confirmation:""}),g=l=>{m.value=m.value===l?null:l,s.reset(),s.clearErrors()},y=l=>{s.patch(route("admin.users.password",l),{preserveScroll:!0,onSuccess:()=>{s.reset(),m.value=null}})},C=l=>new Date(l).toLocaleDateString("pt-BR");return(l,t)=>(n(),i(u,null,[A(o(B),{title:"Administração"}),(n(),N(I(w.value),$(F(h.value)),{default:R(()=>[e("div",E,[t[4]||(t[4]=e("div",{class:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-200/60"},[e("div",{class:"text-xl font-semibold text-slate-900"},"Administração"),e("p",{class:"mt-2 text-sm text-slate-500"},"Gerencie usuários e redefina senhas.")],-1)),e("div",G,[(n(!0),i(u,null,U(_.users,a=>(n(),i("div",{key:a.id,class:"rounded-3xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60"},[e("div",L,[e("div",null,[e("div",H,d(a.name),1),e("div",J,d(a.email),1)]),e("span",{class:V(["rounded-full px-3 py-1 text-xs font-semibold",a.is_admin?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-500"])},d(a.is_admin?"Admin":"Usuário"),3)]),e("div",T,"Criado em "+d(C(a.created_at)),1),e("button",{type:"button",class:"mt-4 inline-flex items-center gap-2 rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700",onClick:r=>g(a.id)}," Alterar senha ",8,q),m.value===a.id?(n(),i("form",{key:0,class:"mt-4 space-y-3",onSubmit:M(r=>y(a.id),["prevent"])},[e("div",null,[t[2]||(t[2]=e("label",{class:"text-xs font-semibold text-slate-500"},"Nova senha",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o(s).password=r),type:"password",class:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-700",placeholder:"Digite a nova senha"},null,512),[[b,o(s).password]]),o(s).errors.password?(n(),i("div",O,d(o(s).errors.password),1)):x("",!0)]),e("div",null,[t[3]||(t[3]=e("label",{class:"text-xs font-semibold text-slate-500"},"Confirmar senha",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>o(s).password_confirmation=r),type:"password",class:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-700",placeholder:"Repita a senha"},null,512),[[b,o(s).password_confirmation]])]),e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-2xl bg-slate-900 px-5 py-3 text-sm font-semibold text-white",disabled:o(s).processing}," Salvar ",8,Q)],40,K)):x("",!0)]))),128))])])]),_:1},16))],64))}});export{Z as default};
