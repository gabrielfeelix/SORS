import{a as D}from"./useIsMobile-DqUvSeEk.js";import{d as $,g as o,n as m,e as s,o as n,c as y,a as N,w as R,i as c,F as C,r as _,j as w,f as B,t as d}from"./app-BblmX-k6.js";const M=$({__name:"AccountIcon",props:{type:{},icon:{},class:{}},setup(i){const p=i;return(x,a)=>i.type==="wallet"||i.icon==="wallet"?(n(),o("svg",{key:0,class:m(p.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...a[0]||(a[0]=[s("path",{d:"M4 7h16v12H4z"},null,-1),s("path",{d:"M4 7V5h12v2"},null,-1),s("path",{d:"M16 12h4"},null,-1)])],2)):i.type==="credit_card"||i.icon==="credit-card"||i.icon==="credit_card"?(n(),o("svg",{key:1,class:m(p.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...a[1]||(a[1]=[s("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"},null,-1),s("path",{d:"M3 10h18"},null,-1)])],2)):(n(),o("svg",{key:2,class:m(p.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...a[2]||(a[2]=[s("path",{d:"M3 10h18"},null,-1),s("path",{d:"M5 10V8l7-5 7 5v2"},null,-1),s("path",{d:"M6 10v9"},null,-1),s("path",{d:"M18 10v9"},null,-1)])],2))}}),L={class:"space-y-5 pb-2"},E={key:0},F={class:"mt-2 space-y-3"},O=["onClick"],V={class:"min-w-0 flex-1"},z={class:"truncate text-base font-semibold text-slate-900"},I={class:"mt-0.5 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs font-semibold"},T={key:0,class:"truncate text-slate-400"},j={key:1,class:"text-slate-300"},P={key:2,class:"truncate text-slate-500"},H={key:1},W={class:"mt-2 space-y-3"},q=["onClick"],G={class:"min-w-0 flex-1"},J={class:"truncate text-base font-semibold text-slate-900"},K={class:"mt-0.5 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs font-semibold"},Q={key:0,class:"truncate text-slate-400"},U={key:1,class:"text-slate-300"},X={key:2,class:"truncate text-slate-500"},et=$({__name:"AccountPickerSheet",props:{open:{type:Boolean},options:{},title:{}},emits:["close","select"],setup(i,{emit:p}){const x=i,a=p,b=e=>e==="purple"?"bg-purple-100 text-purple-600":e==="amber"?"bg-amber-100 text-amber-600":e==="emerald"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",h=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),S=e=>e.type==="credit_card",u=e=>{if(S(e)){const l=e.available??(e.limit!=null?Number(e.limit)-Number(e.used??0):null);return l==null?"":`Disponível: ${h(Math.max(0,l))}`}return e.balance==null?"":`Saldo: ${h(e.balance)}`},k=y(()=>x.options.filter(e=>e.type!=="credit_card")),f=y(()=>x.options.filter(e=>e.type==="credit_card")),g=e=>String(e??"").trim().toLowerCase(),A=y(()=>{const e=new Map;for(const t of f.value){const r=g(t.label);e.set(r,(e.get(r)??0)+1)}const l=new Map;return f.value.map(t=>{const r=g(t.label);if((e.get(r)??0)<=1)return{opt:t,label:t.label};const v=(l.get(r)??0)+1;return l.set(r,v),{opt:t,label:`${t.label} (${v})`}})});return(e,l)=>(n(),N(D,{open:i.open,title:x.title??"Pagar com",onClose:l[0]||(l[0]=t=>a("close"))},{default:R(()=>[s("div",L,[k.value.length?(n(),o("div",E,[l[2]||(l[2]=s("div",{class:"px-2 text-[10px] font-bold uppercase tracking-wide text-slate-400"},"CONTAS E CARTEIRAS",-1)),s("div",F,[(n(!0),o(C,null,_(k.value,t=>(n(),o("button",{key:t.key,type:"button",class:"flex w-full items-center gap-4 rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:r=>a("select",t.key)},[s("span",{class:m(["flex h-12 w-12 items-center justify-center rounded-full text-lg font-semibold",t.customColor?"":b(t.tone)]),style:w(t.customColor?{backgroundColor:t.customColor,color:"white"}:{})},[B(M,{type:t.type,icon:t.icon,class:"h-6 w-6"},null,8,["type","icon"])],6),s("div",V,[s("div",z,d(t.label),1),s("div",I,[t.subtitle?(n(),o("span",T,d(t.subtitle),1)):c("",!0),t.subtitle&&u(t)?(n(),o("span",j,"•")):c("",!0),u(t)?(n(),o("span",P,d(u(t)),1)):c("",!0)])]),l[1]||(l[1]=s("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[s("path",{d:"M9 5l7 7-7 7"})],-1))],8,O))),128))])])):c("",!0),f.value.length?(n(),o("div",H,[l[4]||(l[4]=s("div",{class:"px-2 text-[10px] font-bold uppercase tracking-wide text-slate-400"},"CARTÕES DE CRÉDITO",-1)),s("div",W,[(n(!0),o(C,null,_(A.value,t=>(n(),o("button",{key:t.opt.key,type:"button",class:"flex w-full items-center gap-4 rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:r=>a("select",t.opt.key)},[s("span",{class:m(["flex h-12 w-12 items-center justify-center rounded-full text-lg font-semibold",t.opt.customColor?"":b(t.opt.tone)]),style:w(t.opt.customColor?{backgroundColor:t.opt.customColor,color:"white"}:{})},[B(M,{type:t.opt.type,icon:t.opt.icon,class:"h-6 w-6"},null,8,["type","icon"])],6),s("div",G,[s("div",J,d(t.label),1),s("div",K,[t.opt.subtitle?(n(),o("span",Q,d(t.opt.subtitle),1)):c("",!0),t.opt.subtitle&&u(t.opt)?(n(),o("span",U,"•")):c("",!0),u(t.opt)?(n(),o("span",X,d(u(t.opt)),1)):c("",!0)])]),l[3]||(l[3]=s("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[s("path",{d:"M9 5l7 7-7 7"})],-1))],8,q))),128))])])):c("",!0)])]),_:1},8,["open","title"]))}});export{M as _,et as a};
