import{d as pe,h as c,c as x,p as W,a as Ne,T as ot,f as j,q as Fe,w as ce,g as d,i as B,e as t,t as h,b as H,o as u,F as G,r as X,n as w,j as ne,k as ke,s as ye,v as lt,x as rt,y as it,u as ut,z as dt,l as ct,A as De,B as pt,C as mt,m as vt}from"./app-DvJ-vTb0.js";import{_ as ft,r as se,a as xt}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";import{q as bt,T as gt,e as ht,h as Te,b as wt,a as yt}from"./TransactionModal-CAPdfSRY.js";import{u as kt,_ as Ct}from"./useIsMobile-CMH_TBsk.js";import{_ as $t}from"./MobileToast.vue_vue_type_script_setup_true_lang-C8uRLjf5.js";import{_ as Mt}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-FdJQ2dEh.js";import{p as de,f as Ie}from"./inputGuards-BTKUKM9N.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Bt}from"./ExportReportModal.vue_vue_type_script_setup_true_lang-IWGnEtdO.js";import{_ as Ft}from"./MonthNavigator.vue_vue_type_script_setup_true_lang-BF8bI4Ys.js";const Dt={key:0,class:"fixed inset-0 z-[80]"},Tt={key:0,class:"absolute inset-x-0 bottom-0 mx-auto w-full max-w-md rounded-t-[28px] bg-white px-5 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_60px_-40px_rgba(15,23,42,0.55)] md:max-w-xl",role:"dialog","aria-modal":"true"},It={class:"relative mt-4 flex items-center justify-center"},Nt={class:"mt-6 rounded-2xl bg-white ring-1 ring-slate-200/60"},Lt={class:"flex items-center justify-between px-4 py-3 text-sm font-semibold text-slate-700"},St={class:"capitalize"},Rt=pe({__name:"DateRangePickerSheet",props:{open:{type:Boolean},start:{},end:{}},emits:["close","update:start","update:end"],setup(R,{emit:K}){const k=R,M=K,T=c(null),l=f=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(f),A=f=>{const v=String(f??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!v)return null;const[,F,D,E]=v,y=new Date(Number(E),Number(D)-1,Number(F));return Number.isFinite(y.getTime())?y:null},$=x(()=>{const f=T.value?.[0]??null;return f?new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(f):""});W(()=>k.open,f=>{if(!f)return;const v=A(k.start)??new Date,F=A(k.end)??v;T.value=[v,F]});const N=f=>{!f?.[0]||!f?.[1]||(T.value=f,M("update:start",l(f[0])),M("update:end",l(f[1])))},L=()=>{const f=new Date,v=new Date(f.getFullYear(),f.getMonth(),f.getDate());T.value=[v,v],M("update:start",l(v)),M("update:end",l(v))};return(f,v)=>(u(),Ne(ot,{to:"body"},[j(Fe,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:ce(()=>[R.open?(u(),d("div",Dt,[t("button",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm",type:"button",onClick:v[0]||(v[0]=F=>M("close")),"aria-label":"Fechar"}),j(Fe,{"enter-active-class":"transition duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:ce(()=>[R.open?(u(),d("div",Tt,[v[4]||(v[4]=t("div",{class:"mx-auto h-1.5 w-12 rounded-full bg-slate-200"},null,-1)),t("div",It,[v[3]||(v[3]=t("div",{class:"text-lg font-semibold text-slate-900"},"Qual perÃ­odo?",-1)),t("button",{type:"button",class:"absolute right-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-500","aria-label":"Fechar",onClick:v[1]||(v[1]=F=>M("close"))},[...v[2]||(v[2]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",{class:"mt-5 grid grid-cols-1 gap-3"},[t("button",{type:"button",class:"h-12 rounded-2xl bg-slate-50 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200/60",onClick:L}," Hoje ")]),t("div",Nt,[t("div",Lt,[t("div",St,h($.value),1)]),j(H(bt),{"model-value":T.value,"onUpdate:modelValue":N,inline:!0,"enable-time-picker":!1,"auto-apply":!0,"week-start":0,locale:"pt-BR",range:""},null,8,["model-value"])])])):B("",!0)]),_:1})])):B("",!0)]),_:1})]))}}),At=_t(Rt,[["__scopeId","data-v-a39bce0f"]]),Et={key:0,class:"fixed inset-0 z-[75]"},Pt={class:"absolute inset-x-0 bottom-0 h-[650px] max-h-[calc(100vh-150px)] w-full overflow-hidden rounded-t-[24px] bg-white shadow-[0_-4px_20px_rgba(0,0,0,0.25)]"},jt={class:"flex h-full flex-col"},Ot={class:"relative flex h-14 items-center justify-between px-4"},Vt={class:"flex-1 overflow-y-auto px-6 pb-6 pt-2"},Ut={class:"mt-3 grid grid-cols-2 gap-3"},Kt=["onClick"],zt={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Yt={class:"flex items-center gap-2 text-sm font-semibold text-slate-600"},qt={key:0,class:"h-5 w-5 text-amber-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ht={key:1,class:"h-5 w-5 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Gt={key:2,class:"h-5 w-5 text-slate-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Jt={class:"mt-3 flex flex-wrap gap-3"},Zt=["onClick"],Wt={key:0,class:"text-xs font-semibold text-slate-400"},Xt={class:"mt-3 flex flex-wrap gap-3"},Qt={class:"mt-3 flex flex-wrap gap-3"},es={class:"mt-3 flex flex-wrap gap-3"},ts={class:"mt-3 grid grid-cols-2 gap-5"},ss={class:"mt-2 border-b border-slate-200 pb-2"},ns={class:"flex items-center gap-2 text-xs font-semibold text-slate-900"},as=["value"],os={class:"mt-2 border-b border-slate-200 pb-2"},ls={class:"flex items-center gap-2 text-xs font-semibold text-slate-900"},rs=["value"],is={class:"mt-4"},us={class:"relative h-2 rounded-full bg-slate-200"},ds={class:"relative mt-2 h-6"},cs=["value"],ps=["value"],ms={class:"px-6 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3"},vs=["disabled"],fs={class:"mt-3 text-center text-xs font-semibold text-slate-400"},q=1e6,xs=pe({__name:"TransactionFilterModal",props:{open:{type:Boolean},categories:{},tags:{},initial:{},resultsCount:{}},emits:["close","apply","clear"],setup(R,{emit:K}){const k=R,M=K,T=()=>M("close"),l=c({categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"});W(()=>k.open,m=>{m&&(l.value={...k.initial,categories:[...k.initial.categories],tags:[...k.initial.tags]})});const A=m=>{const o=new Set(l.value.categories);o.has(m)?o.delete(m):o.add(m),l.value.categories=Array.from(o)},$=m=>{const o=new Set(l.value.tags);o.has(m)?o.delete(m):o.add(m),l.value.tags=Array.from(o)},N=c(!1),L=()=>{l.value.period="range",N.value=!0},f=m=>!!String(m??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/),v=x(()=>l.value.period!=="range"?"":!f(l.value.rangeStart)||!f(l.value.rangeEnd)?"Selecione um perÃ­odo":`${l.value.rangeStart} â€” ${l.value.rangeEnd}`),F=m=>{const o=m.target;l.value.min=Ie(o.value)},D=m=>{const o=m.target;l.value.max=Ie(o.value)},E=m=>{const r=m.replace(/[^\d]/g,"").padStart(3,"0"),O=Number(r);return Number.isFinite(O)?O:0},y=m=>{const o=Math.max(0,Math.floor(m)),r=String(o).padStart(3,"0"),O=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${O}`},V=x(()=>Math.min(q,E(l.value.min))),P=x(()=>Math.min(q,E(l.value.max))),U=x(()=>V.value/q*100),z=x(()=>P.value/q*100);W(()=>l.value.min,()=>{const m=V.value,o=P.value;m>o&&(l.value.max=y(m))}),W(()=>l.value.max,()=>{const m=V.value,o=P.value;o<m&&(l.value.min=y(o))});const b=m=>{const o=Number(m.target.value),r=Math.max(0,Math.min(o,P.value));l.value.min=y(r)},g=m=>{const o=Number(m.target.value),r=Math.min(q,Math.max(o,V.value));l.value.max=y(r)},_=m=>l.value.period===m?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",Y=m=>l.value.status===m?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",Q=m=>l.value.recurrence===m?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",ae=x(()=>l.value.period!=="range"?!0:f(l.value.rangeStart)&&f(l.value.rangeEnd));return(m,o)=>(u(),d(G,null,[R.open?(u(),d("div",Et,[t("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:T,"aria-label":"Fechar"}),t("div",Pt,[t("div",jt,[t("header",Ot,[t("button",{class:"h-10 w-10 rounded-full bg-slate-100 text-slate-500",type:"button",onClick:T,"aria-label":"Fechar"},[...o[15]||(o[15]=[t("svg",{class:"mx-auto h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])]),o[16]||(o[16]=t("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[t("div",{class:"text-[16px] font-bold text-[#1F2937]"},"Filtrar transaÃ§Ãµes")],-1)),t("button",{type:"button",class:"text-sm font-semibold text-[#14B8A6]",onClick:o[0]||(o[0]=r=>M("clear"))},"Limpar")]),t("div",Vt,[o[26]||(o[26]=t("div",{class:"text-sm font-bold text-slate-900"},"Categorias",-1)),t("div",Ut,[(u(!0),d(G,null,X(R.categories,r=>(u(),d("button",{key:r.key,type:"button",class:"flex items-center gap-3 rounded-xl bg-white px-3 py-3 text-left",onClick:O=>A(r.key)},[t("span",{class:w(["flex h-6 w-6 items-center justify-center rounded-md border",l.value.categories.includes(r.key)?"border-[#14B8A6] bg-[#14B8A6]":"border-slate-200 bg-white"])},[l.value.categories.includes(r.key)?(u(),d("svg",zt,[...o[17]||(o[17]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):B("",!0)],2),t("span",Yt,[r.icon==="food"?(u(),d("svg",qt,[...o[18]||(o[18]=[ye('<path d="M4 3v7"></path><path d="M8 3v7"></path><path d="M6 3v7"></path><path d="M14 3v7c0 2 1 3 3 3v8"></path><path d="M20 3v7"></path>',5)])])):r.icon==="home"?(u(),d("svg",Ht,[...o[19]||(o[19]=[t("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),t("path",{d:"M5 10v10h14V10"},null,-1)])])):(u(),d("svg",Gt,[...o[20]||(o[20]=[t("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),t("path",{d:"M7 16h10"},null,-1),t("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),t("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])])),ke(" "+h(r.label),1)])],8,Kt))),128))]),o[27]||(o[27]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Tags",-1)),t("div",Jt,[(u(!0),d(G,null,X(k.tags,r=>(u(),d("button",{key:r.id,type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",l.value.tags.includes(r.nome)?r.cor?"":"border-[#14B8A6] bg-[#E6FFFB] text-[#14B8A6]":"border-slate-200 bg-white text-slate-600"]),style:ne(l.value.tags.includes(r.nome)&&r.cor?{borderColor:r.cor,backgroundColor:`${r.cor}1A`,color:r.cor}:void 0),onClick:O=>$(r.nome)},h(r.nome),15,Zt))),128)),k.tags.length===0?(u(),d("div",Wt,"VocÃª ainda nÃ£o tem tags.")):B("",!0)]),o[28]||(o[28]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Status",-1)),t("div",Xt,[t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Y("all")]),onClick:o[1]||(o[1]=r=>l.value.status="all")}," Todas ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Y("paid")]),onClick:o[2]||(o[2]=r=>l.value.status="paid")}," Pagas ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Y("to_pay")]),onClick:o[3]||(o[3]=r=>l.value.status="to_pay")}," A pagar ",2)]),o[29]||(o[29]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"RecorrÃªncia",-1)),t("div",Qt,[t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Q("all")]),onClick:o[4]||(o[4]=r=>l.value.recurrence="all")}," Todas ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Q("recurring")]),onClick:o[5]||(o[5]=r=>l.value.recurrence="recurring")}," SÃ³ recorrentes ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",Q("non_recurring")]),onClick:o[6]||(o[6]=r=>l.value.recurrence="non_recurring")}," SÃ³ nÃ£o recorrentes ",2)]),o[30]||(o[30]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"PerÃ­odo",-1)),t("div",es,[t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",_("today")]),onClick:o[7]||(o[7]=r=>l.value.period="today")}," Hoje ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",_("month")]),onClick:o[8]||(o[8]=r=>l.value.period="month")}," Este mÃªs ",2),t("button",{type:"button",class:w(["rounded-full border px-4 py-2 text-sm font-semibold",_("range")]),onClick:L}," Outro perÃ­odo ",2)]),l.value.period==="range"?(u(),d("button",{key:0,type:"button",class:"mt-3 w-full rounded-2xl bg-slate-50 px-4 py-3 text-left text-sm font-semibold text-slate-700 ring-1 ring-slate-200/60",onClick:L},h(v.value),1)):B("",!0),o[31]||(o[31]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Valor",-1)),t("div",ts,[t("div",null,[o[22]||(o[22]=t("div",{class:"text-xs font-bold text-slate-400"},"MÃNIMO",-1)),t("div",ss,[t("div",ns,[o[21]||(o[21]=t("span",{class:"text-slate-500"},"R$",-1)),t("input",{class:"w-full appearance-none border-0 bg-transparent text-xs font-semibold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",value:l.value.min,inputmode:"numeric",pattern:"[0-9]*",onInput:F,onKeydown:o[9]||(o[9]=(...r)=>H(de)&&H(de)(...r)),"aria-label":"Valor mÃ­nimo"},null,40,as)])])]),t("div",null,[o[24]||(o[24]=t("div",{class:"text-xs font-bold text-slate-400"},"MÃXIMO",-1)),t("div",os,[t("div",ls,[o[23]||(o[23]=t("span",{class:"text-slate-500"},"R$",-1)),t("input",{class:"w-full appearance-none border-0 bg-transparent text-xs font-semibold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",value:l.value.max,inputmode:"numeric",pattern:"[0-9]*",onInput:D,onKeydown:o[10]||(o[10]=(...r)=>H(de)&&H(de)(...r)),"aria-label":"Valor mÃ¡ximo"},null,40,rs)])])])]),t("div",is,[t("div",us,[t("div",{class:"absolute h-2 rounded-full bg-[#14B8A6]",style:ne({left:`${U.value}%`,width:`${Math.max(0,z.value-U.value)}%`})},null,4)]),t("div",ds,[t("input",{type:"range",min:"0",max:q,step:"100",value:V.value,class:"absolute inset-0 h-6 w-full bg-transparent opacity-0",onInput:b,"aria-label":"Controle mÃ­nimo"},null,40,cs),t("input",{type:"range",min:"0",max:q,step:"100",value:P.value,class:"absolute inset-0 h-6 w-full bg-transparent opacity-0",onInput:g,"aria-label":"Controle mÃ¡ximo"},null,40,ps),t("div",{class:"pointer-events-none absolute top-1/2 h-4 w-4 -translate-y-1/2 rounded-full border border-slate-200 bg-white shadow",style:ne({left:`calc(${U.value}% - 8px)`})},null,4),t("div",{class:"pointer-events-none absolute top-1/2 h-4 w-4 -translate-y-1/2 rounded-full border border-slate-200 bg-white shadow",style:ne({left:`calc(${z.value}% - 8px)`})},null,4)]),o[25]||(o[25]=t("div",{class:"mt-1 flex items-center justify-between text-[10px] font-semibold text-slate-400"},[t("span",null,"R$ 0"),t("span",null,"R$ 10.000")],-1))])]),t("footer",ms,[t("button",{type:"button",class:"h-[52px] w-full rounded-xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)] disabled:opacity-60",disabled:!ae.value,onClick:o[11]||(o[11]=r=>M("apply",l.value))}," Aplicar filtros ",8,vs),t("div",fs,h(R.resultsCount)+" transaÃ§Ãµes encontradas",1)])])])])):B("",!0),j(At,{open:N.value,start:l.value.rangeStart,end:l.value.rangeEnd,"onUpdate:start":o[12]||(o[12]=r=>l.value.rangeStart=r),"onUpdate:end":o[13]||(o[13]=r=>l.value.rangeEnd=r),onClose:o[14]||(o[14]=r=>N.value=!1)},null,8,["open","start","end"])],64))}}),bs={key:0,class:"fixed inset-0 z-[85] bg-white"},gs={class:"flex items-center gap-3 px-5 pb-4 pt-[calc(1rem+env(safe-area-inset-top))]"},hs={class:"flex-1 text-xl font-semibold tracking-tight text-slate-900"},ws={class:"mx-auto w-full max-w-md px-5 pb-[calc(6rem+env(safe-area-inset-bottom))]"},ys={key:0,class:"flex min-h-[70vh] items-center justify-center"},ks={key:1,class:"flex min-h-[70vh] flex-col items-center justify-center"},Cs={class:"mt-10 h-2 w-full overflow-hidden rounded-full bg-slate-100"},$s={class:"mt-3 text-xs font-semibold text-slate-400"},Ms={key:2,class:"mt-4 space-y-3"},_s={class:"flex flex-1 items-center gap-3"},Bs=["onUpdate:modelValue"],Fs={class:"text-sm font-semibold text-slate-900"},Ds={class:"text-sm font-semibold text-[#EF4444]"},Ts={key:0,class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},Is={class:"mx-auto w-full max-w-md"},Ns=["disabled"],Ls=pe({__name:"ImportInvoiceModal",props:{open:{type:Boolean}},emits:["close","imported"],setup(R,{emit:K}){const k=R,M=K,T=()=>M("close"),l=c("pick"),A=c(null),$=c(0),N=c([]),L=c(null),f=c(null);let v=null;const F=()=>{l.value="pick",A.value=null,$.value=0,N.value=[],v&&(window.clearInterval(v),v=null)};W(()=>k.open,b=>{b&&F()}),lt(()=>F());const D=()=>L.value?.click(),E=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),y=b=>{A.value=b,l.value="analyzing",$.value=0,v&&window.clearInterval(v),v=window.setInterval(()=>{$.value=Math.min(100,$.value+4),$.value>=100&&v&&(window.clearInterval(v),v=null)},60),window.setTimeout(()=>{l.value="review",N.value=[{id:"netflix",title:"Netflix",amount:44.9,selected:!0},{id:"uber",title:"Uber",amount:25,selected:!0}],$.value=100},1500)},V=b=>{const g=b.target,_=g.files?.[0];_&&(y(_),g.value="")},P=x(()=>N.value.filter(b=>b.selected).length),U=x(()=>P.value>0),z=()=>{M("imported",{importedCount:P.value,items:N.value.filter(b=>b.selected).map(b=>({title:b.title,amount:b.amount}))}),T()};return(b,g)=>R.open?(u(),d("div",bs,[t("header",gs,[l.value!=="review"?(u(),d("button",{key:0,type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Voltar",onClick:T},[...g[0]||(g[0]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])])):B("",!0),t("div",hs,h(l.value==="review"?"Revisar":"Importar fatura"),1),l.value==="review"?(u(),d("button",{key:1,type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Fechar",onClick:T},[...g[1]||(g[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])):B("",!0)]),t("main",ws,[t("input",{ref_key:"fileInput",ref:L,class:"hidden",type:"file",accept:"application/pdf,image/*",onChange:V},null,544),t("input",{ref_key:"cameraInput",ref:f,class:"hidden",type:"file",accept:"image/*",capture:"environment",onChange:V},null,544),l.value==="pick"?(u(),d("div",ys,[t("div",{class:"w-full rounded-[28px] border-2 border-dashed border-slate-200 bg-white p-8 text-center"},[g[4]||(g[4]=ye('<div class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400"><svg class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path><path d="M8 13h8"></path><path d="M8 17h6"></path></svg></div><div class="mt-6 text-lg font-semibold text-slate-900">Adicione a fatura</div><div class="mt-1 text-sm font-semibold text-slate-400">PDF (foto em breve)</div>',3)),t("div",{class:"mt-8 space-y-3"},[g[3]||(g[3]=ye('<button type="button" class="flex h-12 w-full cursor-not-allowed items-center justify-center gap-2 rounded-2xl bg-slate-300 text-sm font-semibold text-slate-500" disabled><svg class="h-5 w-5 opacity-50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7h4l2-2h4l2 2h4v12H4V7Z"></path><circle cx="12" cy="13" r="3"></circle></svg><span class="line-through opacity-60">Tirar foto</span><span class="rounded-full bg-slate-400 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-white">Em breve</span></button>',1)),t("button",{type:"button",class:"flex h-12 w-full items-center justify-center gap-2 rounded-2xl border border-[#14B8A6] bg-white text-sm font-semibold text-[#14B8A6]",onClick:D},[...g[2]||(g[2]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 7h6l2 2h8v10H4V7Z"})],-1),ke(" Escolher arquivo ",-1)])])])])])):l.value==="analyzing"?(u(),d("div",ks,[g[5]||(g[5]=t("div",{class:"relative h-20 w-20"},[t("div",{class:"absolute inset-0 rounded-full border-4 border-slate-100"}),t("div",{class:"absolute inset-0 rounded-full border-4 border-[#14B8A6] border-t-transparent animate-spin"})],-1)),g[6]||(g[6]=t("div",{class:"mt-8 text-lg font-semibold text-slate-900"},"Analisando...",-1)),t("div",Cs,[t("div",{class:"h-full bg-[#14B8A6] transition-all",style:ne({width:`${$.value}%`})},null,4)]),t("div",$s,h(A.value?.name),1)])):(u(),d("div",Ms,[(u(!0),d(G,null,X(N.value,_=>(u(),d("div",{key:_.id,class:"flex items-center justify-between gap-3 rounded-2xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},[t("label",_s,[rt(t("input",{"onUpdate:modelValue":Y=>_.selected=Y,type:"checkbox",class:"h-5 w-5 rounded-md border-slate-300 text-blue-600"},null,8,Bs),[[it,_.selected]]),t("div",Fs,h(_.title),1)]),t("div",Ds,"-"+h(E(_.amount).replace("R$","R$")),1)]))),128))]))]),l.value==="review"?(u(),d("footer",Ts,[t("div",Is,[t("button",{type:"button",class:"h-[52px] w-full rounded-2xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)] disabled:opacity-60",disabled:!U.value,onClick:z}," Importar ",8,Ns)])])):B("",!0)])):B("",!0)}}),Ss={class:"flex items-center justify-between pt-2"},Rs={key:0},As={class:"flex items-center gap-2"},Es={class:"relative"},Ps={class:"mt-5"},js={class:"grid grid-cols-2 divide-x divide-slate-100"},Os={class:"px-4 py-4 text-center"},Vs={class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},Us={class:"px-4 py-4 text-center"},Ks={class:"mt-3 flex flex-wrap items-center gap-2"},zs={class:"mt-4 space-y-4"},Ys={class:"flex items-center justify-between px-1 py-2"},qs={class:"text-xs font-semibold uppercase tracking-wide text-slate-400"},Hs={class:"space-y-3"},Gs=["onClick"],Js={class:"flex items-center gap-4"},Zs={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-50 text-slate-500 ring-1 ring-slate-200/60"},Ws={key:0,class:"h-6 w-6 text-emerald-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Xs={key:1,class:"h-6 w-6 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Qs={key:2,class:"h-6 w-6 text-indigo-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},en={key:3,class:"h-6 w-6 text-amber-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},tn={key:4,class:"h-6 w-6 text-emerald-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},sn={class:"min-w-0 flex-1"},nn={class:"flex flex-wrap items-center gap-2"},an={class:"truncate text-sm font-semibold text-slate-900"},on={key:0,class:"rounded-md bg-red-500 px-2 py-1 text-[10px] font-semibold text-white"},ln={class:"truncate text-xs text-slate-400"},rn={key:0,class:"mt-2 flex flex-wrap gap-2"},un={key:0,class:"inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold bg-[#E6FFFB] text-[#0D9488]"},dn={class:"text-right"},cn={class:"mt-2 flex items-center justify-end gap-2"},pn=["aria-label","onClick"],mn={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},vn={key:1,class:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-2 py-1 text-[10px] font-semibold text-emerald-600"},Mn=pe({__name:"Index",setup(R){const K=ut();x(()=>K.props.auth?.user?.name??"Gabriel");const k=x(()=>K.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),M=kt(),T=x(()=>M.value?Ct:ft),l=x(()=>M.value?{showNav:!0}:{title:"TransaÃ§Ãµes",subtitle:v.value,searchPlaceholder:"Buscar transaÃ§Ã£oâ€¦",newActionLabel:"Nova TransaÃ§Ã£o"}),A=c(new Date),$=x(()=>{const e=new Date,s=[];for(let n=-120;n<=120;n+=1){const a=new Date(e.getFullYear(),e.getMonth()+n,1),i=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(a).replace(".","").toUpperCase();s.push({key:`${a.getFullYear()}-${a.getMonth()}`,label:i,date:a})}return s}),N=`${new Date().getFullYear()}-${new Date().getMonth()}`,L=c($.value.find(e=>e.key===N)?.key??$.value[0]?.key??""),f=x(()=>$.value.find(e=>e.key===L.value)??$.value[0]),v=x(()=>{if(!f.value)return"";const e=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(f.value.date),s=f.value.date.getFullYear();return`${e.charAt(0).toUpperCase()+e.slice(1)} ${s}`}),F=c("all"),D=c("all"),E=c("all"),y=c(k.value.entries??[]),V=x(()=>{const e=new Map;for(const s of k.value.categories??[]){const n=s.type==="income"?"income":s.type==="expense"?"expense":void 0,a=e.get(s.name),i=a?.kind&&n&&a.kind!==n?void 0:a?.kind??n;e.set(s.name,{key:s.name,label:s.name,icon:"other",tone:"slate",kind:i})}return Array.from(e.values())}),P=x(()=>{const e=n=>{const a=n.toLowerCase();return a.includes("nubank")?"purple":a.includes("inter")?"amber":a.includes("carteira")||a.includes("dinheiro")?"emerald":"slate"},s=[];for(const n of k.value.accounts??[])n.type!=="credit_card"&&s.push({key:n.name,label:n.name,subtitle:n.type==="wallet"?"Carteira":"Conta",tone:e(n.name),type:n.type,balance:Number(n.current_balance??0),customColor:n.color??void 0,icon:n.icon??void 0});for(const n of k.value.accounts??[]){if(n.type!=="credit_card")continue;const a=Number(n.credit_limit??0),i=Math.max(0,Number(n.current_balance??0));s.push({key:n.name,label:n.name,subtitle:"CartÃ£o de CrÃ©dito",tone:e(n.name),type:"credit_card",limit:a,used:i,available:a-i,customColor:n.color??void 0,icon:n.icon??void 0})}return s});x(()=>{const e=new Set;for(const s of y.value)s.accountLabel&&e.add(s.accountLabel);return Array.from(e).sort((s,n)=>s.localeCompare(n))});const U=c(!1),z=c(""),b=e=>{z.value=e,U.value=!0},g=e=>!!e.isRecurring&&!e.installment,_=e=>{const s=y.value.findIndex(n=>n.id===e.id);s>=0?y.value[s]=e:y.value.unshift(e)},Y=e=>({kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",isPaid:e.status==="paid"||e.status==="received",isInstallment:!!e.installment,installmentCount:e.installment?xe(e.installment):void 0,tags:e.tags??[]}),Q=async e=>{const s=y.value.find(p=>p.id===e);if(!s||s.kind!=="expense")return;const n=s.status==="paid"?"pending":"paid",a={...Y({...s,status:n}),isPaid:n==="paid"},i=await se(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});_(i.entry),i.entry.status==="paid"&&b("Conta marcada como paga")},ae=x(()=>{let e=y.value;if(F.value==="paid"&&(e=e.filter(a=>a.status==="paid"||a.status==="received")),F.value==="to_pay"&&(e=e.filter(a=>a.status==="pending")),D.value!=="all"&&(e=e.filter(a=>a.kind===D.value)),E.value!=="all"&&(e=e.filter(a=>a.accountLabel===E.value)),I.value.recurrence==="recurring"?e=e.filter(a=>!!a.isRecurring):I.value.recurrence==="non_recurring"&&(e=e.filter(a=>!a.isRecurring)),I.value.period==="today"){const a=new Date;e=e.filter(i=>{if(!i.transactionDate)return!1;const p=ie(i.transactionDate);return p?p.getFullYear()===a.getFullYear()&&p.getMonth()===a.getMonth()&&p.getDate()===a.getDate():!1})}else if(I.value.period==="month"){const a=A.value.getMonth(),i=A.value.getFullYear();e=e.filter(p=>{if(!p.transactionDate)return!1;const C=ie(p.transactionDate);return C?C.getFullYear()===i&&C.getMonth()===a:!1})}else if(I.value.period==="range"){const a=Me(I.value.rangeStart),i=Me(I.value.rangeEnd);if(a&&i){const p=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),C=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),S=Math.min(p,C),we=Math.max(p,C);e=e.filter(_e=>{if(!_e.transactionDate)return!1;const ue=ie(_e.transactionDate);if(!ue)return!1;const Be=new Date(ue.getFullYear(),ue.getMonth(),ue.getDate()).getTime();return Be>=S&&Be<=we})}}const s=I.value.categories;s.length>0&&(e=e.filter(a=>s.includes(a.categoryKey)));const n=I.value.tags;return n.length>0&&(e=e.filter(a=>a.tags.some(i=>n.includes(i)))),e}),m=x(()=>{const e=new Map;for(const s of ae.value){const n=`${s.dateLabel}|${s.dayLabel}`,a=e.get(n)??[];a.push(s),e.set(n,a)}return Array.from(e.entries()).map(([s,n])=>{const[a,i]=s.split("|"),p=n.reduce((C,S)=>C+(S.kind==="income"?S.amount:-S.amount),0);return{dateLabel:a,dayLabel:i,total:p,list:n}})}),o=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),r=c(!1),O=c("current"),oe=c(null),le=c(null),Le=()=>(k.value.accounts??[]).filter(e=>e.type!=="credit_card"&&e.incluir_soma!==!1).reduce((e,s)=>e+Number(s.current_balance??0),0),Se=async e=>{if(!e)return;const[s,n]=e.split("-").map(Number);if(!(!Number.isFinite(s)||!Number.isFinite(n))){r.value=!0;try{const a=await se(`/api/contas-by-month?year=${s}&month=${n}`,{method:"GET"}),i=a?.mode;i&&(O.value=i);const p=a?.accounts??[];oe.value=p.reduce((S,we)=>S+Number(we.current_balance??0),0);const C=Number(a?.balanco??NaN);le.value=Number.isFinite(C)?C:null}catch(a){console.error("Failed to load month cash balance",a),O.value="current",oe.value=null,le.value=null}finally{r.value=!1}}};W(L,e=>{const s=$.value.find(n=>n.key===e);s&&(A.value=s.date),Se(e)},{immediate:!0});const Re=x(()=>O.value==="past"?"Final do mÃªs":O.value==="future"?"Saldo previsto":"Saldo atual"),Ce=x(()=>oe.value??Le()),me=x(()=>le.value??0),re=c(!1),ve=c("expense"),fe=c(null),J=c(!1),ee=c(null),Ae=e=>{const s=String(e.getDate()).padStart(2,"0"),n=e.toLocaleString("pt-BR",{month:"short"}).replace(".","").toUpperCase().slice(0,3);return{dayLabel:s,dateLabel:`DIA ${s} ${n}`}},xe=e=>{if(!e)return 3;const s=e.match(/\/\s*(\d+)/);if(!s)return 3;const n=Number(s[1]);return Number.isFinite(n)&&n>0?n:3},Ee=e=>{if(!e)return"";const s=ie(e);return s?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"long",year:"numeric"}).format(s):e},Pe=e=>{ee.value={id:e.id,title:e.title,amount:e.amount,kind:e.kind,status:e.status,categoryLabel:e.categoryLabel,categoryIcon:e.categoryKey==="food"?"cart":e.categoryKey==="home"?"home":e.categoryKey==="car"?"car":e.kind==="income"?"briefcase":"heart",accountLabel:e.accountLabel,accountIcon:"wallet",dateLabel:Ee(e.transactionDate),installmentLabel:e.installment?e.installment.replace("Parcela ",""):void 0,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null},J.value=!0},je=()=>{ve.value="expense",fe.value=null,re.value=!0},$e=(e,s)=>{const n=y.value.find(i=>i.id===e);if(!n)return;const a=(()=>{const i=P.value.filter(S=>S.type!=="credit_card").map(S=>S.key),p=i[0]??n.accountLabel??"",C=i.find(S=>S!==p)??p;return{from:p,to:C}})();ve.value=n.kind,fe.value={id:s?.mode==="duplicate"?void 0:n.id,kind:n.kind,amount:n.amount,description:n.title,category:n.categoryLabel,account:n.accountLabel,dateKind:n.transactionDate?"other":"today",dateOther:n.transactionDate??"",transactionDate:n.transactionDate??"",isInstallment:!!n.installment,installmentCount:xe(n.installment),isPaid:n.status==="paid"||n.status==="received",tags:n.tags??[],receiptFile:null,receiptUrl:n.receiptUrl??null,receiptName:n.receiptName??null,removeReceipt:!1,transferFrom:a.from,transferTo:a.to,transferDescription:"",despesaFixa:!!n.isFixed,repetir:!!n.isRecurring&&!n.isFixed,recurrenceGroupId:n.recurrenceGroupId??null,isFixed:!!n.isFixed,recurrenceEveryMonths:n.recurrenceEveryMonths??null,recurrenceEndsAt:n.recurrenceEndsAt??null},re.value=!0},Oe=async e=>{if(e.kind==="transfer"){try{await ht(e),b("TransferÃªncia realizada"),vt.reload({only:["bootstrap"]})}catch{b("NÃ£o foi possÃ­vel realizar a transferÃªncia")}return}const s=e.id?route("transactions.update",e.id):route("transactions.store"),n=e.id?"PATCH":"POST",a=await(Te(e)?xt:se)(s,{method:n,body:Te(e)?wt(e):JSON.stringify(yt(e))});_(a.entry),b(e.id?"LanÃ§amento atualizado":"LanÃ§amento criado")},Ve=async()=>{const e=ee.value?.id;e&&(await se(route("transactions.destroy",e),{method:"DELETE"}),y.value=y.value.filter(s=>s.id!==e),J.value=!1,b("LanÃ§amento excluÃ­do"))},Ue=()=>{const e=ee.value?.id;e&&(J.value=!1,$e(e,{mode:"edit"}))},Ke=()=>{const e=ee.value?.id;e&&(J.value=!1,$e(e,{mode:"duplicate"}))},te=c(!1),I=c({categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"}),ze=[{key:"food",label:"AlimentaÃ§Ã£o",icon:"food"},{key:"home",label:"Moradia",icon:"home"},{key:"car",label:"Transporte",icon:"car"}],Ye=c(!1),qe=c(!1),He=c(!1),Ge=()=>{Ye.value=!1,qe.value=!1,He.value=!1};x(()=>D.value==="income"?"Receitas":D.value==="expense"?"Despesas":"Todos os tipos"),x(()=>I.value.categories.length?`Categorias (${I.value.categories.length})`:"Categorias"),x(()=>E.value==="all"?"Contas":E.value);const be=e=>{D.value=e,Ge()},Je=()=>{F.value="all",I.value={categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"},te.value=!1},Ze=e=>{F.value=e.status,I.value=e,te.value=!1},ge=c(!1),he=c(!1),Z=c(!1),We=async e=>{Ae(new Date);for(const n of e.items){const a={kind:"expense",amount:n.amount,description:n.title,category:n.title.toLowerCase().includes("uber")?"Transporte":"Outros",account:"Carteira",dateKind:"today",isPaid:!1,isInstallment:!1},i=await se(route("transactions.store"),{method:"POST",body:JSON.stringify(a)});_(i.entry)}b("Fatura importada com sucesso!")},ie=e=>{const s=String(e??"").split("-").map(C=>Number(C));if(s.length!==3)return null;const[n,a,i]=s;if(!Number.isFinite(n)||!Number.isFinite(a)||!Number.isFinite(i))return null;const p=new Date(n,a-1,i);return Number.isFinite(p.getTime())?p:null},Me=e=>{const s=String(e??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!s)return null;const[,n,a,i]=s,p=new Date(Number(i),Number(a)-1,Number(n));return Number.isFinite(p.getTime())?p:null};c(!1);const Xe=c(!1),Qe=c(null),et=c(!1),tt=c("expense"),st=c(null),nt=e=>{Qe.value=e,Xe.value=!0},at=e=>{const s=(()=>{const n=P.value.filter(p=>p.type!=="credit_card").map(p=>p.key),a=n[0]??e.accountLabel??"",i=n.find(p=>p!==a)??a;return{from:a,to:i}})();tt.value=e.kind,st.value={id:e.id,kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",transactionDate:e.transactionDate??"",isInstallment:!!e.installment,installmentCount:xe(e.installment),isPaid:e.status==="paid"||e.status==="received",tags:e.tags??[],receiptFile:null,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null,removeReceipt:!1,transferFrom:s.from,transferTo:s.to,transferDescription:"",despesaFixa:!!e.isFixed,repetir:!!e.isRecurring&&!e.isFixed,recurrenceGroupId:e.recurrenceGroupId??null,isFixed:!!e.isFixed,recurrenceEveryMonths:e.recurrenceEveryMonths??null,recurrenceEndsAt:e.recurrenceEndsAt??null},et.value=!0};return dt(()=>{const e=new URL(window.location.href),s=e.searchParams.get("open"),n=e.searchParams.get("edit"),a=e.searchParams.get("kind"),i=e.searchParams.get("account");if((a==="income"||a==="expense"||a==="all")&&(D.value=a),i&&(E.value=decodeURIComponent(i)),s){const p=y.value.find(C=>C.id===s);p&&nt(p),e.searchParams.delete("open"),window.history.replaceState({},"",e.toString())}if(n){const p=y.value.find(C=>C.id===n);p&&at(p),e.searchParams.delete("edit"),window.history.replaceState({},"",e.toString())}}),(e,s)=>(u(),Ne(mt(T.value),pt(l.value,{onAdd:je}),{default:ce(()=>[t("header",Ss,[H(M)?(u(),d("div",Rs,[...s[17]||(s[17]=[t("div",{class:"text-2xl font-semibold tracking-tight text-slate-900"},"TransaÃ§Ãµes",-1)])])):B("",!0),t("div",As,[t("button",{type:"button",class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Filtrar",onClick:s[0]||(s[0]=n=>te.value=!0)},[...s[18]||(s[18]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 5h16l-6 7v6l-4 2v-8L4 5Z"})],-1)])]),j(H(ct),{href:e.route("accounts.search"),class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Buscar"},{default:ce(()=>[...s[19]||(s[19]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"7"}),t("path",{d:"M20 20l-3.5-3.5"})],-1)])]),_:1},8,["href"]),t("div",Es,[t("button",{type:"button",class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Mais opÃ§Ãµes",onClick:s[1]||(s[1]=n=>Z.value=!Z.value)},[...s[20]||(s[20]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[t("circle",{cx:"12",cy:"5",r:"2"}),t("circle",{cx:"12",cy:"12",r:"2"}),t("circle",{cx:"12",cy:"19",r:"2"})],-1)])]),Z.value?(u(),d("div",{key:0,class:"fixed inset-0 z-[65]",onClick:s[5]||(s[5]=n=>Z.value=!1)},[t("div",{class:"absolute right-5 top-16 w-56 overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-slate-200/70",onClick:s[4]||(s[4]=De(()=>{},["stop"]))},[t("button",{type:"button",class:"w-full border-b border-slate-100 px-4 py-3 text-left text-sm font-semibold text-slate-900 hover:bg-slate-50",onClick:s[2]||(s[2]=()=>{Z.value=!1,ge.value=!0})}," Importar fatura "),t("button",{type:"button",class:"w-full px-4 py-3 text-left text-sm font-semibold text-slate-900 hover:bg-slate-50",onClick:s[3]||(s[3]=()=>{Z.value=!1,he.value=!0})}," Exportar relatÃ³rio ")])])):B("",!0)])])]),t("div",Ps,[j(Ft,{modelValue:L.value,"onUpdate:modelValue":s[6]||(s[6]=n=>L.value=n),months:$.value},null,8,["modelValue","months"])]),t("div",{class:w(["mt-4 overflow-hidden rounded-3xl bg-white shadow-sm ring-1 ring-slate-200/60",r.value?"opacity-70":""])},[t("div",js,[t("div",Os,[t("div",Vs,h(Re.value),1),t("div",{class:w(["mt-2 text-lg font-semibold",Ce.value>=0?"text-emerald-600":"text-red-500"])},h(o(Ce.value)),3)]),t("div",Us,[s[21]||(s[21]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},"BalanÃ§o mensal",-1)),t("div",{class:w(["mt-2 text-lg font-semibold",me.value>=0?"text-emerald-600":"text-red-500"])},h(me.value>=0?"+":"-")+" "+h(o(Math.abs(me.value))),3)])])],2),t("div",Ks,[t("button",{type:"button",class:w(["rounded-full px-4 py-2 text-sm font-semibold transition",D.value==="all"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[7]||(s[7]=n=>be("all"))}," Todos tipos ",2),t("button",{type:"button",class:w(["rounded-full px-4 py-2 text-sm font-semibold transition",D.value==="income"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[8]||(s[8]=n=>be("income"))}," Receitas ",2),t("button",{type:"button",class:w(["rounded-full px-4 py-2 text-sm font-semibold transition",D.value==="expense"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[9]||(s[9]=n=>be("expense"))}," Despesas ",2)]),t("div",zs,[(u(!0),d(G,null,X(m.value,n=>(u(),d("div",{key:n.dateLabel+n.dayLabel},[t("div",Ys,[t("div",qs,h(n.dateLabel),1),t("div",{class:w(["text-xs font-semibold",n.total>=0?"text-emerald-600":"text-red-500"])},h(n.total>=0?"+":"-")+" "+h(o(Math.abs(n.total)).replace("R$","R$")),3)]),t("div",Hs,[(u(!0),d(G,null,X(n.list,a=>(u(),d("div",{key:a.id,class:"relative overflow-hidden rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60",role:"button",tabindex:"0",onClick:i=>Pe(a)},[t("div",{class:w(["absolute left-0 top-0 h-full w-1.5",a.kind==="income"?"bg-emerald-500":a.priority?"bg-red-500":"bg-transparent"])},null,2),t("div",Js,[t("div",Zs,[a.icon==="gym"?(u(),d("svg",Ws,[...s[22]||(s[22]=[t("path",{d:"M6 8v8"},null,-1),t("path",{d:"M18 8v8"},null,-1),t("path",{d:"M8 10h8"},null,-1),t("path",{d:"M8 14h8"},null,-1),t("path",{d:"M4 10v4"},null,-1),t("path",{d:"M20 10v4"},null,-1)])])):a.icon==="home"?(u(),d("svg",Xs,[...s[23]||(s[23]=[t("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),t("path",{d:"M5 10v10h14V10"},null,-1)])])):a.icon==="car"?(u(),d("svg",Qs,[...s[24]||(s[24]=[t("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),t("path",{d:"M7 16h10"},null,-1),t("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),t("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])])):a.icon==="cart"?(u(),d("svg",en,[...s[25]||(s[25]=[t("path",{d:"M6 6h15l-2 7H7L6 6Z"},null,-1),t("path",{d:"M6 6l-2-2H2"},null,-1),t("circle",{cx:"9",cy:"18",r:"1.5"},null,-1),t("circle",{cx:"17",cy:"18",r:"1.5"},null,-1)])])):(u(),d("svg",tn,[...s[26]||(s[26]=[t("path",{d:"M12 3v18"},null,-1),t("path",{d:"M7 7h5a3 3 0 1 1 0 6H7"},null,-1)])]))]),t("div",sn,[t("div",nn,[t("div",an,h(a.title),1),a.priority?(u(),d("span",on," Prioridade ")):B("",!0)]),t("div",ln,h(a.installment??a.subtitle),1),a.tags.length||g(a)?(u(),d("div",rn,[g(a)?(u(),d("span",un,h(a.isFixed?"ðŸ“Œ Fixa":"ðŸ” Repetir"),1)):B("",!0),(u(!0),d(G,null,X(a.tags,i=>(u(),d("span",{key:i,class:w(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold",i==="Essencial"?"bg-emerald-50 text-emerald-600":i==="Urgente"?"bg-red-50 text-red-500":"bg-slate-100 text-slate-600"])},h(i),3))),128))])):B("",!0)]),t("div",dn,[t("div",{class:w(["text-sm font-semibold",a.kind==="income"?"text-emerald-600":a.status==="paid"?"text-emerald-600 line-through":"text-red-500"])},h(a.kind==="income"?"+":"-")+" "+h(o(a.amount).replace("R$","R$")),3),t("div",cn,[a.kind==="expense"?(u(),d("button",{key:0,type:"button",class:w(["flex h-6 w-6 items-center justify-center rounded-full border-2",a.status==="paid"?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":a.status==="paid"?"Marcar como nÃ£o paga":"Marcar como paga",onClick:De(i=>Q(a.id),["stop"])},[a.status==="paid"?(u(),d("svg",mn,[...s[27]||(s[27]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):B("",!0)],10,pn)):(u(),d("span",vn,[...s[28]||(s[28]=[t("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20 6 9 17l-5-5"})],-1),ke(" Recebido ",-1)])]))])])])],8,Gs))),128))])]))),128))]),j(gt,{open:re.value,kind:ve.value,initial:fe.value,categories:V.value,accounts:P.value,tags:k.value.tags,onClose:s[10]||(s[10]=n=>re.value=!1),onSave:Oe},null,8,["open","kind","initial","categories","accounts","tags"]),j(Mt,{open:J.value,transaction:ee.value,onClose:s[11]||(s[11]=n=>J.value=!1),onEdit:Ue,onDuplicate:Ke,onDelete:Ve},null,8,["open","transaction"]),j(xs,{open:te.value,categories:ze,tags:k.value.tags,initial:I.value,"results-count":ae.value.length,onClose:s[12]||(s[12]=n=>te.value=!1),onClear:Je,onApply:Ze},null,8,["open","tags","initial","results-count"]),j(Ls,{open:ge.value,onClose:s[13]||(s[13]=n=>ge.value=!1),onImported:We},null,8,["open"]),j(Bt,{open:he.value,"default-month-key":L.value,onClose:s[14]||(s[14]=n=>he.value=!1),onExported:s[15]||(s[15]=()=>{b("RelatÃ³rio baixado")})},null,8,["open","default-month-key"]),j($t,{show:U.value,message:z.value,onDismiss:s[16]||(s[16]=n=>U.value=!1)},null,8,["show","message"])]),_:1},16))}});export{Mn as default};
