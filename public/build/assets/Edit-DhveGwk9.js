import{d as _,z as U,R as z,c as m,h as S,g as x,e,x as k,f as i,M as y,a1 as P,q as I,w as a,n as b,o as u,a as C,b as n,l as B,i as L,k as p,t as $,u as O,J as R,p as q,D as H,A as J,I as E,F as Z,m as K}from"./app-Pd0ejbZJ.js";import{A as Q}from"./ApplicationLogo-COI2BWVJ.js";import{_ as W}from"./DeleteUserForm.vue_vue_type_script_setup_true_lang-I6RPUOEd.js";import{_ as X}from"./UpdatePasswordForm.vue_vue_type_script_setup_true_lang-CXm7A628.js";import{_ as Y}from"./UpdateProfileInformationForm.vue_vue_type_script_setup_true_lang-MA95QCUb.js";import{u as ee,_ as te}from"./useIsMobile-CRomRP0o.js";import{_ as se}from"./ChangePasswordModal.vue_vue_type_script_setup_true_lang-DxxDRLc9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputError.vue_vue_type_script_setup_true_lang-C5mRJFY4.js";import"./TextInput.vue_vue_type_script_setup_true_lang-Bk6VXGpu.js";import"./Modal.vue_vue_type_script_setup_true_lang-DjEikzG1.js";import"./PrimaryButton-TirLWYz6.js";const oe={class:"relative"},le=_({__name:"Dropdown",props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:"py-1 bg-white"}},setup(d){const l=d,s=w=>{f.value&&w.key==="Escape"&&(f.value=!1)};U(()=>document.addEventListener("keydown",s)),z(()=>document.removeEventListener("keydown",s));const o=m(()=>({48:"w-48"})[l.width.toString()]),h=m(()=>l.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":l.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),f=S(!1);return(w,v)=>(u(),x("div",oe,[e("div",{onClick:v[0]||(v[0]=M=>f.value=!f.value)},[y(w.$slots,"trigger")]),k(e("div",{class:"fixed inset-0 z-40",onClick:v[1]||(v[1]=M=>f.value=!1)},null,512),[[P,f.value]]),i(I,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:a(()=>[k(e("div",{class:b(["absolute z-50 mt-2 rounded-md shadow-lg",[o.value,h.value]]),style:{display:"none"},onClick:v[2]||(v[2]=M=>f.value=!1)},[e("div",{class:b(["rounded-md ring-1 ring-black ring-opacity-5",d.contentClasses])},[y(w.$slots,"content")],2)],2),[[P,f.value]])]),_:3})]))}}),F=_({__name:"DropdownLink",props:{href:{}},setup(d){return(l,s)=>(u(),C(n(B),{href:d.href,class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"},{default:a(()=>[y(l.$slots,"default")]),_:3},8,["href"]))}}),ae=_({__name:"NavLink",props:{href:{},active:{type:Boolean}},setup(d){const l=d,s=m(()=>l.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,h)=>(u(),C(n(B),{href:d.href,class:b(s.value)},{default:a(()=>[y(o.$slots,"default")]),_:3},8,["href","class"]))}}),V=_({__name:"ResponsiveNavLink",props:{href:{},active:{type:Boolean}},setup(d){const l=d,s=m(()=>l.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,h)=>(u(),C(n(B),{href:d.href,class:b(s.value)},{default:a(()=>[y(o.$slots,"default")]),_:3},8,["href","class"]))}}),re={class:"min-h-screen bg-gray-100"},ne={class:"border-b border-gray-100 bg-white"},ie={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},de={class:"flex h-16 justify-between"},ue={class:"flex"},ce={class:"flex shrink-0 items-center"},fe={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},pe={class:"hidden sm:ms-6 sm:flex sm:items-center"},me={class:"relative ms-3"},he={class:"inline-flex rounded-md"},ve={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},ge={class:"-me-2 flex items-center sm:hidden"},xe={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},be={class:"space-y-1 pb-3 pt-2"},we={class:"border-t border-gray-200 pb-1 pt-4"},ye={class:"px-4"},_e={class:"text-base font-medium text-gray-800"},ke={class:"text-sm font-medium text-gray-500"},$e={class:"mt-3 space-y-1"},Ce={key:0,class:"bg-white shadow"},Be={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Me=_({__name:"AuthenticatedLayout",setup(d){const l=S(!1);return(s,o)=>(u(),x("div",null,[e("div",re,[e("nav",ne,[e("div",ie,[e("div",de,[e("div",ue,[e("div",ce,[i(n(B),{href:s.route("dashboard")},{default:a(()=>[i(Q,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),e("div",fe,[i(ae,{href:s.route("dashboard"),active:s.route().current("dashboard")},{default:a(()=>[...o[1]||(o[1]=[p(" Painel ",-1)])]),_:1},8,["href","active"])])]),e("div",pe,[e("div",me,[i(le,{align:"right",width:"48"},{trigger:a(()=>[e("span",he,[e("button",ve,[p($(s.$page.props.auth.user.name)+" ",1),o[2]||(o[2]=e("svg",{class:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]),content:a(()=>[i(F,{href:s.route("profile.edit")},{default:a(()=>[...o[3]||(o[3]=[p(" Perfil ",-1)])]),_:1},8,["href"]),i(F,{href:s.route("logout"),method:"post",as:"button"},{default:a(()=>[...o[4]||(o[4]=[p(" Sair ",-1)])]),_:1},8,["href"])]),_:1})])]),e("div",ge,[e("button",{onClick:o[0]||(o[0]=h=>l.value=!l.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(u(),x("svg",xe,[e("path",{class:b({hidden:l.value,"inline-flex":!l.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:b({hidden:!l.value,"inline-flex":l.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:b([{block:l.value,hidden:!l.value},"sm:hidden"])},[e("div",be,[i(V,{href:s.route("dashboard"),active:s.route().current("dashboard")},{default:a(()=>[...o[5]||(o[5]=[p(" Painel ",-1)])]),_:1},8,["href","active"])]),e("div",we,[e("div",ye,[e("div",_e,$(s.$page.props.auth.user.name),1),e("div",ke,$(s.$page.props.auth.user.email),1)]),e("div",$e,[i(V,{href:s.route("profile.edit")},{default:a(()=>[...o[6]||(o[6]=[p(" Perfil ",-1)])]),_:1},8,["href"]),i(V,{href:s.route("logout"),method:"post",as:"button"},{default:a(()=>[...o[7]||(o[7]=[p(" Sair ",-1)])]),_:1},8,["href"])])])],2)]),s.$slots.header?(u(),x("header",Ce,[e("div",Be,[y(s.$slots,"header")])])):L("",!0),e("main",null,[y(s.$slots,"default")])])]))}}),Se={class:"relative flex items-center justify-center pt-2"},Ae={class:"mt-8 flex justify-center"},Ee={class:"relative"},Ve={class:"flex h-24 w-24 items-center justify-center overflow-hidden rounded-full bg-slate-200 text-xl font-bold text-slate-700 shadow-sm ring-4 ring-white"},Ne=["src"],je={key:1},Pe=["disabled","aria-label"],Fe=["disabled"],Le={key:0,class:"mt-2 flex items-center gap-2 text-xs font-semibold text-slate-400"},De={key:1,class:"mt-1 text-xs font-semibold text-red-500"},Ge={class:"pt-2"},Te={class:"border-t border-slate-200 pt-6"},Ue={class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},ze={class:"mx-auto w-full max-w-md"},Ie=["disabled"],Oe={class:"py-12"},Re={class:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8"},qe={class:"bg-white p-4 shadow sm:rounded-lg sm:p-8"},He={class:"bg-white p-4 shadow sm:rounded-lg sm:p-8"},Je={class:"bg-white p-4 shadow sm:rounded-lg sm:p-8"},rt=_({__name:"Edit",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(d){const l=ee(),s=O(),o=m(()=>{const c=s.props.auth?.user;return c?.is_google_auth===!0||c?.auth_provider==="google"}),h=m(()=>s.props.auth?.user?.name??"Gabriel Felix"),f=m(()=>s.props.auth?.user?.email??"gab.feelix@gmail.com"),w=m(()=>s.props.auth?.user?.phone??""),v=m(()=>s.props.auth?.user?.avatar_url??s.props.auth?.user?.profile_photo_url??null),M=m(()=>{const c=String(h.value).trim().split(/\s+/).filter(Boolean),t=c[0]?.[0]??"G",g=c.length>1?c[c.length-1]?.[0]:"F";return`${t}${g}`.toUpperCase()}),r=R({name:h.value,email:f.value,phone:w.value,avatar:null});q(()=>[h.value,f.value,w.value],()=>{r.name=h.value,r.email=f.value,r.phone=w.value});const A=S(!1),N=()=>{r.patch(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{K.visit(route("settings"))}})},D=()=>{r.transform(c=>({...c,_method:"patch"})).post(route("profile.update"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{r.avatar=null}})},j=S(null),G=()=>j.value?.click(),T=c=>{const t=c.target.files?.[0]??null;t&&(r.avatar=t,D())};return(c,t)=>(u(),x(Z,null,[i(n(H),{title:"Perfil"}),n(l)?(u(),C(te,{key:0,"show-nav":!1},{default:a(()=>[e("header",Se,[i(n(B),{href:c.route("settings"),class:"absolute left-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Voltar"},{default:a(()=>[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_:1},8,["href"]),t[6]||(t[6]=e("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Editar perfil",-1))]),e("div",Ae,[e("div",Ee,[e("div",Ve,[v.value?(u(),x("img",{key:0,src:v.value,alt:"Foto do perfil",class:"h-full w-full object-cover"},null,8,Ne)):(u(),x("span",je,$(M.value),1))]),e("button",{type:"button",disabled:o.value,class:b(["absolute bottom-1 right-1 flex h-10 w-10 items-center justify-center rounded-full text-white shadow-lg shadow-black/10",o.value?"bg-slate-400 cursor-not-allowed":"bg-[#14B8A6]"]),"aria-label":o.value?"Foto gerenciada pelo Google":"Alterar foto",onClick:G},[...t[7]||(t[7]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 7h4l2-2h4l2 2h4v12H4V7Z"}),e("circle",{cx:"12",cy:"13",r:"3"})],-1)])],10,Pe),e("input",{ref_key:"fileInput",ref:j,class:"hidden",type:"file",accept:"image/*",onChange:T},null,544)])]),e("form",{class:"mt-8 space-y-5 pb-[calc(6rem+env(safe-area-inset-bottom))]",onSubmit:J(N,["prevent"])},[e("div",null,[t[9]||(t[9]=e("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Nome completo",-1)),k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>n(r).name=g),type:"text",disabled:o.value,class:b(["h-12 w-full rounded-2xl border border-slate-200 px-4 text-sm font-semibold focus:outline-none focus:ring-0",o.value?"cursor-not-allowed bg-slate-100 text-slate-500":"bg-white text-slate-700 focus:border-[#14B8A6]"]),"aria-label":"Nome completo"},null,10,Fe),[[E,n(r).name]]),o.value?(u(),x("div",Le,[...t[8]||(t[8]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("path",{d:"M12 16v-4"}),e("path",{d:"M12 8h.01"})],-1),p(" Gerenciado pelo Google ",-1)])])):n(r).errors.name?(u(),x("div",De,$(n(r).errors.name),1)):L("",!0)]),e("div",null,[t[10]||(t[10]=e("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"E-mail",-1)),k(e("input",{"onUpdate:modelValue":t[1]||(t[1]=g=>n(r).email=g),type:"email",disabled:"",class:"h-12 w-full cursor-not-allowed rounded-2xl border border-slate-200 bg-slate-100 px-4 text-sm font-semibold text-slate-500","aria-label":"E-mail"},null,512),[[E,n(r).email]]),t[11]||(t[11]=e("div",{class:"mt-2 flex items-center gap-2 text-xs font-semibold text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"6",y:"11",width:"12",height:"10",rx:"2"}),e("path",{d:"M8 11V8a4 4 0 1 1 8 0v3"})]),p(" Não pode ser alterado ")],-1))]),e("div",null,[t[12]||(t[12]=e("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Telefone (opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[2]||(t[2]=g=>n(r).phone=g),type:"tel",placeholder:"(00) 00000-0000",class:"h-12 w-full rounded-2xl border border-slate-200 bg-white px-4 text-sm font-semibold text-slate-700 placeholder:text-slate-300 focus:border-[#14B8A6] focus:outline-none focus:ring-0","aria-label":"Telefone"},null,512),[[E,n(r).phone]])]),e("div",Ge,[e("div",Te,[t[14]||(t[14]=e("div",{class:"text-base font-semibold text-slate-900"},"Segurança",-1)),e("button",{type:"button",class:"mt-3 inline-flex items-center gap-2 text-sm font-semibold text-[#14B8A6]",onClick:t[3]||(t[3]=g=>A.value=!0)},[...t[13]||(t[13]=[p(" Trocar senha ",-1),e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1)])])])])],32),e("div",Ue,[e("div",ze,[e("button",{type:"button",class:"h-[52px] w-full rounded-2xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)] disabled:opacity-60",disabled:n(r).processing,onClick:N}," Salvar alterações ",8,Ie)])]),i(se,{open:A.value,onClose:t[4]||(t[4]=g=>A.value=!1)},null,8,["open"])]),_:1})):(u(),C(Me,{key:1},{header:a(()=>[...t[15]||(t[15]=[e("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Perfil ",-1)])]),default:a(()=>[e("div",Oe,[e("div",Re,[e("div",qe,[i(Y,{"must-verify-email":d.mustVerifyEmail,status:d.status,class:"max-w-xl"},null,8,["must-verify-email","status"])]),e("div",He,[i(X,{class:"max-w-xl"})]),e("div",Je,[i(W,{class:"max-w-xl"})])])])]),_:1}))],64))}});export{rt as default};
