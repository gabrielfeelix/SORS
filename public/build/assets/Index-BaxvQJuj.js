import{d as fe,h as d,c as x,p as ne,a as je,T as lt,f as A,q as Le,w as ve,g as m,i as F,e as t,t as w,b as G,o as c,F as J,r as se,n as k,j as te,k as Me,s as _e,v as rt,x as it,y as ut,u as dt,z as ct,l as mt,A as Re,B as pt,C as vt,m as Ae}from"./app-CbuCxuU_.js";import{_ as ft,r as ue,a as bt}from"./DesktopShell.vue_vue_type_script_setup_true_lang-B_oLxcMm.js";import{q as xt,_ as gt,T as ht,e as yt,h as Ee,b as wt,a as kt}from"./TransactionModal-DmfPvAbK.js";import{u as Ct,_ as $t}from"./useIsMobile-eLMgQx8O.js";import{_ as _t}from"./MobileToast.vue_vue_type_script_setup_true_lang-DTyMSePK.js";import{_ as Mt}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-BD8b1D3X.js";import{p as pe,f as Pe}from"./inputGuards-BV9ov3X1.js";import{_ as Bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ft}from"./ExportReportModal.vue_vue_type_script_setup_true_lang-D5jccOay.js";import{_ as Dt}from"./MonthNavigator.vue_vue_type_script_setup_true_lang-BI3xRVJY.js";import"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-CbqwTzyl.js";import"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-COrG5pUr.js";const St={key:0,class:"fixed inset-0 z-[80]"},Tt={key:0,class:"absolute inset-x-0 bottom-0 mx-auto w-full max-w-md rounded-t-[28px] bg-white px-5 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_60px_-40px_rgba(15,23,42,0.55)] md:max-w-xl",role:"dialog","aria-modal":"true"},Nt={class:"relative mt-4 flex items-center justify-center"},It={class:"mt-6 rounded-2xl bg-white ring-1 ring-slate-200/60"},Lt={class:"flex items-center justify-between px-4 py-3 text-sm font-semibold text-slate-700"},Rt={class:"capitalize"},At=fe({__name:"DateRangePickerSheet",props:{open:{type:Boolean},start:{},end:{}},emits:["close","update:start","update:end"],setup(E,{emit:q}){const y=E,M=q,T=d(null),l=b=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(b),P=b=>{const p=String(b??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!p)return null;const[,D,S,j]=p,C=new Date(Number(j),Number(S)-1,Number(D));return Number.isFinite(C.getTime())?C:null},$=x(()=>{const b=T.value?.[0]??null;return b?new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(b):""});ne(()=>y.open,b=>{if(!b)return;const p=P(y.start)??new Date,D=P(y.end)??p;T.value=[p,D]});const N=b=>{!b?.[0]||!b?.[1]||(T.value=b,M("update:start",l(b[0])),M("update:end",l(b[1])))},B=()=>{const b=new Date,p=new Date(b.getFullYear(),b.getMonth(),b.getDate());T.value=[p,p],M("update:start",l(p)),M("update:end",l(p))};return(b,p)=>(c(),je(lt,{to:"body"},[A(Le,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:ve(()=>[E.open?(c(),m("div",St,[t("button",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm",type:"button",onClick:p[0]||(p[0]=D=>M("close")),"aria-label":"Fechar"}),A(Le,{"enter-active-class":"transition duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:ve(()=>[E.open?(c(),m("div",Tt,[p[4]||(p[4]=t("div",{class:"mx-auto h-1.5 w-12 rounded-full bg-slate-200"},null,-1)),t("div",Nt,[p[3]||(p[3]=t("div",{class:"text-lg font-semibold text-slate-900"},"Qual perÃ­odo?",-1)),t("button",{type:"button",class:"absolute right-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-500","aria-label":"Fechar",onClick:p[1]||(p[1]=D=>M("close"))},[...p[2]||(p[2]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",{class:"mt-5 grid grid-cols-1 gap-3"},[t("button",{type:"button",class:"h-12 rounded-2xl bg-slate-50 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200/60",onClick:B}," Hoje ")]),t("div",It,[t("div",Lt,[t("div",Rt,w($.value),1)]),A(G(xt),{"model-value":T.value,"onUpdate:modelValue":N,inline:!0,"enable-time-picker":!1,"auto-apply":!0,"week-start":0,locale:"pt-BR",range:""},null,8,["model-value"])])])):F("",!0)]),_:1})])):F("",!0)]),_:1})]))}}),Et=Bt(At,[["__scopeId","data-v-a39bce0f"]]),Pt={key:0,class:"fixed inset-0 z-[75]"},jt={class:"absolute inset-x-0 bottom-0 h-[650px] max-h-[calc(100vh-150px)] w-full overflow-hidden rounded-t-[24px] bg-white shadow-[0_-4px_20px_rgba(0,0,0,0.25)]"},Vt={class:"flex h-full flex-col"},Ot={class:"relative flex h-14 items-center justify-between px-4"},zt={class:"flex-1 overflow-y-auto px-6 pb-6 pt-2"},Ut={class:"mt-3 grid grid-cols-2 gap-3"},Kt=["onClick"],Yt={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},qt={class:"flex items-center gap-2 text-sm font-semibold text-slate-600"},Ht={key:0,class:"h-5 w-5 text-amber-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Gt={key:1,class:"h-5 w-5 text-blue-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Jt={key:2,class:"h-5 w-5 text-slate-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Zt={class:"mt-3 flex flex-wrap gap-3"},Wt=["onClick"],Xt={key:0,class:"text-xs font-semibold text-slate-400"},Qt={class:"mt-3 flex flex-wrap gap-3"},en={class:"mt-3 flex flex-wrap gap-3"},tn={class:"mt-3 flex flex-wrap gap-3"},nn={class:"mt-3 grid grid-cols-2 gap-5"},sn={class:"mt-2 border-b border-slate-200 pb-2"},an={class:"flex items-center gap-2 text-xs font-semibold text-slate-900"},on=["value"],ln={class:"mt-2 border-b border-slate-200 pb-2"},rn={class:"flex items-center gap-2 text-xs font-semibold text-slate-900"},un=["value"],dn={class:"mt-4"},cn={class:"relative h-2 rounded-full bg-slate-200"},mn={class:"relative mt-2 h-6"},pn=["value"],vn=["value"],fn={class:"px-6 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3"},bn=["disabled"],xn={class:"mt-3 text-center text-xs font-semibold text-slate-400"},H=1e6,gn=fe({__name:"TransactionFilterModal",props:{open:{type:Boolean},categories:{},tags:{},initial:{},resultsCount:{}},emits:["close","apply","clear"],setup(E,{emit:q}){const y=E,M=q,T=()=>M("close"),l=d({categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"});ne(()=>y.open,u=>{u&&(l.value={...y.initial,categories:[...y.initial.categories],tags:[...y.initial.tags]})});const P=u=>{const o=new Set(l.value.categories);o.has(u)?o.delete(u):o.add(u),l.value.categories=Array.from(o)},$=u=>{const o=new Set(l.value.tags);o.has(u)?o.delete(u):o.add(u),l.value.tags=Array.from(o)},N=d(!1),B=()=>{l.value.period="range",N.value=!0},b=u=>!!String(u??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/),p=x(()=>l.value.period!=="range"?"":!b(l.value.rangeStart)||!b(l.value.rangeEnd)?"Selecione um perÃ­odo":`${l.value.rangeStart} â€” ${l.value.rangeEnd}`),D=u=>{const o=u.target;l.value.min=Pe(o.value)},S=u=>{const o=u.target;l.value.max=Pe(o.value)},j=u=>{const r=u.replace(/[^\d]/g,"").padStart(3,"0"),Y=Number(r);return Number.isFinite(Y)?Y:0},C=u=>{const o=Math.max(0,Math.floor(u)),r=String(o).padStart(3,"0"),Y=r.slice(-2);return`${(r.slice(0,-2).replace(/^0+/,"")||"0").replace(/\B(?=(\d{3})+(?!\d))/g,".")},${Y}`},U=x(()=>Math.min(H,j(l.value.min))),z=x(()=>Math.min(H,j(l.value.max))),K=x(()=>U.value/H*100),Z=x(()=>z.value/H*100);ne(()=>l.value.min,()=>{const u=U.value,o=z.value;u>o&&(l.value.max=C(u))}),ne(()=>l.value.max,()=>{const u=U.value,o=z.value;o<u&&(l.value.min=C(o))});const W=u=>{const o=Number(u.target.value),r=Math.max(0,Math.min(o,z.value));l.value.min=C(r)},h=u=>{const o=Number(u.target.value),r=Math.min(H,Math.max(o,U.value));l.value.max=C(r)},v=u=>l.value.period===u?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",g=u=>l.value.status===u?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",I=u=>l.value.recurrence===u?"border-[#14B8A6] text-[#14B8A6] bg-[#E6FFFB]":"border-slate-200 text-slate-600 bg-white",V=x(()=>l.value.period!=="range"?!0:b(l.value.rangeStart)&&b(l.value.rangeEnd));return(u,o)=>(c(),m(J,null,[E.open?(c(),m("div",Pt,[t("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:T,"aria-label":"Fechar"}),t("div",jt,[t("div",Vt,[t("header",Ot,[t("button",{class:"h-10 w-10 rounded-full bg-slate-100 text-slate-500",type:"button",onClick:T,"aria-label":"Fechar"},[...o[15]||(o[15]=[t("svg",{class:"mx-auto h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])]),o[16]||(o[16]=t("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[t("div",{class:"text-[16px] font-bold text-[#1F2937]"},"Filtrar transaÃ§Ãµes")],-1)),t("button",{type:"button",class:"text-sm font-semibold text-[#14B8A6]",onClick:o[0]||(o[0]=r=>M("clear"))},"Limpar")]),t("div",zt,[o[26]||(o[26]=t("div",{class:"text-sm font-bold text-slate-900"},"Categorias",-1)),t("div",Ut,[(c(!0),m(J,null,se(E.categories,r=>(c(),m("button",{key:r.key,type:"button",class:"flex items-center gap-3 rounded-xl bg-white px-3 py-3 text-left",onClick:Y=>P(r.key)},[t("span",{class:k(["flex h-6 w-6 items-center justify-center rounded-md border",l.value.categories.includes(r.key)?"border-[#14B8A6] bg-[#14B8A6]":"border-slate-200 bg-white"])},[l.value.categories.includes(r.key)?(c(),m("svg",Yt,[...o[17]||(o[17]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):F("",!0)],2),t("span",qt,[r.icon==="food"?(c(),m("svg",Ht,[...o[18]||(o[18]=[_e('<path d="M4 3v7"></path><path d="M8 3v7"></path><path d="M6 3v7"></path><path d="M14 3v7c0 2 1 3 3 3v8"></path><path d="M20 3v7"></path>',5)])])):r.icon==="home"?(c(),m("svg",Gt,[...o[19]||(o[19]=[t("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),t("path",{d:"M5 10v10h14V10"},null,-1)])])):(c(),m("svg",Jt,[...o[20]||(o[20]=[t("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),t("path",{d:"M7 16h10"},null,-1),t("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),t("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])])),Me(" "+w(r.label),1)])],8,Kt))),128))]),o[27]||(o[27]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Tags",-1)),t("div",Zt,[(c(!0),m(J,null,se(y.tags,r=>(c(),m("button",{key:r.id,type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",l.value.tags.includes(r.nome)?r.cor?"":"border-[#14B8A6] bg-[#E6FFFB] text-[#14B8A6]":"border-slate-200 bg-white text-slate-600"]),style:te(l.value.tags.includes(r.nome)&&r.cor?{borderColor:r.cor,backgroundColor:`${r.cor}1A`,color:r.cor}:void 0),onClick:Y=>$(r.nome)},w(r.nome),15,Wt))),128)),y.tags.length===0?(c(),m("div",Xt,"VocÃª ainda nÃ£o tem tags.")):F("",!0)]),o[28]||(o[28]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Status",-1)),t("div",Qt,[t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",g("all")]),onClick:o[1]||(o[1]=r=>l.value.status="all")}," Todas ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",g("paid")]),onClick:o[2]||(o[2]=r=>l.value.status="paid")}," Pagas ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",g("to_pay")]),onClick:o[3]||(o[3]=r=>l.value.status="to_pay")}," A pagar ",2)]),o[29]||(o[29]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"RecorrÃªncia",-1)),t("div",en,[t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",I("all")]),onClick:o[4]||(o[4]=r=>l.value.recurrence="all")}," Todas ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",I("recurring")]),onClick:o[5]||(o[5]=r=>l.value.recurrence="recurring")}," SÃ³ recorrentes ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",I("non_recurring")]),onClick:o[6]||(o[6]=r=>l.value.recurrence="non_recurring")}," SÃ³ nÃ£o recorrentes ",2)]),o[30]||(o[30]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"PerÃ­odo",-1)),t("div",tn,[t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",v("today")]),onClick:o[7]||(o[7]=r=>l.value.period="today")}," Hoje ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",v("month")]),onClick:o[8]||(o[8]=r=>l.value.period="month")}," Este mÃªs ",2),t("button",{type:"button",class:k(["rounded-full border px-4 py-2 text-sm font-semibold",v("range")]),onClick:B}," Outro perÃ­odo ",2)]),l.value.period==="range"?(c(),m("button",{key:0,type:"button",class:"mt-3 w-full rounded-2xl bg-slate-50 px-4 py-3 text-left text-sm font-semibold text-slate-700 ring-1 ring-slate-200/60",onClick:B},w(p.value),1)):F("",!0),o[31]||(o[31]=t("div",{class:"mt-6 text-sm font-bold text-slate-900"},"Valor",-1)),t("div",nn,[t("div",null,[o[22]||(o[22]=t("div",{class:"text-xs font-bold text-slate-400"},"MÃNIMO",-1)),t("div",sn,[t("div",an,[o[21]||(o[21]=t("span",{class:"text-slate-500"},"R$",-1)),t("input",{class:"w-full appearance-none border-0 bg-transparent text-xs font-semibold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",value:l.value.min,inputmode:"numeric",pattern:"[0-9]*",onInput:D,onKeydown:o[9]||(o[9]=(...r)=>G(pe)&&G(pe)(...r)),"aria-label":"Valor mÃ­nimo"},null,40,on)])])]),t("div",null,[o[24]||(o[24]=t("div",{class:"text-xs font-bold text-slate-400"},"MÃXIMO",-1)),t("div",ln,[t("div",rn,[o[23]||(o[23]=t("span",{class:"text-slate-500"},"R$",-1)),t("input",{class:"w-full appearance-none border-0 bg-transparent text-xs font-semibold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",value:l.value.max,inputmode:"numeric",pattern:"[0-9]*",onInput:S,onKeydown:o[10]||(o[10]=(...r)=>G(pe)&&G(pe)(...r)),"aria-label":"Valor mÃ¡ximo"},null,40,un)])])])]),t("div",dn,[t("div",cn,[t("div",{class:"absolute h-2 rounded-full bg-[#14B8A6]",style:te({left:`${K.value}%`,width:`${Math.max(0,Z.value-K.value)}%`})},null,4)]),t("div",mn,[t("input",{type:"range",min:"0",max:H,step:"100",value:U.value,class:"absolute inset-0 h-6 w-full bg-transparent opacity-0",onInput:W,"aria-label":"Controle mÃ­nimo"},null,40,pn),t("input",{type:"range",min:"0",max:H,step:"100",value:z.value,class:"absolute inset-0 h-6 w-full bg-transparent opacity-0",onInput:h,"aria-label":"Controle mÃ¡ximo"},null,40,vn),t("div",{class:"pointer-events-none absolute top-1/2 h-4 w-4 -translate-y-1/2 rounded-full border border-slate-200 bg-white shadow",style:te({left:`calc(${K.value}% - 8px)`})},null,4),t("div",{class:"pointer-events-none absolute top-1/2 h-4 w-4 -translate-y-1/2 rounded-full border border-slate-200 bg-white shadow",style:te({left:`calc(${Z.value}% - 8px)`})},null,4)]),o[25]||(o[25]=t("div",{class:"mt-1 flex items-center justify-between text-[10px] font-semibold text-slate-400"},[t("span",null,"R$ 0"),t("span",null,"R$ 10.000")],-1))])]),t("footer",fn,[t("button",{type:"button",class:"h-[52px] w-full rounded-xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)] disabled:opacity-60",disabled:!V.value,onClick:o[11]||(o[11]=r=>M("apply",l.value))}," Aplicar filtros ",8,bn),t("div",xn,w(E.resultsCount)+" transaÃ§Ãµes encontradas",1)])])])])):F("",!0),A(Et,{open:N.value,start:l.value.rangeStart,end:l.value.rangeEnd,"onUpdate:start":o[12]||(o[12]=r=>l.value.rangeStart=r),"onUpdate:end":o[13]||(o[13]=r=>l.value.rangeEnd=r),onClose:o[14]||(o[14]=r=>N.value=!1)},null,8,["open","start","end"])],64))}}),hn={key:0,class:"fixed inset-0 z-[85] bg-white"},yn={class:"flex items-center gap-3 px-5 pb-4 pt-[calc(1rem+env(safe-area-inset-top))]"},wn={class:"flex-1 text-xl font-semibold tracking-tight text-slate-900"},kn={class:"mx-auto w-full max-w-md px-5 pb-[calc(6rem+env(safe-area-inset-bottom))]"},Cn={key:0,class:"flex min-h-[70vh] items-center justify-center"},$n={key:1,class:"flex min-h-[70vh] flex-col items-center justify-center"},_n={class:"mt-10 h-2 w-full overflow-hidden rounded-full bg-slate-100"},Mn={class:"mt-3 text-xs font-semibold text-slate-400"},Bn={key:2,class:"mt-4 space-y-3"},Fn={class:"flex flex-1 items-center gap-3"},Dn=["onUpdate:modelValue"],Sn={class:"text-sm font-semibold text-slate-900"},Tn={class:"text-sm font-semibold text-[#EF4444]"},Nn={key:0,class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},In={class:"mx-auto w-full max-w-md"},Ln=["disabled"],Rn=fe({__name:"ImportInvoiceModal",props:{open:{type:Boolean}},emits:["close","imported"],setup(E,{emit:q}){const y=E,M=q,T=()=>M("close"),l=d("pick"),P=d(null),$=d(0),N=d([]),B=d(null),b=d(null);let p=null;const D=()=>{l.value="pick",P.value=null,$.value=0,N.value=[],p&&(window.clearInterval(p),p=null)};ne(()=>y.open,h=>{h&&D()}),rt(()=>D());const S=()=>B.value?.click(),j=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),C=h=>{const v=h.trim().split(`
`).filter(V=>V.trim());if(v.length===0)return[];const g=[],I=new Set;for(let V=1;V<v.length;V++){const u=v[V].trim();if(!u)continue;const o=u.split(",").map(oe=>oe.trim().replace(/^["']|["']$/g,""));if(o.length<2)continue;const r=o[0]||"MovimentaÃ§Ã£o",Y=o[1],O=Math.abs(parseFloat(Y.replace(/[^\d.-]/g,"")));if(!Number.isFinite(O)||O===0)continue;const X=`${r}-${O}-${V}`;I.has(`${r}-${O}`)||(g.push({id:X,title:r.substring(0,100),amount:Math.round(O*100)/100,selected:!0}),I.add(`${r}-${O}`))}return g},U=h=>{P.value=h,l.value="analyzing",$.value=0,p&&window.clearInterval(p),p=window.setInterval(()=>{$.value=Math.min(100,$.value+4),$.value>=100&&p&&(window.clearInterval(p),p=null)},60);const v=new FileReader;v.onload=()=>{window.setTimeout(()=>{const g=v.result,I=C(g);l.value="review",N.value=I.length>0?I:[{id:"netflix",title:"Netflix",amount:44.9,selected:!0},{id:"uber",title:"Uber",amount:25,selected:!0}],$.value=100},1500)},v.onerror=()=>{window.setTimeout(()=>{l.value="review",N.value=[{id:"netflix",title:"Netflix",amount:44.9,selected:!0},{id:"uber",title:"Uber",amount:25,selected:!0}],$.value=100},1500)},v.readAsText(h)},z=h=>{const v=h.target,g=v.files?.[0];g&&(U(g),v.value="")},K=x(()=>N.value.filter(h=>h.selected).length),Z=x(()=>K.value>0),W=()=>{M("imported",{importedCount:K.value,items:N.value.filter(h=>h.selected).map(h=>({title:h.title,amount:h.amount}))}),T()};return(h,v)=>E.open?(c(),m("div",hn,[t("header",yn,[l.value!=="review"?(c(),m("button",{key:0,type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Voltar",onClick:T},[...v[0]||(v[0]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])])):F("",!0),t("div",wn,w(l.value==="review"?"Revisar":"Importar fatura"),1),l.value==="review"?(c(),m("button",{key:1,type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Fechar",onClick:T},[...v[1]||(v[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])):F("",!0)]),t("main",kn,[t("input",{ref_key:"fileInput",ref:B,class:"hidden",type:"file",accept:".csv,application/csv,text/csv,application/pdf,image/*",onChange:z},null,544),t("input",{ref_key:"cameraInput",ref:b,class:"hidden",type:"file",accept:"image/*",capture:"environment",onChange:z},null,544),l.value==="pick"?(c(),m("div",Cn,[t("div",{class:"w-full rounded-[28px] border-2 border-dashed border-slate-200 bg-white p-8 text-center"},[v[4]||(v[4]=_e('<div class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-slate-100 text-slate-400"><svg class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><path d="M14 2v6h6"></path><path d="M8 13h8"></path><path d="M8 17h6"></path></svg></div><div class="mt-6 text-lg font-semibold text-slate-900">Adicione a fatura</div><div class="mt-1 text-sm font-semibold text-slate-400">CSV ou PDF</div>',3)),t("div",{class:"mt-8 space-y-3"},[v[3]||(v[3]=_e('<button type="button" class="flex h-12 w-full cursor-not-allowed items-center justify-center gap-2 rounded-2xl bg-slate-300 text-sm font-semibold text-slate-500" disabled><svg class="h-5 w-5 opacity-50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7h4l2-2h4l2 2h4v12H4V7Z"></path><circle cx="12" cy="13" r="3"></circle></svg><span class="line-through opacity-60">Tirar foto</span><span class="rounded-full bg-slate-400 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-white">Em breve</span></button>',1)),t("button",{type:"button",class:"flex h-12 w-full items-center justify-center gap-2 rounded-2xl border border-[#14B8A6] bg-white text-sm font-semibold text-[#14B8A6]",onClick:S},[...v[2]||(v[2]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 7h6l2 2h8v10H4V7Z"})],-1),Me(" Escolher arquivo ",-1)])])])])])):l.value==="analyzing"?(c(),m("div",$n,[v[5]||(v[5]=t("div",{class:"relative h-20 w-20"},[t("div",{class:"absolute inset-0 rounded-full border-4 border-slate-100"}),t("div",{class:"absolute inset-0 rounded-full border-4 border-[#14B8A6] border-t-transparent animate-spin"})],-1)),v[6]||(v[6]=t("div",{class:"mt-8 text-lg font-semibold text-slate-900"},"Analisando...",-1)),t("div",_n,[t("div",{class:"h-full bg-[#14B8A6] transition-all",style:te({width:`${$.value}%`})},null,4)]),t("div",Mn,w(P.value?.name),1)])):(c(),m("div",Bn,[(c(!0),m(J,null,se(N.value,g=>(c(),m("div",{key:g.id,class:"flex items-center justify-between gap-3 rounded-2xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},[t("label",Fn,[it(t("input",{"onUpdate:modelValue":I=>g.selected=I,type:"checkbox",class:"h-5 w-5 rounded-md border-slate-300 text-blue-600"},null,8,Dn),[[ut,g.selected]]),t("div",Sn,w(g.title),1)]),t("div",Tn,"-"+w(j(g.amount).replace("R$","R$")),1)]))),128))]))]),l.value==="review"?(c(),m("footer",Nn,[t("div",In,[t("button",{type:"button",class:"h-[52px] w-full rounded-2xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)] disabled:opacity-60",disabled:!Z.value,onClick:W}," Importar ",8,Ln)])])):F("",!0)])):F("",!0)}}),An={class:"flex items-center justify-between pt-2"},En={key:0},Pn={class:"flex items-center gap-2"},jn={class:"relative"},Vn={class:"mt-5"},On={class:"grid grid-cols-2 divide-x divide-slate-100"},zn={class:"px-4 py-4 text-center"},Un={class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},Kn={class:"px-4 py-4 text-center"},Yn={class:"mt-3 flex flex-wrap items-center gap-2"},qn={class:"mt-4 space-y-4"},Hn={class:"flex items-center justify-between px-1 py-2"},Gn={class:"text-xs font-semibold uppercase tracking-wide text-slate-400"},Jn={class:"space-y-3"},Zn=["onClick"],Wn={class:"flex items-center gap-4"},Xn={class:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-50 text-slate-500 ring-1 ring-slate-200/60"},Qn={class:"min-w-0 flex-1"},es={class:"flex flex-wrap items-center gap-2"},ts={class:"truncate text-sm font-semibold text-slate-900"},ns={key:0,class:"rounded-md bg-red-500 px-2 py-1 text-[10px] font-semibold text-white"},ss={class:"truncate text-xs text-slate-400"},as={key:0,class:"mt-2 flex flex-wrap gap-2"},os={key:0,class:"inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold bg-[#E6FFFB] text-[#0D9488]"},ls={class:"text-right"},rs={class:"mt-2 flex items-center justify-end gap-2"},is=["aria-label","onClick"],us={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},ds={key:1,class:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-2 py-1 text-[10px] font-semibold text-emerald-600"},Cs=fe({__name:"Index",setup(E){const q=dt();x(()=>q.props.auth?.user?.name??"Gabriel");const y=x(()=>q.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),M=Ct(),T=x(()=>M.value?$t:ft),l=x(()=>M.value?{showNav:!0}:{title:"TransaÃ§Ãµes",subtitle:p.value,searchPlaceholder:"Buscar transaÃ§Ã£oâ€¦",newActionLabel:"Nova TransaÃ§Ã£o"}),P=d(new Date),$=x(()=>{const e=new Date,s=[];for(let n=-120;n<=120;n+=1){const a=new Date(e.getFullYear(),e.getMonth()+n,1),i=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(a).replace(".","").toUpperCase();s.push({key:`${a.getFullYear()}-${a.getMonth()}`,label:i,date:a})}return s}),N=`${new Date().getFullYear()}-${new Date().getMonth()}`,B=d($.value.find(e=>e.key===N)?.key??$.value[0]?.key??""),b=x(()=>$.value.find(e=>e.key===B.value)??$.value[0]),p=x(()=>{if(!b.value)return"";const e=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(b.value.date),s=b.value.date.getFullYear();return`${e.charAt(0).toUpperCase()+e.slice(1)} ${s}`}),D=d("all"),S=d("all"),j=d("all"),C=d(y.value.entries??[]),U=e=>String(e??"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),z=x(()=>new Map((y.value.categories??[]).map(e=>[`${e.type}|${U(e.name)}`,e]))),K=e=>{const s=e.kind==="income"?"income":"expense",n=U(e.categoryLabel??"");return z.value.get(`${s}|${n}`)??z.value.get(`expense|${n}`)??null},Z=x(()=>{const e=new Map;for(const s of y.value.categories??[]){const n=s.type==="income"?"income":s.type==="expense"?"expense":void 0,a=e.get(s.name),i=a?.kind&&n&&a.kind!==n?void 0:a?.kind??n;e.set(s.name,{key:s.name,label:s.name,icon:s.icon??"other",tone:"slate",customColor:s.color??void 0,kind:i})}return Array.from(e.values())}),W=x(()=>{const e=n=>{const a=n.toLowerCase();return a.includes("nubank")?"purple":a.includes("inter")?"amber":a.includes("carteira")||a.includes("dinheiro")?"emerald":"slate"},s=[];for(const n of y.value.accounts??[])n.type!=="credit_card"&&s.push({key:n.name,label:n.name,subtitle:n.type==="wallet"?"Carteira":"Conta",tone:e(n.name),type:n.type,balance:Number(n.current_balance??0),customColor:n.color??void 0,icon:n.icon??void 0});for(const n of y.value.accounts??[]){if(n.type!=="credit_card")continue;const a=Number(n.credit_limit??0),i=Math.max(0,Number(n.current_balance??0));s.push({key:n.name,label:n.name,subtitle:"CartÃ£o de CrÃ©dito",tone:e(n.name),type:"credit_card",limit:a,used:i,available:a-i,customColor:n.color??void 0,icon:n.icon??void 0})}return s});x(()=>{const e=new Set;for(const s of C.value)s.accountLabel&&e.add(s.accountLabel);return Array.from(e).sort((s,n)=>s.localeCompare(n))});const h=d(!1),v=d(""),g=e=>{v.value=e,h.value=!0},I=e=>!!e.isRecurring&&!e.installment,V=e=>{const s=C.value.findIndex(n=>n.id===e.id);s>=0?C.value[s]=e:C.value.unshift(e)},u=e=>({kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",isPaid:e.status==="paid"||e.status==="received",isInstallment:!!e.installment,installmentCount:e.installment?Fe(e.installment):void 0,tags:e.tags??[]}),o=async e=>{const s=C.value.find(f=>f.id===e);if(!s||s.kind!=="expense")return;const n=s.status==="paid"?"pending":"paid",a={...u({...s,status:n}),isPaid:n==="paid"},i=await ue(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});V(i.entry),i.entry.status==="paid"&&g("Conta marcada como paga"),Ae.reload({only:["bootstrap"]}),le(B.value)},r=x(()=>{let e=C.value;if(D.value==="paid"&&(e=e.filter(a=>a.status==="paid"||a.status==="received")),D.value==="to_pay"&&(e=e.filter(a=>a.status==="pending")),S.value!=="all"&&(e=e.filter(a=>a.kind===S.value)),j.value!=="all"&&(e=e.filter(a=>a.accountLabel===j.value)),L.value.recurrence==="recurring"?e=e.filter(a=>!!a.isRecurring):L.value.recurrence==="non_recurring"&&(e=e.filter(a=>!a.isRecurring)),L.value.period==="today"){const a=new Date;e=e.filter(i=>{if(!i.transactionDate)return!1;const f=ce(i.transactionDate);return f?f.getFullYear()===a.getFullYear()&&f.getMonth()===a.getMonth()&&f.getDate()===a.getDate():!1})}else if(L.value.period==="month"){const a=P.value.getMonth(),i=P.value.getFullYear();e=e.filter(f=>{if(!f.transactionDate)return!1;const _=ce(f.transactionDate);return _?_.getFullYear()===i&&_.getMonth()===a:!1})}else if(L.value.period==="range"){const a=Te(L.value.rangeStart),i=Te(L.value.rangeEnd);if(a&&i){const f=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime(),_=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime(),R=Math.min(f,_),$e=Math.max(f,_);e=e.filter(Ne=>{if(!Ne.transactionDate)return!1;const me=ce(Ne.transactionDate);if(!me)return!1;const Ie=new Date(me.getFullYear(),me.getMonth(),me.getDate()).getTime();return Ie>=R&&Ie<=$e})}}const s=L.value.categories;s.length>0&&(e=e.filter(a=>s.includes(a.categoryKey)));const n=L.value.tags;return n.length>0&&(e=e.filter(a=>a.tags.some(i=>n.includes(i)))),e}),Y=x(()=>{const e=new Map;for(const s of r.value){const n=`${s.dateLabel}|${s.dayLabel}`,a=e.get(n)??[];a.push(s),e.set(n,a)}return Array.from(e.entries()).map(([s,n])=>{const[a,i]=s.split("|"),f=n.reduce((_,R)=>_+(R.kind==="income"?R.amount:-R.amount),0);return{dateLabel:a,dayLabel:i,total:f,list:n}})}),O=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),X=d(!1),ae=d("current"),oe=d(null),be=d(null),Ve=()=>(y.value.accounts??[]).filter(e=>e.type!=="credit_card"&&e.incluir_soma!==!1).reduce((e,s)=>e+Number(s.current_balance??0),0),le=async e=>{if(!e)return;const[s,n]=e.split("-").map(Number);if(!(!Number.isFinite(s)||!Number.isFinite(n))){X.value=!0;try{const a=await ue(`/api/contas-by-month?year=${s}&month=${n}`,{method:"GET"}),i=a?.mode;i&&(ae.value=i);const f=a?.accounts??[];oe.value=f.reduce((R,$e)=>R+Number($e.current_balance??0),0);const _=Number(a?.balanco??NaN);be.value=Number.isFinite(_)?_:null}catch(a){console.error("Failed to load month cash balance",a),ae.value="current",oe.value=null,be.value=null}finally{X.value=!1}}};ne(B,e=>{const s=$.value.find(n=>n.key===e);s&&(P.value=s.date),le(e)},{immediate:!0});const Oe=x(()=>ae.value==="past"?"Final do mÃªs":ae.value==="future"?"Saldo previsto":"Saldo atual"),Be=x(()=>oe.value??Ve()),xe=x(()=>be.value??0),de=d(!1),ge=d("expense"),he=d(null),Q=d(!1),re=d(null),ze=e=>{const s=String(e.getDate()).padStart(2,"0"),n=e.toLocaleString("pt-BR",{month:"short"}).replace(".","").toUpperCase().slice(0,3);return{dayLabel:s,dateLabel:`DIA ${s} ${n}`}},Fe=e=>{if(!e)return 3;const s=e.match(/\/\s*(\d+)/);if(!s)return 3;const n=Number(s[1]);return Number.isFinite(n)&&n>0?n:3},Ue=e=>{if(!e)return"";const s=ce(e);return s?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"long",year:"numeric"}).format(s):e},Ke=e=>{const s=e.toLowerCase();return s.includes("carteira")||s.includes("wallet")?"wallet":s.includes("card")||s.includes("crÃ©dito")||s.includes("credito")?"card":"bank"},De=e=>{const s=(e.icon??"").toLowerCase();if(["food","home","car","game","heart","briefcase","pill","money","trend","bolt","cart","shirt","gym","sparkles"].includes(s))return s;const n=(e.categoryLabel??"").toLowerCase();return n.includes("alimentaÃ§Ã£o")||n.includes("comida")?"cart":n.includes("moradia")||n.includes("home")?"home":n.includes("transporte")||n.includes("carro")?"car":n.includes("lazer")||n.includes("game")?"sparkles":n.includes("saÃºde")||n.includes("health")?"heart":n.includes("salÃ¡rio")||n.includes("renda")?"money":n.includes("trabalho")||n.includes("freelance")?"briefcase":"bolt"},Ye=e=>(K(e)?.icon??null)||De(e),qe=e=>{const s=K(e)?.color??null;return s?{color:s}:void 0},Se=e=>{const s=K(e),n=(y.value.accounts??[]).find(a=>a.name===e.accountLabel)??null;re.value={id:e.id,title:e.title,amount:e.amount,kind:e.kind,status:e.status,categoryLabel:e.categoryLabel,categoryIcon:(s?.icon??null)||De(e),categoryColor:s?.color??null,accountLabel:e.accountLabel,accountIcon:Ke(e.accountLabel),accountType:n?.type??null,accountInstitution:n?.institution??null,accountSvgPath:n?.svgPath??null,accountColor:n?.color??null,accountSystemIcon:n?.icon??null,dateLabel:Ue(e.transactionDate),installmentLabel:e.installment?e.installment.replace("Parcela ",""):void 0,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null},Q.value=!0},He=()=>{ge.value="expense",he.value=null,de.value=!0},ye=(e,s)=>{const n=C.value.find(i=>String(i.id)===String(e));if(!n)return;const a=(()=>{const i=W.value.filter(R=>R.type!=="credit_card").map(R=>R.key),f=i[0]??n.accountLabel??"",_=i.find(R=>R!==f)??f;return{from:f,to:_}})();ge.value=n.kind,he.value={id:s?.mode==="duplicate"?void 0:n.id,kind:n.kind,amount:n.amount,description:n.title,category:n.categoryLabel,account:n.accountLabel,dateKind:n.transactionDate?"other":"today",dateOther:n.transactionDate??"",transactionDate:n.transactionDate??"",isInstallment:!!n.installment,installmentCount:Fe(n.installment),isPaid:n.status==="paid"||n.status==="received",tags:n.tags??[],receiptFile:null,receiptUrl:n.receiptUrl??null,receiptName:n.receiptName??null,removeReceipt:!1,transferFrom:a.from,transferTo:a.to,transferDescription:"",despesaFixa:!!n.isFixed,repetir:!!n.isRecurring&&!n.isFixed,recurrenceGroupId:n.recurrenceGroupId??null,isFixed:!!n.isFixed,recurrenceEveryMonths:n.recurrenceEveryMonths??null,recurrenceEndsAt:n.recurrenceEndsAt??null},de.value=!0},Ge=async e=>{if(e.kind==="transfer"){try{await yt(e),g("TransferÃªncia realizada"),Ae.reload({only:["bootstrap"]}),le(B.value)}catch{g("NÃ£o foi possÃ­vel realizar a transferÃªncia")}return}const s=e.id?route("transactions.update",e.id):route("transactions.store"),n=e.id?"PATCH":"POST",a=await(Ee(e)?bt:ue)(s,{method:n,body:Ee(e)?wt(e):JSON.stringify(kt(e))});V(a.entry),g(e.id?"LanÃ§amento atualizado":"LanÃ§amento criado"),le(B.value)},Je=async()=>{const e=re.value?.id;e&&(await ue(route("transactions.destroy",e),{method:"DELETE"}),C.value=C.value.filter(s=>s.id!==e),Q.value=!1,g("LanÃ§amento excluÃ­do"),le(B.value))},Ze=()=>{const e=re.value?.id;e&&(Q.value=!1,ye(e,{mode:"edit"}))},We=()=>{const e=re.value?.id;e&&(Q.value=!1,ye(e,{mode:"duplicate"}))},ie=d(!1),L=d({categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"}),Xe=[{key:"food",label:"AlimentaÃ§Ã£o",icon:"food"},{key:"home",label:"Moradia",icon:"home"},{key:"car",label:"Transporte",icon:"car"}],Qe=d(!1),et=d(!1),tt=d(!1),nt=()=>{Qe.value=!1,et.value=!1,tt.value=!1};x(()=>S.value==="income"?"Receitas":S.value==="expense"?"Despesas":"Todos os tipos"),x(()=>L.value.categories.length?`Categorias (${L.value.categories.length})`:"Categorias"),x(()=>j.value==="all"?"Contas":j.value);const we=e=>{S.value=e,nt()},st=()=>{D.value="all",L.value={categories:[],tags:[],period:"month",rangeStart:"",rangeEnd:"",status:"all",recurrence:"all",min:"0,00",max:"10.000,00"},ie.value=!1},at=e=>{D.value=e.status,L.value=e,ie.value=!1},ke=d(!1),Ce=d(!1),ee=d(!1),ot=async e=>{ze(new Date);for(const n of e.items){const a={kind:"expense",amount:n.amount,description:n.title,category:n.title.toLowerCase().includes("uber")?"Transporte":"Outros",account:"Carteira",dateKind:"today",isPaid:!1,isInstallment:!1},i=await ue(route("transactions.store"),{method:"POST",body:JSON.stringify(a)});V(i.entry)}g("Fatura importada com sucesso!")},ce=e=>{const s=String(e??"").split("-").map(_=>Number(_));if(s.length!==3)return null;const[n,a,i]=s;if(!Number.isFinite(n)||!Number.isFinite(a)||!Number.isFinite(i))return null;const f=new Date(n,a-1,i);return Number.isFinite(f.getTime())?f:null},Te=e=>{const s=String(e??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!s)return null;const[,n,a,i]=s,f=new Date(Number(i),Number(a)-1,Number(n));return Number.isFinite(f.getTime())?f:null};return d(!1),d(!1),d(null),d(!1),d("expense"),d(null),ct(()=>{const e=new URL(window.location.href),s=e.searchParams.get("open"),n=e.searchParams.get("edit"),a=e.searchParams.get("kind"),i=e.searchParams.get("account");if((a==="income"||a==="expense"||a==="all")&&(S.value=a),i&&(j.value=decodeURIComponent(i)),s){const f=C.value.find(_=>String(_.id)===String(s));f&&Se(f),e.searchParams.delete("open"),window.history.replaceState({},"",e.toString())}if(n){const f=C.value.find(_=>String(_.id)===String(n));f&&ye(String(f.id),{mode:"edit"}),e.searchParams.delete("edit"),window.history.replaceState({},"",e.toString())}}),(e,s)=>(c(),je(vt(T.value),pt(l.value,{onAdd:He}),{default:ve(()=>[t("header",An,[G(M)?(c(),m("div",En,[...s[17]||(s[17]=[t("div",{class:"text-2xl font-semibold tracking-tight text-slate-900"},"TransaÃ§Ãµes",-1)])])):F("",!0),t("div",Pn,[t("button",{type:"button",class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Filtrar",onClick:s[0]||(s[0]=n=>ie.value=!0)},[...s[18]||(s[18]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 5h16l-6 7v6l-4 2v-8L4 5Z"})],-1)])]),A(G(mt),{href:e.route("accounts.search"),class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Buscar"},{default:ve(()=>[...s[19]||(s[19]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"7"}),t("path",{d:"M20 20l-3.5-3.5"})],-1)])]),_:1},8,["href"]),t("div",jn,[t("button",{type:"button",class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 shadow-sm ring-1 ring-slate-200/60","aria-label":"Mais opÃ§Ãµes",onClick:s[1]||(s[1]=n=>ee.value=!ee.value)},[...s[20]||(s[20]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[t("circle",{cx:"12",cy:"5",r:"2"}),t("circle",{cx:"12",cy:"12",r:"2"}),t("circle",{cx:"12",cy:"19",r:"2"})],-1)])]),ee.value?(c(),m("div",{key:0,class:"fixed inset-0 z-[65]",onClick:s[5]||(s[5]=n=>ee.value=!1)},[t("div",{class:"absolute right-5 top-16 w-56 overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-slate-200/70",onClick:s[4]||(s[4]=Re(()=>{},["stop"]))},[t("button",{type:"button",class:"w-full border-b border-slate-100 px-4 py-3 text-left text-sm font-semibold text-slate-900 hover:bg-slate-50",onClick:s[2]||(s[2]=()=>{ee.value=!1,ke.value=!0})}," Importar fatura "),t("button",{type:"button",class:"w-full px-4 py-3 text-left text-sm font-semibold text-slate-900 hover:bg-slate-50",onClick:s[3]||(s[3]=()=>{ee.value=!1,Ce.value=!0})}," Exportar relatÃ³rio ")])])):F("",!0)])])]),t("div",Vn,[A(Dt,{modelValue:B.value,"onUpdate:modelValue":s[6]||(s[6]=n=>B.value=n),months:$.value},null,8,["modelValue","months"])]),t("div",{class:k(["mt-4 overflow-hidden rounded-3xl bg-white shadow-sm ring-1 ring-slate-200/60",X.value?"opacity-70":""])},[t("div",On,[t("div",zn,[t("div",Un,w(Oe.value),1),t("div",{class:k(["mt-2 text-lg font-semibold",Be.value>=0?"text-emerald-600":"text-red-500"])},w(O(Be.value)),3)]),t("div",Kn,[s[21]||(s[21]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-400"},"BalanÃ§o mensal",-1)),t("div",{class:k(["mt-2 text-lg font-semibold",xe.value>=0?"text-emerald-600":"text-red-500"])},w(xe.value>=0?"+":"-")+" "+w(O(Math.abs(xe.value))),3)])])],2),t("div",Yn,[t("button",{type:"button",class:k(["rounded-full px-4 py-2 text-sm font-semibold transition",S.value==="all"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[7]||(s[7]=n=>we("all"))}," Todos tipos ",2),t("button",{type:"button",class:k(["rounded-full px-4 py-2 text-sm font-semibold transition",S.value==="income"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[8]||(s[8]=n=>we("income"))}," Receitas ",2),t("button",{type:"button",class:k(["rounded-full px-4 py-2 text-sm font-semibold transition",S.value==="expense"?"bg-emerald-500 text-white":"bg-white text-slate-500 ring-1 ring-slate-200/60"]),onClick:s[9]||(s[9]=n=>we("expense"))}," Despesas ",2)]),t("div",qn,[(c(!0),m(J,null,se(Y.value,n=>(c(),m("div",{key:n.dateLabel+n.dayLabel},[t("div",Hn,[t("div",Gn,w(n.dateLabel),1),t("div",{class:k(["text-xs font-semibold",n.total>=0?"text-emerald-600":"text-red-500"])},w(n.total>=0?"+":"-")+" "+w(O(Math.abs(n.total)).replace("R$","R$")),3)]),t("div",Jn,[(c(!0),m(J,null,se(n.list,a=>(c(),m("div",{key:a.id,class:"relative overflow-hidden rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60",role:"button",tabindex:"0",onClick:i=>Se(a)},[t("div",{class:k(["absolute left-0 top-0 h-full w-1.5",a.kind==="income"?"bg-emerald-500":a.priority?"bg-red-500":"bg-transparent"])},null,2),t("div",Wn,[t("div",Xn,[A(gt,{icon:Ye(a),class:"h-6 w-6",style:te(qe(a))},null,8,["icon","style"])]),t("div",Qn,[t("div",es,[t("div",ts,w(a.title),1),a.priority?(c(),m("span",ns," Prioridade ")):F("",!0)]),t("div",ss,w(a.installment??a.subtitle),1),a.tags.length||I(a)?(c(),m("div",as,[I(a)?(c(),m("span",os,w(a.isFixed?"ðŸ“Œ Fixa":"ðŸ” Repetir"),1)):F("",!0),(c(!0),m(J,null,se(a.tags,i=>(c(),m("span",{key:i,class:k(["inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold",i==="Essencial"?"bg-emerald-50 text-emerald-600":i==="Urgente"?"bg-red-50 text-red-500":"bg-slate-100 text-slate-600"])},w(i),3))),128))])):F("",!0)]),t("div",ls,[t("div",{class:k(["text-sm font-semibold",a.kind==="income"?"text-emerald-600":a.status==="paid"?"text-emerald-600 line-through":"text-red-500"])},w(a.kind==="income"?"+":"-")+" "+w(O(a.amount).replace("R$","R$")),3),t("div",rs,[a.kind==="expense"?(c(),m("button",{key:0,type:"button",class:k(["flex h-6 w-6 items-center justify-center rounded-full border-2",a.status==="paid"?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":a.status==="paid"?"Marcar como nÃ£o paga":"Marcar como paga",onClick:Re(i=>o(a.id),["stop"])},[a.status==="paid"?(c(),m("svg",us,[...s[22]||(s[22]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):F("",!0)],10,is)):(c(),m("span",ds,[...s[23]||(s[23]=[t("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M20 6 9 17l-5-5"})],-1),Me(" Recebido ",-1)])]))])])])],8,Zn))),128))])]))),128))]),A(ht,{open:de.value,kind:ge.value,initial:he.value,categories:Z.value,accounts:W.value,tags:y.value.tags,onClose:s[10]||(s[10]=n=>de.value=!1),onSave:Ge},null,8,["open","kind","initial","categories","accounts","tags"]),A(Mt,{open:Q.value,transaction:re.value,onClose:s[11]||(s[11]=n=>Q.value=!1),onEdit:Ze,onDuplicate:We,onDelete:Je},null,8,["open","transaction"]),A(gn,{open:ie.value,categories:Xe,tags:y.value.tags,initial:L.value,"results-count":r.value.length,onClose:s[12]||(s[12]=n=>ie.value=!1),onClear:st,onApply:at},null,8,["open","tags","initial","results-count"]),A(Rn,{open:ke.value,onClose:s[13]||(s[13]=n=>ke.value=!1),onImported:ot},null,8,["open"]),A(Ft,{open:Ce.value,"default-month-key":B.value,onClose:s[14]||(s[14]=n=>Ce.value=!1),onExported:s[15]||(s[15]=()=>{g("RelatÃ³rio baixado")})},null,8,["open","default-month-key"]),A(_t,{show:h.value,message:v.value,onDismiss:s[16]||(s[16]=n=>h.value=!1)},null,8,["show","message"])]),_:1},16))}});export{Cs as default};
