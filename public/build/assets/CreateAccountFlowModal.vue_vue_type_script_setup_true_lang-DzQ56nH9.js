import{d as _,h as x,c as h,g as p,i as w,e,x as M,I as D,F as $,r as N,j,t as f,o as m,s as W,p as L,b as I,M as q,n as E,f as S,m as V}from"./app-DvJ-vTb0.js";import{r as O}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";import{m as P,p as z,f as R}from"./inputGuards-BTKUKM9N.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={key:0,class:"fixed inset-0 z-[60]"},K={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},Q={class:"flex h-full flex-col"},G={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},H={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},X={class:"mt-4"},Y={class:"mt-6 grid grid-cols-2 gap-3"},Z=["onClick"],ee={class:"flex h-full flex-col"},te={class:"flex items-start justify-between"},oe={class:"mt-3 flex-1"},se={class:"line-clamp-2 text-sm font-semibold leading-snug text-slate-900"},ne={class:"mt-2 h-1 w-full rounded-full bg-slate-100"},le=_({__name:"CreateAccountStep1",props:{open:{type:Boolean}},emits:["close","select","select-wallet"],setup(i,{emit:g}){const l=g,u=x(""),s=[{nome:"Nubank",logo:"üü£",cor:"#8B10AE"},{nome:"Banco Inter",logo:"üü¢",cor:"#FF7A00"},{nome:"Ita√∫",logo:"üü†",cor:"#EC7000"},{nome:"Bradesco",logo:"üî¥",cor:"#CC092F"},{nome:"Banco do Brasil",logo:"üü°",cor:"#FFDD00"},{nome:"Caixa",logo:"üîµ",cor:"#0066B3"},{nome:"Santander",logo:"üî¥",cor:"#EC0000"},{nome:"C6 Bank",logo:"‚ö´",cor:"#000000"},{nome:"PicPay",logo:"üü¢",cor:"#21C25E"},{nome:"Neon",logo:"üîµ",cor:"#00D9E1"},{nome:"Outro banco",logo:"‚ö™",cor:"#64748B"}],a=h(()=>{const c=u.value.toLowerCase();return c?s.filter(n=>n.nome.toLowerCase().includes(c)):s}),b=c=>{c.nome==="Carteira"?l("select-wallet"):l("select",c)};return(c,n)=>i.open?(m(),p("div",J,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:n[0]||(n[0]=r=>c.$emit("close")),"aria-label":"Fechar"}),e("div",K,[e("div",Q,[e("header",G,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:n[1]||(n[1]=r=>c.$emit("close")),"aria-label":"Fechar"},[...n[3]||(n[3]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])]),n[4]||(n[4]=e("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[e("div",{class:"text-center text-[14px] font-bold text-[#1F2937]"}," Qual √© a institui√ß√£o financeira? ")],-1))]),e("div",H,[e("div",X,[M(e("input",{"onUpdate:modelValue":n[2]||(n[2]=r=>u.value=r),type:"text",placeholder:"üîç Buscar por nome",class:"w-full rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0"},null,512),[[D,u.value]])]),e("div",Y,[(m(!0),p($,null,N(a.value,r=>(m(),p("button",{key:r.nome,type:"button",class:"h-28 w-full overflow-hidden rounded-2xl border border-slate-200 bg-white p-3 text-left shadow-sm ring-1 ring-slate-200/60 transition hover:bg-slate-50",onClick:k=>b(r)},[e("div",ee,[e("div",te,[e("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl text-lg",style:j({backgroundColor:`${r.cor}22`,color:r.cor}),"aria-hidden":"true"},f(r.logo),5),n[5]||(n[5]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[e("path",{d:"M9 5l7 7-7 7"})],-1))]),e("div",oe,[e("div",se,f(r.nome),1)]),e("div",ne,[e("div",{class:"h-1 rounded-full",style:j({width:"40%",backgroundColor:r.cor})},null,4)])])],8,Z))),128))])])])])])):w("",!0)}}),ae={key:0,class:"fixed inset-0 z-[60]"},re={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},ie={class:"flex h-full flex-col"},ce={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},de={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},ue={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-white p-4"},ve={class:"flex items-center gap-2"},be={class:"text-2xl"},pe={class:"font-semibold text-slate-900"},me=_({__name:"CreateAccountStep2",props:{open:{type:Boolean},banco:{}},emits:["back","close","selectMethod"],setup(i,{emit:g}){const l=g;return(u,s)=>i.open?(m(),p("div",ae,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:s[0]||(s[0]=a=>u.$emit("close")),"aria-label":"Fechar"}),e("div",re,[e("div",ie,[e("header",ce,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:s[1]||(s[1]=a=>u.$emit("back")),"aria-label":"Voltar"},[...s[4]||(s[4]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),s[6]||(s[6]=e("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[e("div",{class:"text-[14px] font-bold text-[#1F2937]"},"Nova conta")],-1)),e("button",{class:"ml-auto h-6 w-6 text-[#6B7280]",type:"button",onClick:s[2]||(s[2]=a=>u.$emit("close")),"aria-label":"Fechar"},[...s[5]||(s[5]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",de,[i.banco?(m(),p("div",ue,[e("div",ve,[e("span",be,f(i.banco.logo),1),e("span",pe,f(i.banco.nome),1)])])):w("",!0),s[8]||(s[8]=W('<div class="mt-6"><div class="text-sm font-semibold text-slate-900">De que forma voc√™ quer adicionar essa conta?</div></div><button type="button" disabled class="mt-4 w-full cursor-not-allowed rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-4 text-left opacity-50"><div class="flex items-center justify-between gap-3"><div class="font-semibold text-slate-900">Autom√°tica</div><span class="rounded-full bg-slate-200 px-2 py-0.5 text-[10px] font-bold tracking-wide text-slate-700">EM BREVE</span></div><p class="mt-2 text-xs text-slate-600"> As receitas e despesas ser√£o atualizadas automaticamente uma vez ao dia, cabendo a voc√™ somente categoriz√°-las. </p></button>',2)),e("button",{type:"button",class:"mt-3 w-full rounded-2xl border border-slate-200 bg-white p-4 text-left transition hover:bg-slate-50",onClick:s[3]||(s[3]=a=>l("selectMethod","manual"))},[...s[7]||(s[7]=[e("div",{class:"font-semibold text-slate-900"},"Manual",-1),e("p",{class:"mt-2 text-xs text-slate-600"}," As receitas, despesas e categoriza√ß√µes das transa√ß√µes ter√£o que ser adicionadas manualmente. ",-1)])])])])])])):w("",!0)}}),fe={key:0,class:"fixed inset-0 z-[60]"},xe={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},ge={class:"flex h-full flex-col"},we={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},he={class:"pointer-events-none absolute inset-0 flex items-center justify-center"},ye={class:"text-[14px] font-bold text-[#1F2937]"},ke={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},Ce={key:0,class:"flex justify-center mt-6 mb-6"},Be={class:"mt-6 flex items-center justify-center py-6"},$e={class:"text-center"},_e=["value"],Fe={key:1,class:"mt-6"},Ae={class:"flex items-center justify-between"},Ee={class:"flex items-center gap-2"},Se={class:"text-2xl"},Me={class:"font-semibold text-slate-900"},Ne={class:"mt-6"},je={key:2,class:"mt-6"},Ie={class:"relative rounded-xl border border-[#E5E7EB] bg-[#F9FAFB]"},Ve=["value"],ze={class:"mt-6"},De={class:"flex gap-2"},We=["onClick","aria-label"],Le={class:"mt-6 rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] p-4"},Te={class:"flex items-center justify-between"},qe={class:"shrink-0 border-t border-slate-100 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))]"},Oe={class:"flex gap-3"},Pe=_({__name:"CreateAccountStep3",props:{open:{type:Boolean},banco:{}},emits:["back","close","save"],setup(i,{emit:g}){const l=i,u=g,s=x(""),a=x(""),b=x("corrente"),c=x("#14B8A6"),n=x(!0),r=[{id:"corrente",nome:"Conta corrente",icone:"üèõÔ∏è"},{id:"poupanca",nome:"Poupan√ßa",icone:"üìä"},{id:"investimentos",nome:"Investimentos",icone:"üìà"},{id:"vr_va",nome:"VR/VA",icone:"üé´"},{id:"outros",nome:"Outros",icone:"‚ãØ"}],k=["#14B8A6","#8B10AE","#10B981","#FF7A00"],F=d=>{const t=d.target;s.value=R(t.value)},A=h(()=>P(s.value));h(()=>r.find(d=>d.id===b.value));const C=()=>{s.value="",a.value="",b.value=l.banco?.nome==="Carteira"?"wallet":"corrente",c.value="#14B8A6",n.value=!0},B=(d=!1)=>{l.banco&&(u("save",{banco_nome:l.banco.nome,banco_cor:l.banco.cor,saldo_inicial:A.value,descricao:a.value.trim(),tipo:b.value,cor:c.value,incluir_soma_inicial:n.value},d),d&&(C(),u("back")))};return L(()=>l.open,d=>{d&&C()}),(d,t)=>i.open?(m(),p("div",fe,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:t[0]||(t[0]=o=>d.$emit("close")),"aria-label":"Fechar"}),e("div",xe,[e("div",ge,[e("header",we,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:t[1]||(t[1]=o=>d.$emit("back")),"aria-label":"Voltar"},[...t[10]||(t[10]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e("div",he,[e("div",ye,f(l.banco?.nome==="Carteira"?"Nova Carteira":"Nova conta"),1)]),e("button",{class:"ml-auto h-6 w-6 text-[#6B7280]",type:"button",onClick:t[2]||(t[2]=o=>d.$emit("close")),"aria-label":"Fechar"},[...t[11]||(t[11]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",ke,[l.banco?.nome==="Carteira"?(m(),p("div",Ce,[...t[12]||(t[12]=[W('<div class="flex h-20 w-20 items-center justify-center rounded-3xl bg-teal-50 text-teal-600" data-v-a3e4343c><svg class="h-10 w-10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-a3e4343c><rect x="2" y="5" width="20" height="14" rx="3" data-v-a3e4343c></rect><path d="M2 10h20" data-v-a3e4343c></path><circle cx="16" cy="14" r="2" data-v-a3e4343c></circle></svg></div>',1)])])):w("",!0),e("div",Be,[e("div",$e,[t[13]||(t[13]=e("div",{class:"text-4xl font-bold text-[#14B8A6]"},"R$",-1)),e("input",{class:"mt-2 w-full appearance-none border-0 bg-transparent text-center text-3xl font-bold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",type:"text",inputmode:"numeric",pattern:"[0-9]*",value:s.value,onInput:F,onKeydown:t[3]||(t[3]=(...o)=>I(z)&&I(z)(...o)),placeholder:"0,00","aria-label":"Saldo inicial"},null,40,_e)])]),i.banco&&i.banco.nome!=="Carteira"?(m(),p("div",Fe,[t[15]||(t[15]=e("div",{class:"mb-2 text-xs font-semibold uppercase text-slate-500"},"Institui√ß√£o financeira",-1)),e("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white p-4 text-left transition hover:bg-slate-50",onClick:t[4]||(t[4]=o=>d.$emit("back"))},[e("div",Ae,[e("div",Ee,[e("span",Se,f(i.banco.logo),1),e("span",Me,f(i.banco.nome),1)]),t[14]||(t[14]=e("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 5l7 7-7 7"})],-1))])])])):w("",!0),e("div",Ne,[t[16]||(t[16]=e("div",{class:"mb-2 text-xs font-semibold uppercase text-slate-500"},"Descri√ß√£o (opcional)",-1)),M(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>a.value=o),type:"text",placeholder:"Ex: Conta sal√°rio, Conta pessoal...",class:"w-full appearance-none rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,a.value]])]),l.banco?.nome!=="Carteira"?(m(),p("div",je,[t[18]||(t[18]=e("div",{class:"mb-3 text-xs font-semibold uppercase text-slate-500"},"Tipo de conta",-1)),e("div",Ie,[M(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>b.value=o),class:"relative w-full appearance-none rounded-xl border-0 bg-transparent px-4 py-3 text-sm text-slate-900 focus:outline-none focus:ring-0"},[(m(),p($,null,N(r,o=>e("option",{key:o.id,value:o.id},f(o.icone)+" "+f(o.nome),9,Ve)),64))],512),[[q,b.value]]),t[17]||(t[17]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])):w("",!0),e("div",ze,[t[19]||(t[19]=e("div",{class:"mb-3 text-xs font-semibold uppercase text-slate-500"},"Cor da conta",-1)),e("div",De,[(m(),p($,null,N(k,o=>e("button",{key:o,type:"button",class:E(["h-10 w-10 rounded-lg border-2 transition",c.value===o?"border-gray-800":"border-transparent"]),style:j({backgroundColor:o}),onClick:v=>c.value=o,"aria-label":`Cor ${o}`},null,14,We)),64))])]),e("div",Le,[e("div",Te,[t[20]||(t[20]=e("div",{class:"text-sm text-slate-700"},"Incluir na soma da tela inicial",-1)),e("button",{type:"button",class:E(["relative inline-flex h-6 w-11 items-center rounded-full transition",n.value?"bg-[#14B8A6]":"bg-[#E5E7EB]"]),onClick:t[7]||(t[7]=o=>n.value=!n.value),"aria-label":"Incluir na soma"},[e("span",{class:E(["inline-block h-5 w-5 transform rounded-full bg-white transition",n.value?"translate-x-5":"translate-x-0.5"])},null,2)],2)])])]),e("footer",qe,[e("div",Oe,[e("button",{class:"flex-1 rounded-xl border border-[#E5E7EB] py-3 text-sm font-semibold text-[#6B7280] transition hover:bg-slate-50",type:"button",onClick:t[8]||(t[8]=o=>B(!1))}," Salvar "),e("button",{class:"flex-1 rounded-xl bg-[#14B8A6] py-3 text-sm font-semibold text-white shadow-lg shadow-teal-500/20 transition hover:bg-[#0D9488]",type:"button",onClick:t[9]||(t[9]=o=>B(!0))}," Salvar e Criar Nova ")])])])])])):w("",!0)}}),Re=U(Pe,[["__scopeId","data-v-a3e4343c"]]),He=_({__name:"CreateAccountFlowModal",props:{open:{type:Boolean},startWithWallet:{type:Boolean}},emits:["close","toast"],setup(i,{emit:g}){const l=i,u=g,s=x(1),a=x(null);L(()=>l.open,o=>{o&&(l.startWithWallet?(a.value={nome:"Carteira",logo:"üíº",cor:"#14B8A6"},s.value=3):(s.value=1,a.value=null))});const b=()=>u("close"),c=o=>{a.value=o,s.value=2},n=()=>{a.value={nome:"Carteira",logo:"üíº",cor:"#14B8A6"},s.value=3},r=o=>{o==="manual"&&(s.value=3)},k=(o,v=!1)=>v?{type:"wallet",icon:"wallet"}:{type:"bank",icon:"bank"},F=o=>{const v=o.banco_nome,y=o.descricao?` - ${o.descricao}`:"";return`${v}${y}`.trim()},A=async o=>{const v=a.value?.nome==="Carteira",{type:y,icon:T}=k(o,v);return await O("/api/contas",{method:"POST",body:JSON.stringify({name:F(o),type:y,icon:T,initial_balance:o.saldo_inicial,color:o.cor,incluir_soma:o.incluir_soma_inicial})})},C=async(o,v)=>{try{if(await A(o),u("toast","‚úÖ Conta adicionada!"),v){s.value=1,a.value=null,V.reload();return}V.reload(),b()}catch{u("toast","‚ùå N√£o foi poss√≠vel adicionar a conta")}},B=h(()=>l.open&&s.value===1),d=h(()=>l.open&&s.value===2),t=h(()=>l.open&&s.value===3);return(o,v)=>(m(),p($,null,[S(le,{open:B.value,onClose:b,onSelect:c,onSelectWallet:n},null,8,["open"]),S(me,{open:d.value,banco:a.value,onClose:b,onBack:v[0]||(v[0]=y=>s.value=1),onSelectMethod:r},null,8,["open","banco"]),S(Re,{open:t.value,banco:a.value,onClose:b,onBack:v[1]||(v[1]=y=>s.value=1),onSave:C},null,8,["open","banco"])],64))}});export{He as _};
