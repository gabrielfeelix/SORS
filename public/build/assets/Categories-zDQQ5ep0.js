import{d as U,c as B,h as u,g as a,f as m,a as q,b as A,D as G,w as k,e,l as K,n as h,j as b,o,t as M,x as O,I as z,F as f,r as w,i as Q,G as W,H as X,C as Y}from"./app-CbuCxuU_.js";import{u as ee,_ as te,a as F}from"./useIsMobile-eLMgQx8O.js";import{_ as se,r as N}from"./DesktopShell.vue_vue_type_script_setup_true_lang-B_oLxcMm.js";import{_ as le}from"./MobileToast.vue_vue_type_script_setup_true_lang-DTyMSePK.js";const oe={class:"flex items-center justify-between pt-2"},ae={class:"mt-6 flex gap-3 rounded-2xl bg-slate-100 p-1"},ne={class:"space-y-4 pb-2"},ie={class:"flex justify-center pt-2"},re={class:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-200/60"},de={class:"flex flex-col items-center gap-3"},ue={class:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ce=["d"],ve={class:"text-sm font-semibold text-slate-900"},xe={class:"mt-3 -mx-4 flex gap-3 overflow-x-auto pb-2 px-4 scrollbar-hide"},he=["onClick"],fe={class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},pe=["d"],ge={class:"mt-3 flex gap-2"},me=["onClick"],be={key:0,class:"space-y-4 pb-2"},we={class:"flex justify-center pt-2"},Ce={class:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-200/60"},ye={class:"flex flex-col items-center gap-3"},ke={class:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Me=["d"],_e={class:"text-sm font-semibold text-slate-900"},Be={class:"mb-3 flex items-center gap-2 text-xs font-bold uppercase tracking-wide text-slate-300"},Ne={class:"mt-3 -mx-4 flex gap-3 overflow-x-auto pb-2 px-4 scrollbar-hide"},je=["onClick"],$e={class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ee=["d"],Se={class:"mt-3 flex gap-2"},Ve=["onClick"],Ze={key:0,class:"mt-6 grid grid-cols-2 gap-3 pb-8"},De=["onClick"],He={class:"h-7 w-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Le=["d"],Ae={class:"text-sm font-semibold text-slate-900"},Oe={key:1,class:"mt-8 rounded-3xl border border-dashed border-slate-200 bg-white px-5 py-8 text-center shadow-sm"},Je=U({__name:"Categories",props:{userCategories:{}},setup(T){const j=ee(),I=B(()=>j.value?te:se),P=B(()=>j.value?{showNav:!1}:{title:"Categorias",showSearch:!1,showNewAction:!1}),c=u(T.userCategories||[]),v=u("expense"),C=u(!1),p=u(!1),n=u(null),i=u(""),r=u("home"),d=u("#6B7280"),_=u(!1),$=u(""),x=l=>{$.value=l,_.value=!0},E=B(()=>c.value.filter(l=>l.type===v.value)),S=["cart","food","home","car","sparkles","game","pill","briefcase","heart","shirt","bolt","money","trend","gym"],V=["#6B7280","#EF4444","#F59E0B","#10B981","#3B82F6","#A855F7"],g=l=>{const t={food:"M4 3v7M8 3v7M6 3v7M14 3v7c0 2 1 3 3 3v8M20 3v7",cart:"M6 6h15l-2 7H7L6 6ZM6 6l-2-2H2M9 18a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M17 18a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0",home:"M3 10.5L12 3l9 7.5M5 10v10h14V10",car:"M5 16l1-5 1-3h10l1 3 1 5M7 16h10M8 17a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M16 17a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0",sparkles:"M12 2l1.6 5.2L19 9l-5.4 1.8L12 16l-1.6-5.2L5 9l5.4-1.8L12 2Z",game:"M6 7h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2ZM8 13h2M9 12v2M15 13h2",pill:"M10 14 8 16a4 4 0 0 1-6-6l2-2a4 4 0 0 1 6 6ZM14 10l2-2a4 4 0 0 1 6 6l-2 2a4 4 0 0 1-6-6ZM8 16l8-8",briefcase:"M3 10h18M5 10V8l7-5 7 5v2M6 10v9M18 10v9",heart:"M20 8c0 5-8 10-8 10S4 13 4 8a4 4 0 0 1 8 0 4 4 0 0 1 8 0Z",shirt:"M15 3H9l-2 4h10l-2-4ZM7 7v14M17 7v14",bolt:"M13 2 3 14h8l-1 8 10-12h-8l1-8Z",money:"M3 6h18v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6ZM7 10h0M17 14h0M12 10a2 2 0 1 0 0 4a2 2 0 1 0 0-4",trend:"M3 17l6-6 4 4 8-8M17 7h4v4",gym:"M6 8v8M18 8v8M8 10h8M8 14h8M4 10v4M20 10v4"};return t[l]||t.home},Z=()=>{i.value="",r.value="home",d.value="#6B7280",n.value=null,C.value=!0},J=l=>{n.value=l,i.value=l.name,r.value=l.icon,d.value=l.color,p.value=!0},D=async()=>{if(!i.value.trim()){x("Nome da categoria é obrigatório");return}try{if(n.value){const l=await N(`/api/categories/${n.value.id}`,{method:"PATCH",body:JSON.stringify({name:i.value.trim(),icon:r.value,color:d.value})}),t=c.value.findIndex(s=>s.id===n.value.id);t>=0&&(c.value[t]=l),p.value=!1,x("Categoria atualizada com sucesso!")}else{const l=await N("/api/categories",{method:"POST",body:JSON.stringify({name:i.value.trim(),type:v.value,icon:r.value,color:d.value})});c.value.push(l),C.value=!1,x("Categoria criada com sucesso!")}}catch{x("Erro ao salvar categoria")}},R=async()=>{if(n.value)try{await N(`/api/categories/${n.value.id}`,{method:"DELETE"}),c.value=c.value.filter(l=>l.id!==n.value.id),p.value=!1,x("Categoria excluída com sucesso!")}catch{x("Erro ao excluir categoria")}},H=()=>{C.value=!1,n.value=null},L=()=>{p.value=!1,n.value=null};return(l,t)=>(o(),a(f,null,[m(A(G),{title:"Categorias"}),(o(),q(Y(I.value),W(X(P.value)),{default:k(()=>[e("header",oe,[m(A(K),{href:l.route("dashboard"),class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Voltar"},{default:k(()=>[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_:1},8,["href"]),t[7]||(t[7]=e("div",{class:"text-center"},[e("div",{class:"text-lg font-semibold text-slate-900"},"Categorias")],-1)),e("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-[#14B8A6] text-white shadow-sm","aria-label":"Criar categoria",onClick:Z},[...t[6]||(t[6]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14"}),e("path",{d:"M5 12h14"})],-1)])])]),e("div",ae,[e("button",{type:"button",class:h(["flex-1 rounded-xl px-4 py-2.5 text-sm font-semibold transition",v.value==="expense"?"bg-white text-slate-900 shadow-sm":"bg-transparent text-slate-400"]),onClick:t[0]||(t[0]=s=>v.value="expense")}," Despesas ",2),e("button",{type:"button",class:h(["flex-1 rounded-xl px-4 py-2.5 text-sm font-semibold transition",v.value==="income"?"bg-white text-slate-900 shadow-sm":"bg-transparent text-slate-400"]),onClick:t[1]||(t[1]=s=>v.value="income")}," Receitas ",2)]),m(F,{open:C.value,title:"Nova Categoria",onClose:H},{default:k(()=>[e("div",ne,[e("div",ie,[e("div",re,[e("div",de,[e("div",{class:"flex h-16 w-16 items-center justify-center rounded-2xl text-white shadow-md",style:b({backgroundColor:d.value})},[(o(),a("svg",ue,[e("path",{d:g(r.value)},null,8,ce)]))],4),e("div",ve,M(i.value||"Nova..."),1)])])]),e("div",null,[t[8]||(t[8]=e("div",{class:"mb-3 flex items-center gap-2 text-xs font-bold uppercase tracking-wide text-slate-300"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 7h16M10 3v4M14 3v4M4 11h16v8H4z"})]),e("span",null,"Nome da Categoria")],-1)),O(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value=s),type:"text",placeholder:"Nome da Categoria",class:"h-12 w-full rounded-2xl bg-slate-50 px-4 text-sm font-semibold text-slate-900 placeholder:text-slate-400 ring-1 ring-slate-200/60 focus:outline-none focus:ring-2 focus:ring-[#14B8A6]"},null,512),[[z,i.value]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-xs font-bold uppercase tracking-wide text-slate-300"},"Ícone",-1)),e("div",xe,[(o(),a(f,null,w(S,s=>e("button",{key:s,type:"button",class:h(["flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-800 text-white transition",r.value===s?"ring-2 ring-offset-2 ring-slate-900":""]),onClick:y=>r.value=s},[(o(),a("svg",fe,[e("path",{d:g(s)},null,8,pe)]))],10,he)),64))])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-xs font-bold uppercase tracking-wide text-slate-300"},"Cor",-1)),e("div",ge,[(o(),a(f,null,w(V,s=>e("button",{key:s,type:"button",class:h(["h-10 w-10 rounded-full transition",d.value===s?"ring-2 ring-offset-2 ring-slate-900":""]),style:b({backgroundColor:s}),onClick:y=>d.value=s},null,14,me)),64))])]),e("div",{class:"flex gap-3 pt-4"},[e("button",{type:"button",class:"flex-1 h-12 rounded-2xl bg-slate-100 text-sm font-semibold text-slate-600 transition hover:bg-slate-200",onClick:H}," Cancelar "),e("button",{type:"button",class:"flex-1 h-12 rounded-2xl bg-[#14B8A6] text-sm font-semibold text-white transition hover:bg-[#0D9488]",onClick:D}," Salvar ")])])]),_:1},8,["open"]),m(F,{open:p.value,title:"Editar Categoria",onClose:L},{default:k(()=>[n.value?(o(),a("div",be,[e("div",we,[e("div",Ce,[e("div",ye,[e("div",{class:"flex h-16 w-16 items-center justify-center rounded-2xl text-white shadow-md",style:b({backgroundColor:d.value})},[(o(),a("svg",ke,[e("path",{d:g(r.value)},null,8,Me)]))],4),e("div",_e,M(i.value||n.value.name),1)])])]),e("div",null,[e("div",Be,[t[11]||(t[11]=e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 20h9"}),e("path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"})],-1)),e("span",null,M(i.value||n.value.name),1)]),O(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value=s),type:"text",class:"h-12 w-full rounded-2xl bg-slate-50 px-4 text-sm font-semibold text-slate-900 ring-1 ring-slate-200/60 focus:outline-none focus:ring-2 focus:ring-[#14B8A6]"},null,512),[[z,i.value]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs font-bold uppercase tracking-wide text-slate-300"},"Ícone",-1)),e("div",Ne,[(o(),a(f,null,w(S,s=>e("button",{key:s,type:"button",class:h(["flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-800 text-white transition",r.value===s?"ring-2 ring-offset-2 ring-slate-900":""]),onClick:y=>r.value=s},[(o(),a("svg",$e,[e("path",{d:g(s)},null,8,Ee)]))],10,je)),64))])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-xs font-bold uppercase tracking-wide text-slate-300"},"Cor",-1)),e("div",Se,[(o(),a(f,null,w(V,s=>e("button",{key:s,type:"button",class:h(["h-10 w-10 rounded-full transition",d.value===s?"ring-2 ring-offset-2 ring-slate-900":""]),style:b({backgroundColor:s}),onClick:y=>d.value=s},null,14,Ve)),64))])]),e("div",{class:"flex gap-3 pt-4"},[e("button",{type:"button",class:"flex-1 h-12 rounded-2xl bg-slate-100 text-sm font-semibold text-slate-600 transition hover:bg-slate-200",onClick:L}," Cancelar "),e("button",{type:"button",class:"flex-1 h-12 rounded-2xl bg-[#14B8A6] text-sm font-semibold text-white transition hover:bg-[#0D9488]",onClick:D}," Salvar ")]),e("button",{type:"button",class:"w-full py-2 text-center text-sm font-semibold text-red-500 transition hover:text-red-600",onClick:R}," Excluir Categoria ")])):Q("",!0)]),_:1},8,["open"]),E.value.length>0?(o(),a("div",Ze,[(o(!0),a(f,null,w(E.value,s=>(o(),a("button",{key:s.id,type:"button",class:"flex flex-col items-center gap-3 rounded-3xl bg-white px-4 py-6 shadow-sm ring-1 ring-slate-200/60 transition hover:shadow-md",onClick:y=>J(s)},[e("div",{class:"flex h-14 w-14 items-center justify-center rounded-2xl text-white shadow-sm",style:b({backgroundColor:s.color})},[(o(),a("svg",He,[e("path",{d:g(s.icon)},null,8,Le)]))],4),e("div",Ae,M(s.name),1)],8,De))),128)),e("button",{type:"button",class:"flex flex-col items-center justify-center gap-3 rounded-3xl border-2 border-dashed border-slate-200 bg-white px-4 py-6 transition hover:border-slate-300",onClick:Z},[...t[14]||(t[14]=[e("div",{class:"flex h-14 w-14 items-center justify-center text-slate-300"},[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14"}),e("path",{d:"M5 12h14"})])],-1),e("div",{class:"text-sm font-semibold text-slate-400"},"Nova Categoria",-1)])])])):(o(),a("div",Oe,[...t[15]||(t[15]=[e("div",{class:"mx-auto flex h-16 w-16 items-center justify-center rounded-2xl bg-slate-50 text-slate-400"},[e("svg",{class:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 3h7l1 2h10v14H3z"})])],-1),e("div",{class:"mt-4 text-base font-semibold text-slate-900"},"Nenhuma categoria",-1),e("div",{class:"mt-2 text-sm text-slate-500"},"Crie sua primeira categoria para começar.",-1)])])),m(le,{show:_.value,message:$.value,onDismiss:t[4]||(t[4]=s=>_.value=!1)},null,8,["show","message"])]),_:1},16))],64))}});export{Je as default};
