import{d as xe,h as c,p as Pe,c as o,g as u,i as T,e,s as Ve,x as ae,j as I,t as i,I as le,n as be,o as d,u as Le,f as h,a as Oe,b as fe,D as Re,w as ne,l as Ee,A as ze,k as D,F as H,r as oe,G as Ue,H as qe,C as He,m as J}from"./app-DvJ-vTb0.js";import{u as Je,_ as Ye,a as Ze}from"./useIsMobile-CMH_TBsk.js";import{_ as Ke,r as Y,a as Ge}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";import{T as Qe,h as pe,b as We,a as Xe}from"./TransactionModal-CAPdfSRY.js";import{_ as et}from"./CreditCardModal.vue_vue_type_script_setup_true_lang-BAYISiSL.js";import{_ as tt}from"./ConfirmationModal.vue_vue_type_script_setup_true_lang-DOl0UncE.js";import{_ as st}from"./MobileToast.vue_vue_type_script_setup_true_lang-C8uRLjf5.js";import{_ as at}from"./MonthNavigator.vue_vue_type_script_setup_true_lang-BF8bI4Ys.js";import"./inputGuards-BTKUKM9N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const lt={key:0,class:"fixed inset-0 z-[70]"},nt={class:"absolute inset-x-0 bottom-0 flex max-h-[calc(100vh-1.5rem)] flex-col rounded-t-3xl bg-white shadow-2xl",style:{height:"min(720px, calc(100vh - 1.5rem))"}},ot={class:"flex-1 overflow-y-auto px-5 pb-6 pt-5"},it={class:"mt-6 rounded-3xl bg-slate-50 p-5 ring-1 ring-slate-200/60"},rt={class:"flex items-center justify-between"},dt={class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ut={key:0,d:"M6 15l6-6 6 6"},ct={key:1,d:"M6 9l6 6 6-6"},mt={key:0,class:"mt-3 grid grid-cols-2 gap-3"},vt={class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},ft={class:"mt-2 flex items-center gap-2"},pt={class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},xt={class:"mt-2 flex items-center gap-2"},bt={class:"mt-5 rounded-3xl bg-slate-50 p-5 ring-1 ring-slate-200/60"},gt={class:"flex items-center justify-between text-sm font-semibold text-slate-500"},ht={class:"text-slate-700"},yt={class:"mt-2 flex items-center justify-between text-sm font-semibold text-slate-500"},wt={class:"text-amber-600"},_t={class:"mt-4 border-t border-slate-200/70 pt-4"},kt={class:"flex items-center justify-between text-sm font-semibold text-slate-500"},Ct={class:"text-lg font-semibold text-slate-900"},Mt={class:"mt-2 flex items-center justify-between text-sm font-semibold text-slate-500"},$t={class:"text-slate-700"},Dt=xe({__name:"InstallmentInvoiceSheet",props:{open:{type:Boolean},originalAmount:{},accentColor:{default:"#14B8A6"}},emits:["close","confirm"],setup(y,{emit:Z}){const N=y,P=Z,x=c(3),m=c(!1),r=c(4.5),f=c(12);Pe(()=>N.open,g=>{g&&(x.value=3,m.value=!1,r.value=4.5,f.value=12)});const F=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),k=o(()=>{const g=Math.max(2,Math.min(12,x.value)),n=Math.max(0,Number(r.value)||0)/100,v=Math.max(0,Number(f.value)||0);return N.originalAmount*n*g+v}),V=o(()=>Math.max(0,N.originalAmount+k.value)),w=o(()=>x.value?V.value/x.value:0),S=()=>P("close"),L=()=>P("confirm",{installments:x.value,interestRate:Number(r.value)||0,fee:Number(f.value)||0});return(g,n)=>y.open?(d(),u("div",lt,[e("button",{type:"button",class:"absolute inset-0 bg-black/40 backdrop-blur-sm","aria-label":"Fechar",onClick:S}),e("div",nt,[n[16]||(n[16]=e("div",{class:"mx-auto mt-2 h-1.5 w-12 rounded-full bg-slate-200"},null,-1)),e("div",ot,[n[15]||(n[15]=Ve('<div class="mx-auto flex h-14 w-14 items-center justify-center rounded-2xl bg-amber-50 text-amber-600"><svg class="h-7 w-7" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1v22"></path><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7H14a3.5 3.5 0 0 1 0 7H6"></path></svg></div><div class="mt-4 text-center"><div class="text-xl font-semibold text-slate-900">Parcelar fatura</div><div class="mt-1 text-sm font-semibold text-slate-400">Simule o parcelamento e veja os juros.</div></div>',2)),e("div",it,[e("div",rt,[n[4]||(n[4]=e("div",{class:"text-sm font-semibold text-slate-600"},"Número de parcelas",-1)),e("div",{class:"text-2xl font-semibold",style:I({color:y.accentColor})},i(x.value)+"×",5)]),ae(e("input",{"onUpdate:modelValue":n[0]||(n[0]=v=>x.value=v),type:"range",min:"2",max:"12",step:"1",class:"mt-5 h-2 w-full cursor-pointer appearance-none rounded-full bg-slate-200 accent-[#14B8A6]",style:I({accentColor:y.accentColor})},null,4),[[le,x.value,void 0,{number:!0}]]),n[5]||(n[5]=e("div",{class:"mt-3 flex items-center justify-between text-xs font-semibold text-slate-400"},[e("span",null,"2×"),e("span",null,"12×")],-1))]),e("button",{type:"button",class:be(["mt-5 flex w-full items-center justify-between rounded-2xl px-2 py-3 text-sm font-semibold",m.value?"text-slate-700":"text-[#14B8A6]"]),onClick:n[1]||(n[1]=v=>m.value=!m.value)},[n[6]||(n[6]=e("span",{class:"uppercase tracking-wide"},"Personalizar taxas",-1)),(d(),u("svg",dt,[m.value?(d(),u("path",ut)):(d(),u("path",ct))]))],2),m.value?(d(),u("div",mt,[e("div",vt,[n[8]||(n[8]=e("div",{class:"text-[11px] font-bold uppercase tracking-wide text-slate-400"},"Juros (a.m)",-1)),e("div",ft,[ae(e("input",{"onUpdate:modelValue":n[2]||(n[2]=v=>r.value=v),inputmode:"decimal",class:"w-full appearance-none border-0 bg-transparent text-base font-semibold text-slate-900 outline-none ring-0 focus:ring-0 focus-visible:outline-none"},null,512),[[le,r.value,void 0,{number:!0}]]),n[7]||(n[7]=e("span",{class:"text-sm font-semibold text-slate-500"},"%",-1))])]),e("div",pt,[n[10]||(n[10]=e("div",{class:"text-[11px] font-bold uppercase tracking-wide text-slate-400"},"Multa/IOF",-1)),e("div",xt,[n[9]||(n[9]=e("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),ae(e("input",{"onUpdate:modelValue":n[3]||(n[3]=v=>f.value=v),inputmode:"decimal",class:"w-full appearance-none border-0 bg-transparent text-base font-semibold text-slate-900 outline-none ring-0 focus:ring-0 focus-visible:outline-none"},null,512),[[le,f.value,void 0,{number:!0}]])])])])):T("",!0),e("div",bt,[e("div",gt,[n[11]||(n[11]=e("span",null,"Valor original",-1)),e("span",ht,i(F(y.originalAmount)),1)]),e("div",yt,[n[12]||(n[12]=e("span",null,"Encargos (Juros + Multa)",-1)),e("span",wt,"+ "+i(F(k.value)),1)]),e("div",_t,[e("div",kt,[n[13]||(n[13]=e("span",null,"Valor da parcela",-1)),e("span",Ct,i(F(w.value)),1)]),e("div",Mt,[n[14]||(n[14]=e("span",null,"Total a pagar",-1)),e("span",$t,i(F(V.value)),1)])])]),e("button",{type:"button",class:"mt-6 h-14 w-full rounded-2xl text-base font-semibold text-white shadow-lg shadow-teal-600/25",style:I({backgroundColor:y.accentColor}),onClick:L}," Confirmar parcelamento ",4)])])])):T("",!0)}}),Nt={class:"flex items-center justify-between pt-2"},Ft={class:"text-center"},St={class:"text-lg font-semibold text-slate-900"},Bt={class:"relative"},Tt={class:"mt-6"},It={class:"mt-6 rounded-3xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60"},At={class:"flex items-start justify-between"},jt={class:"mt-2 text-3xl font-bold tracking-tight text-slate-900"},Pt={class:"mt-5 grid grid-cols-2 gap-4 text-xs font-semibold text-slate-500"},Vt={class:"text-slate-900"},Lt={class:"text-right"},Ot={class:"text-slate-900"},Rt={class:"mt-3 h-2 overflow-hidden rounded-full bg-slate-100"},Et={class:"mt-2 flex items-center justify-between text-[11px] font-semibold text-slate-400"},zt={key:0,class:"mt-4 flex items-center gap-2 text-xs font-semibold text-slate-500"},Ut={class:"ml-auto inline-flex items-center gap-2 rounded-full bg-slate-50 px-3 py-1 text-[11px] font-bold text-slate-500 ring-1 ring-slate-200/60"},qt={class:"mt-8 pb-[calc(7rem+env(safe-area-inset-bottom))]"},Ht={key:0,class:"mt-4 rounded-3xl border border-dashed border-slate-200 bg-slate-50 px-5 py-10 text-center"},Jt={key:1,class:"mt-4 space-y-4"},Yt={class:"px-5 py-4 text-xs font-bold uppercase tracking-wide text-slate-400"},Zt={class:"divide-y divide-slate-100"},Kt={class:"min-w-0"},Gt={class:"truncate text-sm font-semibold text-slate-900"},Qt={class:"mt-1 text-xs font-semibold text-slate-400"},Wt={class:"text-right text-sm font-semibold text-slate-900"},Xt={key:0,class:"mt-1 text-[11px] font-semibold text-slate-400"},es={class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},ts={class:"mx-auto flex w-full max-w-md gap-3"},ss=["disabled"],as={class:"space-y-4"},ls={class:"rounded-2xl bg-slate-50 px-4 py-4 ring-1 ring-slate-200/60"},ns={class:"text-xs font-semibold text-slate-500"},os={class:"mt-2 text-2xl font-bold text-slate-900"},is={class:"space-y-3"},rs=["disabled","onClick"],ds={class:"min-w-0 flex-1"},us={class:"flex items-center gap-3"},cs={key:0,class:"h-3 w-3 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},ms={class:"truncate text-sm font-semibold text-slate-900"},vs={class:"mt-2 text-xs font-semibold text-slate-500"},fs={key:0,class:"mt-1 text-xs font-semibold text-amber-600"},ps={key:1,class:"mt-1 text-xs font-semibold text-emerald-600"},xs={class:"mt-2 flex gap-3"},bs=["disabled"],Ns=xe({__name:"Show",props:{accountId:{}},setup(y){const Z=y,N=Je(),P=o(()=>N.value?Ye:Ke),x=Le(),m=o(()=>x.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),r=o(()=>m.value.accounts.find(s=>s.id===Z.accountId)??null),f=o(()=>r.value?.name??"Cartão de crédito"),F=o(()=>N.value?{showNav:!1}:{title:"Cartão de crédito",subtitle:f.value,showSearch:!1,showNewAction:!1}),k=o(()=>String(r.value?.card_brand??"visa")),V=o(()=>k.value==="mastercard"?"Mastercard":k.value==="elo"?"Elo":k.value==="amex"?"Amex":"Visa"),w=o(()=>String(r.value?.color??"#8B5CF6")),S=o(()=>Number(r.value?.credit_limit??0)),L=o(()=>Number(r.value?.closing_day??0)||null),g=o(()=>Number(r.value?.due_day??0)||null),n=o(()=>{const s=new Date,t=[];for(let a=2;a>=-3;a-=1){const l=new Date(s.getFullYear(),s.getMonth()+a,1),p=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(l).replace(".","").toUpperCase();t.push({key:`${l.getFullYear()}-${l.getMonth()}`,label:p,date:l})}return t}),v=c(n.value.find(s=>s.date.getMonth()===new Date().getMonth())?.key??n.value[0]?.key??""),K=o(()=>n.value.find(s=>s.key===v.value)??n.value[0]),G=o(()=>{const s=r.value?.name;return s?(m.value.entries??[]).filter(t=>t.accountLabel===s):[]}),ie=o(()=>{const s=K.value?.date;if(!s)return null;const t=L.value??0,a=s.getFullYear(),l=s.getMonth(),p=new Date(a,l,1),te=new Date(a,l+1,0).getDate(),U=t>0?Math.min(t,te):0;if(!U){const je=new Date(a,l+1,0,23,59,59,999);return{start:p,end:je}}const q=new Date(a,l,U,23,59,59,999),se=new Date(a,l,0).getDate();let B;return t>=se?B=new Date(a,l,1):B=new Date(a,l-1,t+1),B.setHours(0,0,0,0),{start:B,end:q}}),Q=o(()=>{const s=G.value.filter(a=>a.kind==="expense").filter(a=>a.status==="pending").reduce((a,l)=>a+(Number(l.amount)||0),0),t=G.value.filter(a=>a.kind==="income").filter(a=>a.status==="received").reduce((a,l)=>a+(Number(l.amount)||0),0);return Math.max(0,s-t)}),ge=o(()=>S.value?Math.max(0,S.value-Q.value):0),re=o(()=>{const s=ie.value;return s?G.value.filter(t=>{if(!t.transactionDate)return!0;const a=new Date(t.transactionDate);return a>=s.start&&a<=s.end}):[]}),C=o(()=>re.value.filter(s=>s.kind==="expense").filter(s=>s.status==="pending").reduce((s,t)=>s+(Number(t.amount)||0),0)),he=o(()=>{const s=ie.value;return s&&new Date().getTime()>s.end.getTime()?"Fechada":"Aberta"}),de=o(()=>S.value?Math.min(100,Math.max(0,Q.value/S.value*100)):0),ye=o(()=>`${de.value.toFixed(2)}%`),ue=o(()=>{if(!g.value)return"";const s=K.value?.date;if(!s)return"";const t=L.value??0,a=g.value??0;if(!a)return"";let l=s.getFullYear(),p=s.getMonth();t>0&&a<=t&&(p+=1,p>11&&(p=0,l+=1));const te=new Date(l,p+1,0).getDate(),U=Math.min(a,te),q=new Date(l,p,U),se=String(q.getDate()).padStart(2,"0"),B=new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(q).replace(".","").toUpperCase();return`${se} ${B}`}),ce=o(()=>{const s=new Map;for(const t of re.value){const a=t.dateLabel??"SEM DATA",l=s.get(a)??[];l.push(t),s.set(a,l)}return Array.from(s.entries()).map(([t,a])=>({dateLabel:t,list:a}))}),M=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(s),$=c(!1),W=c(!1),me=c(null),X=c(!1),O=c(!1),R=c(!1),ee=c(!1),ve=c(""),b=s=>{ve.value=s,ee.value=!0},A=c(!1),_=c(""),E=c(!1),we=o(()=>{const s=K.value?.date;if(!s)return"";const t=new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(s);return t.charAt(0).toUpperCase()+t.slice(1)}),z=o(()=>(m.value.accounts??[]).filter(s=>s.type!=="credit_card").map(s=>({key:s.name,label:s.name,balance:Number(s.current_balance??0)}))),j=s=>s<C.value,_e=()=>{if(!C.value){b("Fatura já está zerada");return}const s=z.value.find(t=>!j(t.balance));_.value=s?.key??"",A.value=!0},ke=async()=>{if(!r.value)return;const s=z.value.find(l=>l.key===_.value)??null;if(!s||j(s.balance))return;const[t,a]=v.value.split("-").map(Number);E.value=!0;try{await Y(route("api.cartoes.pay-invoice",{cartao:r.value.id}),{method:"POST",body:JSON.stringify({year:t,month:a,pay_account:_.value})}),A.value=!1,b("Fatura paga"),J.reload({only:["bootstrap"]})}catch{b("Não foi possível pagar a fatura")}finally{E.value=!1}},Ce=()=>{$.value=!1,me.value={kind:"expense",amount:0,description:"",category:"Alimentação",account:f.value,dateKind:"today",dateOther:"",isInstallment:!1,installmentCount:1,isPaid:!1,tags:[],receiptFile:null,receiptUrl:null,receiptName:null,removeReceipt:!1,transferFrom:"",transferTo:"",transferDescription:""},W.value=!0},Me=()=>{$.value=!1,X.value=!0},$e=()=>{$.value=!1,O.value=!0},De=o(()=>r.value?{id:String(r.value.id),nome:r.value.name??"Cartão",bandeira:k.value??"visa",limite:Number(r.value.credit_limit??0),dia_fechamento:Number(r.value.closing_day??10),dia_vencimento:Number(r.value.due_day??17),cor:w.value}:null),Ne=async s=>{try{const t=await(pe(s)?Ge:Y)(route("transactions.store"),{method:"POST",body:pe(s)?We(s):JSON.stringify(Xe(s))});return b("Movimentação adicionada"),J.reload({only:["bootstrap"]}),t}catch{return b("Não foi possível adicionar"),null}},Fe=async s=>{if(s.id)try{await Y(`/api/cartoes/${s.id}`,{method:"PATCH",body:JSON.stringify(s)}),b("Cartão atualizado"),J.reload({only:["bootstrap"]})}catch{b("Não foi possível atualizar")}},Se=async()=>{if(r.value)try{await Y(`/api/cartoes/${r.value.id}`,{method:"DELETE"}),b("Cartão excluído"),J.visit(route("dashboard"))}catch{b("Não foi possível excluir")}finally{O.value=!1}},Be=()=>{R.value=!0},Te=s=>{R.value=!1,b("Em breve: parcelamento de fatura")},Ie=o(()=>{const s=new Map;for(const t of m.value.categories??[]){const a=t.type==="income"?"income":t.type==="expense"?"expense":void 0,l=s.get(t.name),p=l?.kind&&a&&l.kind!==a?void 0:l?.kind??a;s.set(t.name,{key:t.name,label:t.name,icon:l?.icon&&l.icon!=="other"?l.icon:t.icon??"other",customColor:l?.customColor??t.color??void 0,kind:p})}return Array.from(s.values())}),Ae=o(()=>(m.value.accounts??[]).map(s=>{const t=s.type,a=Number(s.credit_limit??0),l=Math.max(0,Number(s.current_balance??0));return{key:s.name,label:s.name,subtitle:s.type==="wallet"?"Carteira":s.type==="bank"?"Conta":"Cartão de Crédito",type:t,balance:s.type==="credit_card"?void 0:Number(s.current_balance??0),limit:s.type==="credit_card"?a:void 0,used:s.type==="credit_card"?l:void 0,available:s.type==="credit_card"?a-l:void 0,customColor:s.color??void 0,icon:s.icon??void 0}}));return(s,t)=>(d(),u(H,null,[h(fe(Re),{title:f.value},null,8,["title"]),(d(),Oe(He(P.value),Ue(qe(F.value)),{default:ne(()=>[e("header",Nt,[h(fe(Ee),{href:s.route("dashboard"),class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Voltar"},{default:ne(()=>[...t[11]||(t[11]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_:1},8,["href"]),e("div",Ft,[t[12]||(t[12]=e("div",{class:"text-[11px] font-bold uppercase tracking-wide text-slate-400"},"Cartão de crédito",-1)),e("div",St,i(f.value),1)]),e("div",Bt,[e("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Ações",onClick:t[0]||(t[0]=a=>$.value=!$.value)},[...t[13]||(t[13]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 20a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}),e("path",{d:"M12 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}),e("path",{d:"M12 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"})],-1)])]),$.value?(d(),u("div",{key:0,class:"fixed inset-0 z-[65]",onClick:t[2]||(t[2]=a=>$.value=!1)},[e("div",{class:"absolute right-5 top-16 w-60 overflow-hidden rounded-2xl bg-white shadow-2xl ring-1 ring-slate-200/70",onClick:t[1]||(t[1]=ze(()=>{},["stop"]))},[e("button",{type:"button",class:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:Ce},[...t[14]||(t[14]=[e("span",{class:"flex h-9 w-9 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 5v14"}),e("path",{d:"M5 12h14"})])],-1),D(" Adicionar movimentação ",-1)])]),e("button",{type:"button",class:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:Me},[...t[15]||(t[15]=[e("span",{class:"flex h-9 w-9 items-center justify-center rounded-xl bg-slate-100 text-slate-600"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 20h9"}),e("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4Z"})])],-1),D(" Editar cartão ",-1)])]),e("button",{type:"button",class:"flex w-full items-center gap-3 px-4 py-3 text-left text-sm font-semibold text-red-600 hover:bg-red-50",onClick:$e},[...t[16]||(t[16]=[e("span",{class:"flex h-9 w-9 items-center justify-center rounded-xl bg-red-50 text-red-500"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 6h18"}),e("path",{d:"M8 6V4h8v2"}),e("path",{d:"M6 6l1 16h10l1-16"})])],-1),D(" Excluir cartão ",-1)])])])])):T("",!0)])]),e("div",Tt,[h(at,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=a=>v.value=a),months:n.value},null,8,["modelValue","months"])]),e("section",It,[e("div",At,[e("div",null,[t[17]||(t[17]=e("div",{class:"text-[11px] font-bold uppercase tracking-wide text-slate-400"},"Fatura atual",-1)),e("div",jt,i(M(C.value)),1)]),e("span",{class:"rounded-full px-3 py-1 text-[11px] font-bold",style:I({backgroundColor:`${w.value}22`,color:w.value})},i(he.value),5)]),e("div",Pt,[e("div",null,[t[18]||(t[18]=D(" Usado: ",-1)),e("span",Vt,i(M(Q.value)),1)]),e("div",Lt,[t[19]||(t[19]=D(" Disp: ",-1)),e("span",Ot,i(M(ge.value)),1)])]),e("div",Rt,[e("div",{class:"h-2 rounded-full",style:I({width:`${de.value}%`,backgroundColor:w.value})},null,4)]),e("div",Et,[t[20]||(t[20]=e("span",null,null,-1)),e("span",null,i(ye.value),1)]),ue.value?(d(),u("div",zt,[t[21]||(t[21]=e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"4",width:"18",height:"18",rx:"3"}),e("path",{d:"M8 2v4"}),e("path",{d:"M16 2v4"}),e("path",{d:"M3 10h18"})],-1)),D(" Vence em "+i(ue.value)+" ",1),e("span",Ut,i(V.value),1)])):T("",!0)]),e("section",qt,[t[23]||(t[23]=e("div",{class:"text-lg font-semibold text-slate-900"},"Histórico da fatura",-1)),ce.value.length===0?(d(),u("div",Ht,[...t[22]||(t[22]=[e("div",{class:"text-sm font-semibold text-slate-900"},"Sem lançamentos",-1),e("div",{class:"mt-1 text-xs text-slate-500"},"Quando houver compras, elas aparecem aqui.",-1)])])):(d(),u("div",Jt,[(d(!0),u(H,null,oe(ce.value,a=>(d(),u("div",{key:a.dateLabel,class:"rounded-3xl bg-white shadow-sm ring-1 ring-slate-200/60"},[e("div",Yt,i(a.dateLabel),1),e("div",Zt,[(d(!0),u(H,null,oe(a.list,l=>(d(),u("div",{key:l.id,class:"flex items-center justify-between gap-4 px-5 py-4"},[e("div",Kt,[e("div",Gt,i(l.title),1),e("div",Qt,i(l.categoryLabel),1)]),e("div",Wt,[D(i(M(l.amount))+" ",1),l.installment?(d(),u("div",Xt,i(l.installment),1)):T("",!0)])]))),128))])]))),128))]))]),e("footer",es,[e("div",ts,[e("button",{type:"button",class:"h-[52px] flex-1 rounded-2xl bg-slate-100 text-sm font-semibold text-slate-500",onClick:Be}," Parcelar "),e("button",{type:"button",class:"h-[52px] flex-[1.2] rounded-2xl text-sm font-semibold text-white disabled:opacity-60",style:I({backgroundColor:w.value}),disabled:!C.value,onClick:_e}," Pagar fatura ",12,ss)])]),h(Qe,{open:W.value,kind:"expense",initial:me.value,categories:Ie.value,accounts:Ae.value,tags:m.value.tags,onClose:t[4]||(t[4]=a=>W.value=!1),onSave:Ne},null,8,["open","initial","categories","accounts","tags"]),h(et,{open:X.value,initial:De.value,onClose:t[5]||(t[5]=a=>X.value=!1),onSave:Fe},null,8,["open","initial"]),h(tt,{open:O.value,title:"Excluir cartão de crédito?",message:`Tem certeza que deseja excluir o cartão “${f.value}”?`,warningText:"ATENÇÃO: Isso irá excluir também todas as transações vinculadas a este cartão. Esta ação não pode ser desfeita.",danger:"",confirmLabel:"Excluir",onClose:t[6]||(t[6]=a=>O.value=!1),onConfirm:Se},null,8,["open","message"]),h(Dt,{open:R.value,"original-amount":C.value,"accent-color":w.value,onClose:t[7]||(t[7]=a=>R.value=!1),onConfirm:Te},null,8,["open","original-amount","accent-color"]),h(Ze,{open:A.value,title:"Pagar fatura",onClose:t[9]||(t[9]=a=>A.value=!1)},{default:ne(()=>[e("div",as,[e("div",ls,[e("div",ns,i(f.value)+" • "+i(we.value),1),e("div",os,i(M(C.value)),1),t[24]||(t[24]=e("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Valor da fatura",-1))]),t[26]||(t[26]=e("div",{class:"text-xs font-bold uppercase tracking-wide text-slate-400"},"De qual conta pagar?",-1)),e("div",is,[(d(!0),u(H,null,oe(z.value,a=>(d(),u("button",{key:a.key,type:"button",class:"flex w-full items-start justify-between gap-4 rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70 disabled:opacity-60",disabled:j(a.balance),onClick:l=>_.value=a.key},[e("div",ds,[e("div",us,[e("span",{class:be(["mt-0.5 flex h-5 w-5 items-center justify-center rounded-full border-2",_.value===a.key?"border-emerald-500 bg-emerald-500":"border-slate-300 bg-white"]),"aria-hidden":"true"},[_.value===a.key?(d(),u("svg",cs,[...t[25]||(t[25]=[e("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):T("",!0)],2),e("div",ms,i(a.label),1)]),e("div",vs,"Saldo: "+i(M(a.balance)),1),j(a.balance)?(d(),u("div",fs,"⚠️ Saldo insuficiente")):(d(),u("div",ps,"✓ Saldo disponível"))])],8,rs))),128))]),e("div",xs,[e("button",{type:"button",class:"flex-1 rounded-2xl bg-slate-100 py-3 text-sm font-semibold text-slate-600",onClick:t[8]||(t[8]=a=>A.value=!1)}," Cancelar "),e("button",{type:"button",class:"flex-1 rounded-2xl bg-emerald-500 py-3 text-sm font-semibold text-white disabled:opacity-60",disabled:E.value||!_.value||j(z.value.find(a=>a.key===_.value)?.balance??0),onClick:ke},i(E.value?"Pagando…":`Pagar ${M(C.value)}`),9,bs)])])]),_:1},8,["open"]),h(st,{show:ee.value,message:ve.value,onDismiss:t[10]||(t[10]=a=>ee.value=!1)},null,8,["show","message"])]),_:1},16))],64))}});export{Ns as default};
