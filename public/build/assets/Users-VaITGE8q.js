import{d as k,c as p,h as D,J as A,g as i,f as u,a as N,b as o,D as B,w as R,e,o as n,F as x,r as U,i as f,t as d,n as V,A as $,x as b,I as v,G as M,H as F,C as I}from"./app-nPHX7zkZ.js";import{u as P,_ as j}from"./useIsMobile-kqNP1psy.js";import{_ as z}from"./DesktopShell.vue_vue_type_script_setup_true_lang-Dx7t6K8R.js";import{_ as E}from"./AdminNav.vue_vue_type_script_setup_true_lang-DnimqxIo.js";const G={class:"space-y-4"},L={class:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-slate-200/60"},H={class:"mt-5"},J={class:"space-y-4"},T={class:"flex items-start justify-between"},q={class:"text-base font-semibold text-slate-900"},K={class:"text-sm text-slate-500"},O={class:"mt-3 text-xs text-slate-400"},Q=["onClick"],W=["onSubmit"],X={key:0,class:"mt-1 text-xs text-red-500"},Y=["disabled"],ae=k({__name:"Users",props:{users:{}},setup(_){const w=_,c=P(),h=p(()=>c.value?j:z),g=p(()=>c.value?{showNav:!1}:{title:"Administração",showSearch:!1,showNewAction:!1}),m=D(null),t=A({password:"",password_confirmation:""}),y=l=>{m.value=m.value===l?null:l,t.reset(),t.clearErrors()},C=l=>{t.patch(route("admin.users.password",l),{preserveScroll:!0,onSuccess:()=>{t.reset(),m.value=null}})},S=l=>new Date(l).toLocaleDateString("pt-BR");return(l,s)=>(n(),i(x,null,[u(o(B),{title:"Administração"}),(n(),N(I(h.value),M(F(g.value)),{default:R(()=>[e("div",G,[e("div",L,[s[2]||(s[2]=e("div",{class:"text-xl font-semibold text-slate-900"},"Administração",-1)),s[3]||(s[3]=e("p",{class:"mt-2 text-sm text-slate-500"},"Gerencie usuários e redefina senhas.",-1)),e("div",H,[u(E)])]),e("div",J,[(n(!0),i(x,null,U(w.users,a=>(n(),i("div",{key:a.id,class:"rounded-3xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60"},[e("div",T,[e("div",null,[e("div",q,d(a.name),1),e("div",K,d(a.email),1)]),e("span",{class:V(["rounded-full px-3 py-1 text-xs font-semibold",a.is_admin?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-500"])},d(a.is_admin?"Admin":"Usuário"),3)]),e("div",O,"Criado em "+d(S(a.created_at)),1),e("button",{type:"button",class:"mt-4 inline-flex items-center gap-2 rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700",onClick:r=>y(a.id)}," Alterar senha ",8,Q),m.value===a.id?(n(),i("form",{key:0,class:"mt-4 space-y-3",onSubmit:$(r=>C(a.id),["prevent"])},[e("div",null,[s[4]||(s[4]=e("label",{class:"text-xs font-semibold text-slate-500"},"Nova senha",-1)),b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o(t).password=r),type:"password",class:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-700",placeholder:"Digite a nova senha"},null,512),[[v,o(t).password]]),o(t).errors.password?(n(),i("div",X,d(o(t).errors.password),1)):f("",!0)]),e("div",null,[s[5]||(s[5]=e("label",{class:"text-xs font-semibold text-slate-500"},"Confirmar senha",-1)),b(e("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>o(t).password_confirmation=r),type:"password",class:"mt-2 w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm font-semibold text-slate-700",placeholder:"Repita a senha"},null,512),[[v,o(t).password_confirmation]])]),e("button",{type:"submit",class:"inline-flex items-center justify-center rounded-2xl bg-slate-900 px-5 py-3 text-sm font-semibold text-white",disabled:o(t).processing}," Salvar ",8,Y)],40,W)):f("",!0)]))),128))])])]),_:1},16))],64))}});export{ae as default};
