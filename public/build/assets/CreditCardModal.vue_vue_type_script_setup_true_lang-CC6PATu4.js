import{d as j,h as u,p as N,c as h,g as a,i as S,e,t as b,x as V,I as D,F as g,r as w,f as $,j as L,o as r,b as B,n as E}from"./app-BblmX-k6.js";import{m as J,p as M,f as Q,n as W}from"./inputGuards-BV9ov3X1.js";import{b as I,_ as z,g as X}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-DLJShT1j.js";const Y={key:0,class:"fixed inset-0 z-[120]"},Z={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},ee={class:"flex h-full flex-col"},te={class:"flex items-center justify-between px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-4"},oe={class:"text-[14px] font-bold text-[#1F2937]"},se={class:"flex-1 overflow-y-auto px-4 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},le={class:"mb-4"},ne={class:"grid grid-cols-2 gap-3"},ie=["onClick"],ae={class:"flex h-full flex-col"},re={class:"flex items-start justify-between"},ue={class:"mt-3 flex-1"},de={class:"line-clamp-2 text-sm font-semibold leading-snug text-slate-900"},ce={class:"mt-2 h-1 w-full rounded-full bg-slate-100"},ve=j({__name:"InstitutionPickerModal",props:{open:{type:Boolean},title:{default:"Escolher instituiÃ§Ã£o"},selected:{default:null}},emits:["close","select"],setup(f,{emit:C}){const k=f,x=C,d=u("");N(()=>k.open,n=>{n&&(d.value="")});const p=h(()=>{const n=d.value.trim().toLowerCase();return n?I.filter(s=>s.nome.toLowerCase().includes(n)):I}),m=n=>{x("select",{nome:n.nome,svgFile:n.svgFile,color:n.color})};return(n,s)=>f.open?(r(),a("div",Y,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:s[0]||(s[0]=l=>x("close")),"aria-label":"Fechar"}),e("div",Z,[e("div",ee,[e("header",te,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:s[1]||(s[1]=l=>x("close")),"aria-label":"Voltar"},[...s[3]||(s[3]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e("div",oe,b(f.title),1),s[4]||(s[4]=e("div",{class:"w-6"},null,-1))]),e("div",se,[e("div",le,[V(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>d.value=l),type:"text",placeholder:"Buscar banco...",class:"w-full appearance-none rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,d.value]])]),e("div",ne,[(r(!0),a(g,null,w(p.value,l=>(r(),a("button",{key:l.nome,type:"button",class:"h-28 w-full overflow-hidden rounded-2xl border border-slate-200 bg-white p-3 text-left shadow-sm ring-1 ring-slate-200/60 transition hover:bg-slate-50",onClick:c=>m(l)},[e("div",ae,[e("div",re,[$(z,{institution:l.nome,"svg-path":l.svgFile,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-8 w-8 object-contain","fallback-bg-class":"rounded-2xl","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),s[5]||(s[5]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[e("path",{d:"M9 5l7 7-7 7"})],-1))]),e("div",ue,[e("div",de,b(l.nome),1)]),e("div",ce,[e("div",{class:"h-1 rounded-full",style:L({width:"40%",backgroundColor:l.color})},null,4)])])],8,ie))),128))])])])])])):S("",!0)}}),be={key:0,class:"fixed inset-0 z-[60]"},me={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},fe={class:"flex h-full flex-col"},xe={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},pe={class:"pointer-events-none absolute inset-0 flex items-center justify-center"},ge={class:"text-[18px] font-bold text-[#1F2937]"},he={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},we={class:"mt-6"},ke={class:"flex min-w-0 items-center gap-3"},_e={class:"min-w-0"},ye={class:"truncate text-sm font-semibold text-slate-900"},Be={class:"mt-6"},Ce={class:"mt-6"},Fe={class:"grid grid-cols-4 gap-3"},Ee=["onClick"],$e={class:"text-2xl"},Ae={class:"mt-6"},Me={class:"flex h-11 items-center gap-1 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3"},Ie=["value"],je={class:"mt-6"},Ne={class:"grid grid-cols-2 gap-3"},Se={class:"relative"},Ve=["value"],De=["value"],Le={class:"relative"},ze=["value"],Pe=["value"],Te={class:"mt-6"},Ke={class:"flex gap-2"},Re=["onClick","aria-label"],Ue={class:"shrink-0 border-t border-slate-100 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))]"},qe={class:"flex gap-3"},Oe=["disabled"],Qe=j({__name:"CreditCardModal",props:{open:{type:Boolean},initial:{}},emits:["close","save"],setup(f,{emit:C}){const k=f,x=C,d=()=>x("close"),p=u(void 0),m=u(""),n=u("visa"),s=u(""),l=u(null),c=u(null),_=u("#8B5CF6"),v=u(null),y=u(!1),P=h(()=>v.value?X(v.value):null),T=[{id:"visa",nome:"Visa",logo:"ðŸ’³"},{id:"mastercard",nome:"Mastercard",logo:"ðŸ’³"},{id:"elo",nome:"Elo",logo:"ðŸ’³"},{id:"amex",nome:"Amex",logo:"ðŸ’³"}],K=["#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#1F2937"],A=Array.from({length:31},(i,t)=>t+1),R=i=>{const t=i.target;s.value=Q(t.value)},U=h(()=>J(s.value)),q=h(()=>p.value?"Editar cartÃ£o":"Adicionar cartÃ£o de crÃ©dito"),O=()=>{const i=k.initial??null;p.value=i?.id,m.value=i?.nome??"",n.value=i?.bandeira??"visa",s.value=i?W(i.limite):"",l.value=i?.dia_fechamento??null,c.value=i?.dia_vencimento??null,_.value=i?.cor??"#8B5CF6",v.value=i?.institution??null},F=h(()=>m.value.trim()!==""&&n.value!==null&&s.value.trim()!==""&&l.value!=null&&c.value!=null&&l.value>=1&&l.value<=31&&c.value>=1&&c.value<=31),G=()=>{F.value&&x("save",{id:p.value,nome:m.value.trim(),bandeira:n.value,limite:U.value,dia_fechamento:l.value,dia_vencimento:c.value,cor:_.value,institution:v.value})};return N(()=>k.open,i=>{i&&O()}),(i,t)=>(r(),a(g,null,[f.open?(r(),a("div",be,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:d,"aria-label":"Fechar"}),e("div",me,[e("div",fe,[e("header",xe,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:d,"aria-label":"Fechar"},[...t[7]||(t[7]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])]),e("div",pe,[e("div",ge,b(q.value),1)])]),e("div",he,[e("div",we,[t[10]||(t[10]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"InstituiÃ§Ã£o financeira",-1)),e("button",{type:"button",class:"flex h-14 w-full items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 text-left",onClick:t[0]||(t[0]=o=>y.value=!0)},[e("div",ke,[$(z,{institution:v.value,"svg-path":P.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),e("div",_e,[e("div",ye,b(v.value??"Selecione o banco"),1),t[8]||(t[8]=e("div",{class:"text-xs font-semibold text-slate-400"},"Toque para alterar",-1))])]),t[9]||(t[9]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1))])]),e("div",Be,[t[11]||(t[11]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Nome do cartÃ£o",-1)),V(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>m.value=o),type:"text",placeholder:"Ex: Nubank Roxo",maxlength:"50",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 text-base text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,m.value]])]),e("div",Ce,[t[12]||(t[12]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Bandeira",-1)),e("div",Fe,[(r(),a(g,null,w(T,o=>e("button",{key:o.id,type:"button",class:E(["flex h-14 items-center justify-center rounded-xl border-2 font-semibold transition",n.value===o.id?"border-[#14B8A6] bg-teal-50 text-[#14B8A6]":"border-[#E5E7EB] bg-white text-[#6B7280]"]),onClick:H=>n.value=o.id},[e("span",$e,b(o.logo),1)],10,Ee)),64))])]),e("div",Ae,[t[14]||(t[14]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Limite total",-1)),e("div",Me,[t[13]||(t[13]=e("span",{class:"text-base text-[#6B7280]"},"R$",-1)),e("input",{class:"h-full w-full flex-1 appearance-none border-0 bg-transparent text-center text-base text-[#374151] outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"off",value:s.value,onInput:R,onKeydown:t[2]||(t[2]=(...o)=>B(M)&&B(M)(...o)),placeholder:"0,00","aria-label":"Limite"},null,40,Ie)])]),e("div",je,[t[21]||(t[21]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Datas",-1)),e("div",Ne,[e("div",null,[t[17]||(t[17]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Fechamento",-1)),e("div",Se,[e("select",{value:l.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] bg-none px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus-visible:outline-none focus:ring-0",onChange:t[3]||(t[3]=o=>{l.value=Number(o.target.value)||null})},[t[15]||(t[15]=e("option",{value:"",disabled:""},"Dia",-1)),(r(!0),a(g,null,w(B(A),o=>(r(),a("option",{key:o,value:o},b(o),9,De))),128))],40,Ve),t[16]||(t[16]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])]),e("div",null,[t[20]||(t[20]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Vencimento",-1)),e("div",Le,[e("select",{value:c.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] bg-none px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus-visible:outline-none focus:ring-0",onChange:t[4]||(t[4]=o=>{c.value=Number(o.target.value)||null})},[t[18]||(t[18]=e("option",{value:"",disabled:""},"Dia",-1)),(r(!0),a(g,null,w(B(A),o=>(r(),a("option",{key:o,value:o},b(o),9,Pe))),128))],40,ze),t[19]||(t[19]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])])]),e("div",Te,[t[22]||(t[22]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Cor do cartÃ£o",-1)),e("div",Ke,[(r(),a(g,null,w(K,o=>e("button",{key:o,type:"button",class:E(["h-10 w-10 rounded-lg border-2 transition",_.value===o?"border-gray-800":"border-transparent"]),style:L({backgroundColor:o}),onClick:H=>_.value=o,"aria-label":`Cor ${o}`},null,14,Re)),64))])])]),e("footer",Ue,[e("div",qe,[e("button",{class:"flex-1 rounded-xl border border-[#E5E7EB] py-3 text-sm font-semibold text-[#6B7280] transition hover:bg-slate-50",type:"button",onClick:d}," Cancelar "),e("button",{disabled:!F.value,class:E(["flex-1 rounded-xl py-3 text-sm font-semibold text-white transition",F.value?"bg-[#14B8A6] shadow-lg shadow-teal-500/20 hover:bg-[#0D9488]":"bg-slate-300 shadow-none cursor-not-allowed opacity-60"]),type:"button",onClick:G},b(p.value?"Salvar alteraÃ§Ãµes":"Adicionar"),11,Oe)])])])])])):S("",!0),$(ve,{open:y.value,title:"InstituiÃ§Ã£o financeira",selected:v.value,onClose:t[5]||(t[5]=o=>y.value=!1),onSelect:t[6]||(t[6]=o=>{v.value=o.nome,y.value=!1})},null,8,["open","selected"])],64))}});export{Qe as _,ve as a};
