import{d as Fe,h as d,c as u,p as Zt,g as i,i as _,e,f as y,t as c,F as U,r as W,x as J,k as Y,N as pe,I as rt,b as S,K as dt,m as ie,n as V,o as n,s as ft,u as Xt,z as es,a as Ye,w as R,l as Z,j as se,A as ts,B as ss,C as ls}from"./app-DVrDHbGt.js";import{r as E,_ as os,b as as,a as ns}from"./DesktopShell.vue_vue_type_script_setup_true_lang-dSkPFJXH.js";import{T as is,e as rs,h as ut,b as ds,a as us}from"./TransactionModal-CNbB9n8F.js";import{g as Me,_ as De}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-DL8_ZMay.js";import{u as cs,_ as ms}from"./useIsMobile-BrGiTvVM.js";import{_ as vs}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-CD0NdS3v.js";import{_ as ps}from"./MobileToast.vue_vue_type_script_setup_true_lang-CxgnS5hK.js";import{a as We,_ as xs}from"./CreditCardModal.vue_vue_type_script_setup_true_lang-mHeZnrbN.js";import{A as fs}from"./ApplicationLogo-C-oGUQOw.js";import{a as ct,p as mt,b as vt,m as pt}from"./inputGuards-BV9ov3X1.js";import{_ as bs}from"./CreateAccountFlowModal.vue_vue_type_script_setup_true_lang-Dp-1fMrj.js";import{_ as gs}from"./CreateCreditCardFlowModal.vue_vue_type_script_setup_true_lang-BdKaEbaD.js";import{_ as hs}from"./Modal.vue_vue_type_script_setup_true_lang-DaMIVCaT.js";import{_ as ys}from"./HomeWidgetsManager.vue_vue_type_script_setup_true_lang-D0dkQwgb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-DZoClzjL.js";const ws={key:0,class:"fixed inset-0 z-[95] bg-white"},ks={class:"flex items-center justify-between px-5 pt-[calc(1rem+env(safe-area-inset-top))]"},_s={key:1,class:"h-6"},$s={class:"flex items-center gap-3"},Cs={key:0,class:"text-xs font-bold text-slate-400"},Ms=["disabled"],Ds={class:"mx-auto flex h-[calc(100vh-5rem)] w-full max-w-md min-h-0 flex-col px-6 pb-[calc(2rem+env(safe-area-inset-bottom))]"},Bs={key:0,class:"flex flex-1 min-h-0 flex-col"},Ss={class:"mt-6 flex justify-center"},As={class:"flex h-16 w-16 items-center justify-center rounded-3xl bg-slate-50 ring-1 ring-slate-200/60"},Ls={class:"mt-6 space-y-3"},Ns=["onClick"],js={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Fs={class:"mt-auto pt-6"},Ts=["disabled"],Is=["disabled"],Ps={key:1,class:"flex flex-1 min-h-0 flex-col"},Vs={class:"mt-6 flex-1 min-h-0 overflow-y-auto pb-6"},Es={class:"space-y-5"},Os={class:"mt-3 space-y-2"},Rs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Us={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},zs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Ks={key:0},qs={class:"flex min-w-0 items-center gap-3"},Hs={class:"min-w-0"},Gs={class:"truncate text-sm font-semibold text-slate-900"},Js={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},Ys=["value"],Ws={key:1,class:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Qs={class:"shrink-0 pt-2"},Zs=["disabled"],Xs=["disabled"],el={key:2,class:"flex flex-1 min-h-0 flex-col"},tl={class:"mt-6 flex-1 min-h-0 overflow-y-auto pb-6"},sl={class:"space-y-5"},ll={class:"space-y-2"},ol={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},al={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},nl={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},il={key:0,class:"space-y-5"},rl={class:"flex min-w-0 items-center gap-3"},dl={class:"min-w-0"},ul={class:"truncate text-sm font-semibold text-slate-900"},cl={class:"mt-3 grid grid-cols-4 gap-3"},ml=["onClick"],vl={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},pl=["value"],xl={class:"mt-3 grid grid-cols-2 gap-3"},fl={class:"relative rounded-2xl border border-slate-200 bg-slate-50"},bl=["value"],gl={class:"relative rounded-2xl border border-slate-200 bg-slate-50"},hl=["value"],yl={key:1,class:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},wl={class:"shrink-0 pt-2"},kl=["disabled"],_l=["disabled"],$l={key:3,class:"flex flex-1 min-h-0 flex-col justify-center text-center"},Cl={class:"mt-6 rounded-3xl bg-slate-50 p-4 text-left ring-1 ring-slate-200/60"},Ml={class:"mt-2 text-sm font-semibold text-slate-900"},Dl={key:0,class:"mt-2 text-sm font-semibold text-slate-900"},Bl={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Sl=["disabled"],Al=Fe({__name:"OnboardingModal",props:{open:{type:Boolean}},emits:["close","done","add-first-expense"],setup(Q,{emit:F}){const z=Q,I=F,b=d(1),g=d(!1),p=d(""),h=d(null),k=[{key:"debt",label:"T√¥ no vermelho (d√≠vidas)"},{key:"zero",label:"T√¥ zerado todo m√™s"},{key:"save",label:"Quero juntar grana"},{key:"organize",label:"S√≥ organizar melhor"}],M=d("checking"),D=d(null),le=d("#3B82F6"),j=d(""),O=d("0,00"),w=d(!1),$=u(()=>D.value?Me(D.value):null),x=d("no"),T=d(null),oe=d(!1),Te=u(()=>T.value?Me(T.value):null),X=d(""),re=d("visa"),ee=d("0,00"),ae=d(10),P=d(17),L=d("#8B5CF6"),Ie=[{id:"visa",label:"Visa"},{id:"mastercard",label:"Mastercard"},{id:"elo",label:"Elo"},{id:"amex",label:"Amex"}],Be=Array.from({length:31},(C,o)=>o+1),xe=u(()=>b.value===1?"1/3":b.value===2?"2/3":b.value===3?"3/3":""),fe=u(()=>h.value!=null),be=u(()=>M.value==="wallet"?!0:!!D.value),A=u(()=>x.value!=="no"),de=u(()=>A.value?!!T.value&&X.value.trim().length>0&&ee.value.trim().length>0&&Number(ae.value)>=1&&Number(P.value)>=1:!0),ue=async()=>{g.value=!0,p.value="";try{await E("/api/user/onboarding",{method:"POST"}),I("done"),I("close")}catch{p.value="N√£o foi poss√≠vel pular agora. Tente novamente."}finally{g.value=!1}},ge=C=>{D.value=C.nome,le.value=C.color,w.value=!1},he=C=>{T.value=C.nome,oe.value=!1},ye=()=>{p.value="",b.value===3?b.value=2:b.value===2&&(b.value=1)},Se=()=>{p.value="",b.value===1&&fe.value?b.value=2:b.value===2&&be.value&&(b.value=3)},we=C=>{O.value=vt(C,!0)},ke=C=>{ee.value=vt(C.replace(/^-/,""),!0)},Pe=()=>{const C=M.value==="wallet"?"Carteira":D.value??"",o=j.value.trim()?` - ${j.value.trim()}`:"",r=`${C}${o}`.trim(),K=pt(O.value||"0,00");if(M.value==="wallet")return{name:r,type:"wallet",icon:"wallet",institution:null,bank_account_type:null,initial_balance:K,color:"#14B8A6",incluir_soma:!0,is_primary:!0};const q=M.value==="savings"?"poupanca":"corrente";return{name:r,type:"bank",icon:"bank",institution:D.value,bank_account_type:q,initial_balance:K,color:le.value,incluir_soma:!0,is_primary:!0}},ne=()=>{const C=Math.max(0,pt(ee.value||"0,00"));return{nome:X.value.trim(),bandeira:re.value,limite:C,dia_fechamento:Number(ae.value)||10,dia_vencimento:Number(P.value)||17,cor:L.value,icone:"credit-card",institution:T.value,is_primary:!1}},Ae=async()=>{g.value=!0,p.value="";try{await E("/api/contas",{method:"POST",body:JSON.stringify(Pe())}),A.value&&await E("/api/cartoes",{method:"POST",body:JSON.stringify(ne())}),await E("/api/user/onboarding",{method:"POST"}),b.value=4}catch{p.value="N√£o foi poss√≠vel salvar suas configura√ß√µes. Tente novamente."}finally{g.value=!1}},Ve=()=>{g.value=!0,p.value="",ie.reload({only:["bootstrap"],onFinish:()=>{I("add-first-expense"),I("done"),g.value=!1}})},Le=u(()=>{const C=M.value==="wallet"?"Carteira":D.value??"",o=j.value.trim()?` - ${j.value.trim()}`:"",r=`${C}${o}`.trim(),K=O.value.trim()||"0,00";return`${r} ¬∑ R$ ${K}`}),_e=u(()=>{const C=X.value.trim(),o=ee.value.trim()||"0,00";return`${C} ¬∑ Limite R$ ${o}`});return Zt(()=>z.open,C=>{C&&(b.value=1,g.value=!1,p.value="",h.value=null,M.value="checking",D.value=null,le.value="#3B82F6",j.value="",O.value="0,00",w.value=!1,x.value="no",T.value=null,oe.value=!1,X.value="",re.value="visa",ee.value="0,00",ae.value=10,P.value=17,L.value="#8B5CF6")}),(C,o)=>Q.open?(n(),i("div",ws,[e("header",ks,[b.value>1&&b.value<4?(n(),i("button",{key:0,type:"button",class:"text-sm font-semibold text-slate-600",onClick:ye},"Voltar")):(n(),i("div",_s)),e("div",$s,[xe.value?(n(),i("div",Cs,c(xe.value),1)):_("",!0),e("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600 disabled:opacity-60",disabled:g.value,onClick:ue,"aria-label":"Fechar"},[...o[18]||(o[18]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])],8,Ms)])]),e("main",Ds,[b.value===1?(n(),i("div",Bs,[e("div",Ss,[e("div",As,[y(fs,{class:"h-10 w-10 text-slate-900"})])]),o[19]||(o[19]=e("div",{class:"mt-8 text-center text-2xl font-semibold tracking-tight text-slate-900"},"Fala! Vamos come√ßar? ü§ü",-1)),o[20]||(o[20]=e("div",{class:"mt-6 text-center text-sm font-semibold text-slate-600"},"Qual seu maior desafio com dinheiro agora?",-1)),e("div",Ls,[(n(),i(U,null,W(k,r=>e("button",{key:r.key,type:"button",class:V(["w-full rounded-2xl border px-4 py-4 text-left text-sm font-semibold transition",h.value===r.key?"border-[#14B8A6] bg-[#E6FFFB] text-[#0F766E]":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"]),onClick:K=>h.value=r.key},c(r.label),11,Ns)),64))]),p.value?(n(),i("div",js,c(p.value),1)):_("",!0),e("div",Fs,[e("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:g.value||!fe.value,onClick:Se}," Continuar ",8,Ts),e("button",{type:"button",class:"mt-4 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:g.value,onClick:ue}," Pular ",8,Is)])])):b.value===2?(n(),i("div",Ps,[o[32]||(o[32]=e("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Qual sua conta principal?",-1)),o[33]||(o[33]=e("div",{class:"mt-1 text-sm font-semibold text-slate-500"},"(onde cai seu sal√°rio)",-1)),e("div",Vs,[e("div",Es,[e("div",null,[o[24]||(o[24]=e("div",{class:"text-xs font-semibold text-slate-500"},"Tipo de conta",-1)),e("div",Os,[e("label",Rs,[J(e("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>M.value=r),type:"radio",value:"checking",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,M.value]]),o[21]||(o[21]=Y(" Conta corrente ",-1))]),e("label",Us,[J(e("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>M.value=r),type:"radio",value:"savings",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,M.value]]),o[22]||(o[22]=Y(" Poupan√ßa ",-1))]),e("label",zs,[J(e("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>M.value=r),type:"radio",value:"wallet",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,M.value]]),o[23]||(o[23]=Y(" Carteira (dinheiro f√≠sico) ",-1))])])]),M.value!=="wallet"?(n(),i("div",Ks,[o[27]||(o[27]=e("div",{class:"mb-2 text-xs font-semibold text-slate-500"},"Institui√ß√£o financeira",-1)),e("button",{type:"button",class:"flex h-14 w-full items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 text-left",onClick:o[3]||(o[3]=r=>w.value=!0)},[e("div",qs,[y(De,{institution:D.value,"svg-path":$.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),e("div",Hs,[e("div",Gs,c(D.value??"Selecione o banco"),1),o[25]||(o[25]=e("div",{class:"text-xs font-semibold text-slate-400"},"Toque para escolher",-1))])]),o[26]||(o[26]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1))])])):_("",!0),e("div",null,[o[28]||(o[28]=e("label",{class:"text-xs font-semibold text-slate-500"},"Descri√ß√£o (opcional)",-1)),J(e("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>j.value=r),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:"Ex: Conta sal√°rio, Conta pessoal...",maxlength:"80",autocomplete:"off"},null,512),[[rt,j.value]])]),e("div",null,[o[30]||(o[30]=e("label",{class:"text-xs font-semibold text-slate-500"},"Quanto tem nela AGORA?",-1)),e("div",Js,[o[29]||(o[29]=e("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),e("input",{value:O.value,type:"text",inputmode:"decimal",placeholder:"0,00",class:"w-full appearance-none border-0 bg-transparent p-0 text-right text-base font-semibold text-slate-900 outline-none",onKeydown:o[5]||(o[5]=(...r)=>S(ct)&&S(ct)(...r)),onInput:o[6]||(o[6]=r=>we(r.target.value))},null,40,Ys)]),o[31]||(o[31]=e("div",{class:"mt-2 text-xs font-semibold text-slate-400"},"(pode ser negativo se t√° no cheque especial)",-1))]),p.value?(n(),i("div",Ws,c(p.value),1)):_("",!0)])]),e("div",Qs,[e("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:g.value||!be.value,onClick:Se}," Continuar ",8,Zs),e("button",{type:"button",class:"mt-3 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:g.value,onClick:ue}," Pular ",8,Xs)])])):b.value===3?(n(),i("div",el,[o[49]||(o[49]=e("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Voc√™ usa cart√£o de cr√©dito?",-1)),e("div",tl,[e("div",sl,[e("div",ll,[e("label",ol,[J(e("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>x.value=r),type:"radio",value:"problem",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,x.value]]),o[34]||(o[34]=Y(" Sim, e √© meu maior problema ",-1))]),e("label",al,[J(e("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>x.value=r),type:"radio",value:"controlled",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,x.value]]),o[35]||(o[35]=Y(" Sim, mas t√° controlado ",-1))]),e("label",nl,[J(e("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>x.value=r),type:"radio",value:"no",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[pe,x.value]]),o[36]||(o[36]=Y(" N√£o uso ",-1))])]),A.value?(n(),i("div",il,[e("div",null,[o[39]||(o[39]=e("div",{class:"mb-2 text-xs font-semibold text-slate-500"},"Institui√ß√£o financeira",-1)),e("button",{type:"button",class:"flex h-14 w-full items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 text-left",onClick:o[10]||(o[10]=r=>oe.value=!0)},[e("div",rl,[y(De,{institution:T.value,"svg-path":Te.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),e("div",dl,[e("div",ul,c(T.value??"Selecione o banco"),1),o[37]||(o[37]=e("div",{class:"text-xs font-semibold text-slate-400"},"Toque para escolher",-1))])]),o[38]||(o[38]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1))])]),e("div",null,[o[40]||(o[40]=e("label",{class:"text-xs font-semibold text-slate-500"},"Apelido do cart√£o",-1)),J(e("input",{"onUpdate:modelValue":o[11]||(o[11]=r=>X.value=r),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:'Ex: "Nubank Roxo"',maxlength:"60",autocomplete:"off"},null,512),[[rt,X.value]])]),e("div",null,[o[41]||(o[41]=e("div",{class:"text-xs font-semibold text-slate-500"},"Bandeira",-1)),e("div",cl,[(n(),i(U,null,W(Ie,r=>e("button",{key:r.id,type:"button",class:V(["flex h-14 items-center justify-center rounded-xl border-2 text-xs font-semibold transition",re.value===r.id?"border-[#14B8A6] bg-teal-50 text-[#14B8A6]":"border-[#E5E7EB] bg-white text-[#6B7280]"]),onClick:K=>re.value=r.id},c(r.label),11,ml)),64))])]),e("div",null,[o[43]||(o[43]=e("label",{class:"text-xs font-semibold text-slate-500"},"Limite total",-1)),e("div",vl,[o[42]||(o[42]=e("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),e("input",{value:ee.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",placeholder:"0,00",class:"w-full appearance-none border-0 bg-transparent p-0 text-right text-base font-semibold text-slate-900 outline-none",onKeydown:o[12]||(o[12]=(...r)=>S(mt)&&S(mt)(...r)),onInput:o[13]||(o[13]=r=>ke(r.target.value))},null,40,pl)])]),e("div",null,[o[48]||(o[48]=e("div",{class:"text-xs font-semibold text-slate-500"},"Datas",-1)),e("div",xl,[e("div",null,[o[45]||(o[45]=e("label",{class:"mb-2 block text-xs font-semibold text-slate-400"},"Fechamento",-1)),e("div",fl,[J(e("select",{"onUpdate:modelValue":o[14]||(o[14]=r=>ae.value=r),class:"h-12 w-full appearance-none rounded-2xl border-0 bg-transparent bg-none px-4 pr-10 text-sm font-semibold text-slate-700 focus:outline-none focus-visible:outline-none focus:ring-0"},[(n(!0),i(U,null,W(S(Be),r=>(n(),i("option",{key:r,value:r},c(r),9,bl))),128))],512),[[dt,ae.value]]),o[44]||(o[44]=e("span",{class:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])]),e("div",null,[o[47]||(o[47]=e("label",{class:"mb-2 block text-xs font-semibold text-slate-400"},"Vencimento",-1)),e("div",gl,[J(e("select",{"onUpdate:modelValue":o[15]||(o[15]=r=>P.value=r),class:"h-12 w-full appearance-none rounded-2xl border-0 bg-transparent bg-none px-4 pr-10 text-sm font-semibold text-slate-700 focus:outline-none focus-visible:outline-none focus:ring-0"},[(n(!0),i(U,null,W(S(Be),r=>(n(),i("option",{key:r,value:r},c(r),9,hl))),128))],512),[[dt,P.value]]),o[46]||(o[46]=e("span",{class:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])])])])):_("",!0),p.value?(n(),i("div",yl,c(p.value),1)):_("",!0)])]),e("div",wl,[e("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:g.value||!de.value,onClick:Ae},c(g.value?"Salvando‚Ä¶":"Concluir"),9,kl),e("button",{type:"button",class:"mt-3 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:g.value,onClick:ue}," Pular ",8,_l)])])):(n(),i("div",$l,[o[53]||(o[53]=e("div",{class:"mx-auto flex h-14 w-14 items-center justify-center rounded-3xl bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100"}," ‚úÖ ",-1)),o[54]||(o[54]=e("div",{class:"mt-5 text-2xl font-semibold tracking-tight text-slate-900"},"Pronto!",-1)),e("div",Cl,[o[50]||(o[50]=e("div",{class:"text-xs font-bold uppercase tracking-wide text-slate-400"},"Resumo",-1)),e("div",Ml,c(Le.value),1),A.value?(n(),i("div",Dl,c(_e.value),1)):_("",!0),o[51]||(o[51]=e("div",{class:"my-4 h-px bg-slate-200/70"},null,-1)),o[52]||(o[52]=e("div",{class:"text-sm font-semibold text-slate-700"}," Agora bora lan√ßar seus gastos pra gente te mostrar se vai dar at√© o fim do m√™s! ",-1))]),p.value?(n(),i("div",Bl,c(p.value),1)):_("",!0),e("button",{type:"button",class:"mt-6 w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:g.value,onClick:Ve},c(g.value?"Carregando‚Ä¶":"Adicionar meu primeiro gasto"),9,Sl)]))]),y(We,{open:w.value,title:"Escolher banco",selected:D.value,onClose:o[16]||(o[16]=r=>w.value=!1),onSelect:ge},null,8,["open","selected"]),y(We,{open:oe.value,title:"Escolher banco do cart√£o",selected:T.value,onClose:o[17]||(o[17]=r=>oe.value=!1),onSelect:he},null,8,["open","selected"])])):_("",!0)}}),Ll={key:0,class:"rounded-2xl border-l-4 border-amber-500 bg-amber-50 p-4 shadow-sm ring-1 ring-amber-100"},Nl={class:"flex items-start gap-3"},jl={class:"flex-1 min-w-0"},Fl={class:"mt-1 text-sm text-amber-800"},Tl={class:"mt-3 flex flex-wrap gap-2"},Il=Fe({__name:"InstitutionMissingAlert",props:{items:{}},emits:["fix-items","dismiss"],setup(Q,{emit:F}){const z=Q,I=F,b=u(()=>z.items.filter(h=>h.type==="account").length),g=u(()=>z.items.filter(h=>h.type==="card").length),p=u(()=>{const h=[];return b.value>0&&h.push(`${b.value} conta${b.value>1?"s":""}`),g.value>0&&h.push(`${g.value} cart√£o${g.value>1?"es":""}`),h.join(" e ")});return(h,k)=>Q.items.length>0?(n(),i("div",Ll,[e("div",Nl,[k[5]||(k[5]=ft('<div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-amber-100"><svg class="h-5 w-5 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v4"></path><path d="M12 17h.01"></path><path d="M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9Z"></path></svg></div>',1)),e("div",jl,[k[3]||(k[3]=e("h3",{class:"text-sm font-bold text-amber-900"}," A√ß√£o necess√°ria ",-1)),e("p",Fl," Voc√™ tem "+c(p.value)+" sem institui√ß√£o configurada. Configure agora para ver as logos dos bancos! ",1),e("div",Tl,[e("button",{type:"button",class:"rounded-lg bg-amber-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-amber-700",onClick:k[0]||(k[0]=M=>I("fix-items"))}," Configurar agora "),e("button",{type:"button",class:"rounded-lg border border-amber-300 bg-white px-4 py-2 text-sm font-semibold text-amber-900 transition hover:bg-amber-50",onClick:k[1]||(k[1]=M=>I("dismiss"))}," Lembrar depois ")])]),e("button",{type:"button",class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-amber-600 transition hover:bg-amber-100",onClick:k[2]||(k[2]=M=>I("dismiss")),"aria-label":"Fechar"},[...k[4]||(k[4]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])])])):_("",!0)}}),Pl={key:0,class:"fixed inset-0 z-[70]"},Vl={class:"absolute inset-0 w-full bg-white md:inset-auto md:left-1/2 md:top-1/2 md:max-h-[90vh] md:w-[600px] md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-3xl md:shadow-2xl"},El={class:"flex h-full flex-col md:max-h-[90vh]"},Ol={class:"flex items-center justify-between border-b border-slate-100 px-6 py-4"},Rl={class:"mt-1 text-sm text-slate-500"},Ul={class:"flex-1 overflow-y-auto px-6 py-4"},zl={key:0,class:"flex h-full items-center justify-center py-12"},Kl={class:"text-center"},ql={key:1,class:"space-y-3"},Hl={class:"flex items-start gap-3"},Gl=["innerHTML"],Jl={class:"flex-1 min-w-0"},Yl={class:"text-sm font-semibold text-slate-900"},Wl={class:"mt-1 text-xs text-slate-500"},Ql={class:"mt-3"},Zl=["onClick"],Xl={class:"flex min-w-0 items-center gap-3"},eo={class:"min-w-0"},to={class:"truncate text-sm font-semibold text-slate-900"},so=["disabled","onClick"],lo=Fe({__name:"FixInstitutionModal",props:{open:{type:Boolean},items:{}},emits:["close","updated"],setup(Q,{emit:F}){const z=Q,I=F,b=d({}),g=d(new Set),p=d(new Set),h=d(null),k=u(()=>z.items.filter(w=>!p.value.has(w.id))),M=async w=>{const $=b.value[w.id];if($){g.value.add(w.id);try{const x=w.type==="account"?`/api/contas/${w.id}`:`/api/cartoes/${w.id}`;await E(x,{method:"PATCH",body:JSON.stringify({institution:$})}),p.value.add(w.id),I("updated")}catch(x){console.error("Erro ao salvar institui√ß√£o:",x)}finally{g.value.delete(w.id)}}},D=w=>w==="card"?`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="5" width="18" height="14" rx="3" />
      <path d="M3 10h18" />
    </svg>`:`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M3 10h18" />
    <path d="M5 10V8l7-5 7 5v2" />
    <path d="M6 10v9" />
    <path d="M18 10v9" />
  </svg>`,le=w=>{h.value=w},j=()=>{h.value=null},O=u(()=>h.value?b.value[h.value]??null:null);return(w,$)=>(n(),i(U,null,[Q.open?(n(),i("div",Pl,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:$[0]||($[0]=x=>w.$emit("close")),"aria-label":"Fechar"}),e("div",Vl,[e("div",El,[e("header",Ol,[e("div",null,[$[4]||($[4]=e("h2",{class:"text-lg font-bold text-slate-900"},"Configurar Institui√ß√µes",-1)),e("p",Rl,c(k.value.length)+" "+c(k.value.length===1?"item pendente":"itens pendentes"),1)]),e("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 text-slate-600 transition hover:bg-slate-100",onClick:$[1]||($[1]=x=>w.$emit("close")),"aria-label":"Fechar"},[...$[5]||($[5]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",Ul,[k.value.length===0?(n(),i("div",zl,[e("div",Kl,[$[6]||($[6]=ft('<div class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-emerald-50"><svg class="h-8 w-8 text-emerald-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6 9 17l-5-5"></path></svg></div><h3 class="mt-4 text-lg font-semibold text-slate-900">Tudo configurado!</h3><p class="mt-2 text-sm text-slate-500">Todas as institui√ß√µes foram configuradas.</p>',3)),e("button",{type:"button",class:"mt-6 rounded-xl bg-emerald-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-emerald-700",onClick:$[2]||($[2]=x=>w.$emit("close"))}," Fechar ")])])):(n(),i("div",ql,[(n(!0),i(U,null,W(k.value,x=>(n(),i("div",{key:x.id,class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm"},[e("div",Hl,[e("div",{class:V(["flex h-10 w-10 shrink-0 items-center justify-center rounded-xl",x.type==="card"?"bg-purple-50 text-purple-600":"bg-blue-50 text-blue-600"]),innerHTML:D(x.type)},null,10,Gl),e("div",Jl,[e("div",Yl,c(x.name),1),e("div",Wl,c(x.type==="card"?"Cart√£o de cr√©dito":"Conta banc√°ria"),1),e("div",Ql,[$[8]||($[8]=e("label",{class:"block text-xs font-semibold uppercase tracking-wide text-slate-500"}," Institui√ß√£o ",-1)),e("button",{type:"button",class:"mt-2 flex w-full items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 text-left",onClick:T=>le(x.id)},[e("div",Xl,[y(De,{institution:b.value[x.id]??null,"svg-path":S(Me)(b.value[x.id]??null),"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),e("div",eo,[e("div",to,c(b.value[x.id]||"Selecione o banco"),1)])]),$[7]||($[7]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1))],8,Zl)]),e("button",{type:"button",class:V(["mt-3 w-full rounded-xl py-2 text-sm font-semibold transition",b.value[x.id]&&!g.value.has(x.id)?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-400 cursor-not-allowed"]),disabled:!b.value[x.id]||g.value.has(x.id),onClick:T=>M(x)},c(g.value.has(x.id)?"Salvando...":"Salvar"),11,so)])])]))),128))]))])])])])):_("",!0),y(We,{open:!!h.value,title:"Institui√ß√£o financeira",selected:O.value,onClose:j,onSelect:$[3]||($[3]=x=>{h.value&&(b.value[h.value]=x.nome),j()})},null,8,["open","selected"])],64))}}),oo={key:0,class:"flex items-center justify-between pt-2"},ao={class:"flex h-11 w-11 items-center justify-center overflow-hidden rounded-full bg-slate-200 text-sm font-semibold text-slate-700"},no=["src"],io={key:1},ro={class:"leading-tight"},uo={class:"text-xs font-semibold text-slate-400"},co={class:"flex items-center gap-2"},mo={key:0,class:"absolute -right-0.5 -top-0.5 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-500 px-1.5 text-[10px] font-bold text-white"},vo={class:"mt-6 rounded-3xl bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-5 shadow-lg ring-1 ring-slate-900/10"},po={class:"flex items-start justify-between gap-4"},xo={class:"mt-2 text-4xl font-semibold tracking-tight text-emerald-400"},fo={class:"flex items-center gap-2"},bo=["aria-label"],go={key:0,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},ho={key:1,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},yo={class:"mt-4 grid grid-cols-2 gap-3"},wo={class:"mt-1 text-base font-semibold text-white"},ko={class:"mt-1 text-base font-semibold text-white"},_o={key:1,class:"mt-5"},$o={key:2,class:"mt-5 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Co={class:"flex items-center justify-between"},Mo={key:0,class:"rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-500"},Do={key:1,class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600"},Bo={key:0,class:"mt-4 rounded-lg border-l-4 border-red-500 bg-red-50 p-4 flex items-start gap-3"},So={class:"flex-1"},Ao={class:"mb-1 font-semibold text-red-900"},Lo={class:"text-sm text-red-700"},No={key:1,class:"mt-4 rounded-lg border-l-4 border-emerald-500 bg-emerald-50 p-4 flex items-start gap-3"},jo={class:"flex-1"},Fo={class:"text-sm text-emerald-700"},To={key:2,class:"mt-4"},Io={class:"relative mx-auto h-24"},Po={class:"grid h-24 grid-cols-6 items-end gap-3"},Vo={class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-6 text-[10px] font-semibold text-slate-400"},Eo={key:3,class:"mt-4"},Oo={class:"grid grid-cols-6 items-end gap-3"},Ro={class:"text-[10px] font-semibold text-slate-400"},Uo={key:4,class:"mt-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},zo={key:3,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Ko={class:"flex items-center justify-between"},qo={class:"mt-0.5 text-xs font-semibold text-slate-400"},Ho={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},Go={key:1,class:"mt-4 space-y-3"},Jo={class:"flex items-center gap-3"},Yo={class:"text-sm font-semibold text-slate-900"},Wo={class:"text-xs text-slate-500"},Qo={class:"text-sm font-semibold text-slate-900"},Zo={key:4,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Xo={class:"flex items-center justify-between"},ea={class:"mt-0.5 text-xs font-semibold text-slate-400"},ta={key:0,class:"mt-4 inline-flex w-full rounded-full bg-slate-50 p-1 ring-1 ring-slate-200/70"},sa={key:1,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},la={key:2,class:"mt-4"},oa={key:0,class:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},aa={key:1,class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},na={class:"relative z-10 flex h-full flex-col justify-between text-white",style:{"min-height":"180px"}},ia={class:"flex items-start justify-between"},ra={class:"flex items-center gap-3"},da={class:"text-sm font-semibold"},ua={key:0,class:"rounded bg-white/20 px-2 py-0.5 text-[9px] font-bold uppercase tracking-wide"},ca={class:"mt-4"},ma={class:"mt-1 text-3xl font-bold tracking-tight"},va={class:"mt-4 h-1.5 overflow-hidden rounded-full bg-white/30"},pa={class:"mt-2 flex items-center justify-between text-[11px] font-semibold"},xa={class:"opacity-90"},fa={class:"opacity-90"},ba={key:0,class:"mt-3 flex items-center gap-1.5 text-[11px] font-semibold opacity-90"},ga={class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700"},ha={class:"flex items-center justify-between"},ya={class:"text-slate-900"},wa={key:5,class:"mt-6"},ka={class:"flex items-center justify-between"},_a={key:0,class:"mt-4 space-y-3"},$a=["onClick"],Ca={class:"flex h-14 w-14 flex-col items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/70"},Ma={class:"text-[10px] font-semibold uppercase text-slate-400"},Da={class:"text-base font-semibold"},Ba={class:"min-w-0 flex-1"},Sa={class:"truncate text-sm font-semibold text-slate-900"},Aa={class:"truncate text-xs text-slate-400"},La={class:"flex flex-col items-end gap-2 text-right"},Na=["aria-label","onClick"],ja={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Fa={class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Ta={class:"p-5"},Ia={class:"flex items-center justify-between"},Pa={class:"mt-4"},Va="kitamo:home_widgets",xt="kitamo:institution_alert_dismissed:v1",sn=Fe({__name:"Dashboard",setup(Q){const F=Xt(),z=u(()=>F.props.auth?.user?.name??"Gabriel"),I=u(()=>String(z.value).trim().split(/\s+/)[0]??z.value),b=u(()=>F.props?.auth?.user?.avatar_url??F.props?.auth?.user?.profile_photo_url??null),g=u(()=>String(F.props?.auth?.user?.email??"").toLowerCase());u(()=>g.value==="contato@kitamo.com.br");const p=u(()=>F.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),h=cs(),k=d({accounts:!0,creditCards:!0,projection:!0,upcomingBills:!0}),M=()=>{try{const t=localStorage.getItem(Va);if(!t)return;const s=JSON.parse(t);k.value={...k.value,...s}}catch{}},D=d(0),le=async()=>{try{const t=await E(route("api.notifications.count-unread"));D.value=Number(t.count??0)}catch{}},j=d(!1),O=d(!1),w=d([]),$=async()=>{O.value=!0;try{const t=await E(route("api.news.index"));w.value=t.items??[]}catch{}finally{O.value=!1}},x=u(()=>k.value.accounts),T=u(()=>k.value.creditCards),oe=u(()=>k.value.projection),Te=u(()=>k.value.upcomingBills),X=u(()=>{const t=String(z.value).trim().split(/\s+/).filter(Boolean),s=t[0]?.[0]??"G",l=t.length>1?t[t.length-1]?.[0]:"F";return`${s}${l}`.toUpperCase()}),re=u(()=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(new Date)),ee=u(()=>h.value?ms:os),ae=u(()=>h.value?{showNav:!0}:{title:"Vis√£o Geral",subtitle:re.value,searchPlaceholder:"Buscar transa√ß√£o‚Ä¶",newActionLabel:"Nova Transa√ß√£o"}),P=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),L=d(p.value.entries??[]),Ie=d(p.value.goals??[]),Be=t=>{let s=0,l=0;for(const a of t)a.kind==="income"?s+=a.amount:l+=a.amount;return{income:s,expense:l,balance:s-l}},xe=d(0),fe=d(0),be=d(0),A=d(!1),de=d(!1);d(!1);const ue=u(()=>{const t=F.props?.auth?.user??null;if(!t)return!1;const s=t.onboarding_completed_at;if(s)return!1;const l=t.created_at,a=l?new Date(l):null,f=new Date("2026-01-29T00:00:00");return s==null&&a&&Number.isFinite(a.getTime())&&a<f?!1:s==null}),ge=d(ue.value),he=d(!1),ye=d(!1),Se=()=>(p.value.accounts??[]).filter(t=>t.type!=="credit_card").filter(t=>t.incluir_soma??!0).reduce((t,s)=>t+Number(s.current_balance??0),0),we=()=>{const t=Be(L.value);xe.value=Se(),fe.value=t.income,be.value=t.expense};we();const ke=t=>A.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":P(t),Pe=t=>{A.value=t;try{localStorage.setItem("kitamo_hide_values",t?"1":"0")}catch{}};try{A.value=localStorage.getItem("kitamo_hide_values")==="1"}catch{}const ne=t=>{if(!t)return null;const s=String(t).split("-").map(v=>Number(v));if(s.length!==3)return null;const[l,a,f]=s;if(!Number.isFinite(l)||!Number.isFinite(a)||!Number.isFinite(f))return null;const m=new Date(l,a-1,f);return Number.isFinite(m.getTime())?m:null},Ae=u(()=>{const t=L.value;if(!t.length)return[];const s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],l=new Date,a=Array.from({length:6},(m,v)=>{const B=new Date(l.getFullYear(),l.getMonth()-(5-v),1);return{key:`${B.getFullYear()}-${B.getMonth()+1}`,label:s[B.getMonth()],total:0,highlight:v===5}});for(const m of t){if(!m.transactionDate)continue;const v=ne(m.transactionDate)??new Date(m.transactionDate),B=`${v.getFullYear()}-${v.getMonth()+1}`,H=a.find(Je=>Je.key===B);H&&(H.total+=m.kind==="income"?m.amount:-m.amount)}const f=Math.max(...a.map(m=>Math.abs(m.total)),1);return a.map(m=>{const v=Math.abs(m.total)/f,B=Math.round(70+v*90),H=v>.66?"bg-[#14B8A6]":v>.33?"bg-[#34D399]":"bg-[#A7F3D0]";return{label:m.label,height:B,amount:Math.abs(m.total),tone:H,highlight:m.highlight}})}),Ve=t=>{const s=new Intl.DateTimeFormat("pt-BR",{month:"short"});return t.filter(l=>l.kind==="expense").filter(l=>!!l.transactionDate).filter(l=>l.status!=="paid").map(l=>{const a=ne(l.transactionDate)??new Date,f=s.format(a).replace(".","").toLowerCase(),m=String(a.getDate()).padStart(2,"0");return{id:l.id,month:f,day:m,title:l.title,subtitle:l.categoryLabel,amountLabel:P(l.amount),paid:l.status==="paid",_date:a}}).sort((l,a)=>l._date.getTime()-a._date.getTime()).slice(0,3)},Le=u(()=>Ve(L.value));u(()=>L.value.filter(t=>!!t.transactionDate).sort((t,s)=>{const l=ne(t.transactionDate)??new Date;return(ne(s.transactionDate)??new Date).getTime()-l.getTime()}).slice(0,5));const _e=u(()=>(p.value.accounts??[]).filter(t=>t.type!=="credit_card").map(t=>{const s=t.institution??null,l=t.svgPath??null;return{id:t.id,label:t.name,subtitle:"Saldo atual",amount:t.current_balance,color:t.color??(t.type==="wallet"?"#14B8A6":"#3B82F6"),institution:s,svgPath:l??(s?Me(s):null),type:t.type,icon:t.icon??(t.type==="wallet"?"wallet":"bank")}})),C=u(()=>{const t=_e.value.length||0;return`${t}¬†conta${t===1?"":"s"}`}),o=u(()=>(p.value.accounts??[]).filter(t=>t.type==="credit_card").map(t=>{const s=t.institution??null,l=t.svgPath??null,a=s??t.name??null;return{id:t.id,label:t.name,brand:t.card_brand??"visa",color:t.color??"#8B5CF6",limit:Number(t.credit_limit??0),used:Math.max(0,Number(t.current_balance??0)),closingDay:Number(t.closing_day??0)||null,dueDay:Number(t.due_day??0)||null,institution:s,svgPath:l??(a?Me(a):null),is_primary:!!(t.is_primary??!1)}})),r=d([]),K=async()=>{if(!(o.value.length>0))try{const t=await E("/api/cartoes",{method:"GET"});r.value=t.cartoes??[]}catch{r.value=[]}},q=d("all"),bt=t=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(t),gt=(t,s)=>{const l=s.getFullYear(),a=s.getMonth(),m=s.getDate()<=t?a:a+1,v=new Date(l,m+1,0).getDate(),B=Math.min(t,v);return new Date(l,m,B)},ht=(t,s)=>t?s.getDate()>t:!1,Ee=u(()=>{const t=new Date;return(o.value.length>0?o.value.map(l=>({id:l.id,label:l.label,brand:l.brand,color:l.color,limit:l.limit,used:l.used,closingDay:l.closingDay,dueDay:l.dueDay,institution:l.institution??null,svgPath:l.svgPath??null,is_primary:l.is_primary??!1})):r.value.map(l=>({id:l.id,label:l.nome,brand:l.bandeira,color:l.cor,limit:l.limite,used:l.limite_usado??0,closingDay:l.dia_fechamento??null,dueDay:l.dia_vencimento??null,institution:l.banco??null,svgPath:l.svgPath??null,is_primary:l.is_primary??!1}))).map(l=>{const a=l.limit>0?Math.min(100,Math.max(0,l.used/l.limit*100)):0,f=l.limit>0?Math.max(0,l.limit-l.used):0,m=ht(l.closingDay,t),v=l.closingDay?gt(l.closingDay,t):null;return{...l,percent:a,available:f,closed:m,closingDateLabel:v?bt(v):null,percentLabel:`${a.toFixed(2)}%`,brandLabel:l.brand==="mastercard"?"Mastercard":l.brand==="elo"?"Elo":l.brand==="amex"?"Amex":"Visa"}}).filter(l=>q.value==="all"?!0:q.value==="open"?!l.closed:l.closed)}),Qe=u(()=>{const t=o.value.length>0?o.value.length:0,s=r.value.length>0?r.value.length:0;return t>0?t:s}),yt=u(()=>{const t=Qe.value||0;return`${t}¬†cart√£o${t===1?"":"s"}`}),wt=u(()=>Ee.value.reduce((t,s)=>t+(s.used||0),0));u(()=>(p.value.accounts??[]).slice(0,3).map(t=>({id:t.id,name:t.name,subtitle:t.type==="credit_card"?"Fatura aberta":"Saldo atual",amount:t.current_balance??0,type:t.type})));const N=u(()=>F.props.projecao??null),kt=u(()=>!!N.value?.projecao_diaria?.length),_t=t=>{const[s,l,a]=t.split("-");return!s||!l||!a?t:`${a}/${l}`},$t=t=>{const[s,l,a]=t.split("-").map(B=>B.trim()),f=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],m=Number(l)-1,v=f[m]??l;return`${a}/${v}`},Ct=t=>{const s=String(t??"").trim().match(/^(\d{2})\/(\d{2})$/);if(!s)return"";const[,l,a]=s,f=Number(a)-1;if(!Number.isFinite(f)||f<0||f>11)return"";const m=new Date(new Date().getFullYear(),f,Number(l)||1),v=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(m);return v?v.charAt(0).toUpperCase()+v.slice(1):""},Ze=u(()=>{const t=N.value?.primeiro_dia_negativo;return t?Ct(t):""}),Ne=u(()=>{if(!N.value)return null;const t=N.value.projecao_diaria??[];if(!t.length)return null;const s=6,a=(t.length<=s?t.map((G,me)=>me):Array.from({length:s},(G,me)=>Math.round(me*(t.length-1)/(s-1)))).map(G=>t[G]).filter(Boolean),f=a.map(G=>G.saldo),m=Math.max(0,...f),v=Math.min(0,...f),B=96,H=Math.round(m===0&&v===0?B/2:m/(m-v)*B),Je=m>0?H/m:0,Jt=v<0?(B-H)/Math.abs(v):0,nt=N.value.primeiro_dia_negativo;return{bars:a.map(G=>{const me=_t(G.data),Yt=!!(nt&&me===nt),ve=G.saldo,Wt=ve<0?"bg-[#EF4444]":"bg-[#14B8A6]",it=ve>=0?Math.round(ve*Je):Math.round(Math.abs(ve)*Jt),Qt=ve>=0?Math.max(0,H-it):H;return{key:G.data,label:me,labelShort:$t(G.data),saldo:ve,tone:Wt,heightPx:Math.max(2,it),topPx:Qt,showCriticalBadge:Yt}}),baselinePx:H,chartHeight:B}});u(()=>L.value.length>0),u(()=>Ie.value.length>0);const Mt=u(()=>Ae.value.length>0),Dt=u(()=>Le.value.length>0),Oe=d(!1),Xe=d(""),te=t=>{Xe.value=t,Oe.value=!0},Re=d(!1),Ue=d(!1),ze=d(!1),Bt=async t=>{try{await E("/api/cartoes",{method:"POST",body:JSON.stringify({...t,icone:"credit-card"})}),te("Cart√£o adicionado com sucesso!"),Ue.value=!1,await K(),ie.reload()}catch{te("N√£o foi poss√≠vel adicionar o cart√£o")}},St=async()=>{await K(),ie.reload()},et=t=>{const s=L.value.findIndex(l=>l.id===t.id);s>=0?L.value[s]=t:L.value.unshift(t),we()},At=t=>{L.value=L.value.filter(s=>s.id!==t),we()},Lt=t=>({kind:t.kind,amount:t.amount,description:t.title,category:t.categoryLabel,account:t.accountLabel,dateKind:t.transactionDate?"other":"today",dateOther:t.transactionDate??"",isPaid:t.status==="paid"||t.status==="received",isInstallment:!!t.installment,installmentCount:t.installment?ot(t.installment):void 0,tags:t.tags??[]}),Ke=d(!1),qe=d(null),ce=d(!1),$e=d(null),Nt=t=>{if(!t)return"";const s=ne(t)??new Date(t);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(s)},jt=t=>{const s=t.toLowerCase();return s.includes("carteira")||s.includes("wallet")?"wallet":s.includes("card")||s.includes("cr√©dito")||s.includes("credito")?"card":"bank"},Ft=t=>{const s=(t.icon??"").toLowerCase();if(["food","home","car","game","heart","briefcase","pill","money","trend","bolt","cart","shirt","gym","sparkles"].includes(s))return s;const l=(t.categoryLabel??"").toLowerCase();return l.includes("alimenta√ß√£o")||l.includes("comida")?"cart":l.includes("moradia")||l.includes("home")?"home":l.includes("transporte")||l.includes("carro")?"car":l.includes("lazer")||l.includes("game")?"sparkles":l.includes("sa√∫de")||l.includes("health")?"heart":l.includes("sal√°rio")||l.includes("renda")?"money":l.includes("trabalho")||l.includes("freelance")?"briefcase":"bolt"},Tt=u(()=>{const t=l=>{const a=l.toLowerCase();return a.includes("aliment")?"amber":a.includes("mora")||a.includes("casa")?"blue":a.includes("transp")||a.includes("uber")||a.includes("car")?"slate":a.includes("lazer")?"purple":a.includes("sa√∫d")||a.includes("saude")?"red":a.includes("estud")?"green":"slate"},s=new Map;for(const l of p.value.categories??[]){const a=l.name,f=l.icon??"other",m=l.type==="income"?"income":l.type==="expense"?"expense":void 0,v=s.get(a),B=v?.kind&&m&&v.kind!==m?void 0:v?.kind??m;s.set(a,{label:a,icon:v?.icon&&v.icon!=="other"?v.icon:f,kind:B,customColor:v?.customColor??(l.color||void 0),tone:v?.tone??(!l.icon||/^[a-z]+$/.test(l.icon)?t(a):void 0)})}return s.size?Array.from(s.values()).map(l=>({key:l.label,label:l.label,icon:l.icon,customColor:l.customColor,tone:l.tone,kind:l.kind})):[]}),tt=u(()=>{const t=[];for(const s of p.value.accounts??[])s.type!=="credit_card"&&t.push({key:s.name,label:s.name,subtitle:s.type==="wallet"?"Dinheiro f√≠sico":s.type==="bank"?"Corrente":"Conta",balance:Number(s.current_balance??0),icon:s.icon??void 0,customColor:s.color,type:s.type});for(const s of p.value.accounts??[]){if(s.type!=="credit_card")continue;const l=Number(s.credit_limit??0),a=Math.max(0,Number(s.current_balance??0));t.push({key:s.name,label:s.name,subtitle:"Cart√£o de Cr√©dito",limit:l,used:a,available:l-a,icon:s.icon??void 0,customColor:s.color,type:"credit_card"})}return t}),It=u(()=>{const t=$e.value;if(!t)return null;const s=new Map((p.value.categories??[]).map(m=>[`${m.type??""}|${String(m.name??"").toLowerCase()}`,m])),l=t.kind==="income"?"income":"expense",a=s.get(`${l}|${String(t.categoryLabel??"").toLowerCase()}`)??null,f=(p.value.accounts??[]).find(m=>m.name===t.accountLabel)??null;return{id:t.id,title:t.title,amount:t.amount,kind:t.kind,status:t.status,categoryLabel:t.categoryLabel,categoryIcon:a?.icon??Ft(t),categoryColor:a?.color??null,accountLabel:t.accountLabel,accountIcon:jt(t.accountLabel),accountType:f?.type??null,accountInstitution:f?.institution??null,accountSvgPath:f?.svgPath??null,accountColor:f?.color??null,accountSystemIcon:f?.icon??null,dateLabel:Nt(t.transactionDate)||t.dateLabel,installmentLabel:t.installment??void 0,receiptUrl:t.receiptUrl??null,receiptName:t.receiptName??null}}),Ce=d(!1),He=d("expense"),je=d(null),st=d(!1),lt=t=>{He.value=t,je.value=null,st.value=!1,Ce.value=!0},ot=t=>{if(!t)return 3;const s=t.match(/\/\s*(\d+)/);if(!s)return 3;const l=Number(s[1]);return Number.isFinite(l)&&l>0?l:3},Pt=t=>{const s=(()=>{const a=tt.value.filter(v=>v.type!=="credit_card").map(v=>v.key),f=a[0]??t.accountLabel??"",m=a.find(v=>v!==f)??f;return{from:f,to:m}})();He.value=t.kind;const l={id:t.id,kind:t.kind,amount:t.amount,description:t.title,category:t.categoryLabel,account:t.accountLabel,dateKind:t.transactionDate?"other":"today",dateOther:t.transactionDate??"",transactionDate:t.transactionDate??"",isInstallment:!!t.installment,installmentCount:ot(t.installment),isPaid:t.status==="paid"||t.status==="received",tags:t.tags??[],receiptFile:null,receiptUrl:t.receiptUrl??null,receiptName:t.receiptName??null,removeReceipt:!1,transferFrom:s.from,transferTo:s.to,transferDescription:"",despesaFixa:!!t.isFixed,repetir:!!t.isRecurring&&!t.isFixed,recurrenceGroupId:t.recurrenceGroupId??null,isFixed:!!t.isFixed,recurrenceEveryMonths:t.recurrenceEveryMonths??null,recurrenceEndsAt:t.recurrenceEndsAt??null};if(h.value){je.value=l,Ce.value=!0;return}je.value=l,Ce.value=!0},Vt=t=>{if(h.value){$e.value=t,ce.value=!0;return}$e.value=t,ce.value=!0,qe.value=t,Ke.value=!0},at=()=>{const t=h.value?$e.value:qe.value;t&&(Ke.value=!1,ce.value=!1,Pt(t))},Et=async()=>{const t=h.value?$e.value:qe.value;t&&(await E(route("transactions.destroy",t.id),{method:"DELETE"}),At(t.id),Ke.value=!1,ce.value=!1,te("Lan√ßamento exclu√≠do"))},Ot=async t=>{if(t.kind==="transfer"){try{await rs(t),te("Transfer√™ncia realizada"),ie.reload({only:["bootstrap"]})}catch{te("N√£o foi poss√≠vel realizar a transfer√™ncia")}return}const s=t.id?route("transactions.update",t.id):route("transactions.store"),l=t.id?"PATCH":"POST",a=await(ut(t)?ns:E)(s,{method:l,body:ut(t)?ds(t):JSON.stringify(us(t))});et(a.entry),te(t.id?"Lan√ßamento atualizado":"Lan√ßamento criado")},Rt=async t=>{const s=L.value.find(m=>m.id===t);if(!s||s.kind!=="expense")return;const l=s.status==="paid"?"pending":"paid",a={...Lt({...s,status:l}),isPaid:l==="paid"},f=await E(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});et(f.entry),l==="paid"&&te("Conta marcada como paga"),ie.reload({only:["bootstrap"]})},Ut=t=>{const s=L.value.find(l=>l.id===t);s&&Vt(s)},zt=()=>{ie.visit(route("settings"))},Ge=u(()=>{const t=[];for(const s of p.value.accounts??[])s.type!=="credit_card"&&s.type!=="wallet"&&!s.institution&&t.push({id:s.id,name:s.name,type:"account"});for(const s of p.value.accounts??[])s.type==="credit_card"&&!s.institution&&t.push({id:s.id,name:s.name,type:"card"});return t}),Kt=u(()=>Ge.value.length>0&&!ye.value),qt=()=>{he.value=!0},Ht=()=>{ye.value=!0;try{localStorage.setItem(xt,"1")}catch{}},Gt=()=>{ie.reload()};return es(()=>{M(),K(),le();try{localStorage.removeItem("kitamo:onboarding:v1")}catch{}try{ye.value=localStorage.getItem(xt)==="1"}catch{}}),(t,s)=>(n(),Ye(ls(ee.value),ss(ae.value,{onAdd:s[21]||(s[21]=l=>lt("expense"))}),{default:R(()=>[S(h)?(n(),i("header",oo,[e("button",{type:"button",onClick:zt,class:"flex items-center gap-3","aria-label":"Abrir perfil"},[e("span",ao,[b.value?(n(),i("img",{key:0,src:b.value,alt:"",class:"h-full w-full object-cover"},null,8,no)):(n(),i("span",io,c(X.value),1))]),e("div",ro,[e("div",uo,"OL√Å, "+c(I.value.toUpperCase()),1),s[22]||(s[22]=e("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Vis√£o Geral",-1))])]),e("div",co,[y(S(Z),{href:t.route("notifications.index"),class:"relative flex h-11 w-11 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60 hover:bg-slate-50","aria-label":"Notifica√ß√µes"},{default:R(()=>[D.value>0?(n(),i("span",mo,c(D.value>9?"9+":D.value),1)):_("",!0),s[23]||(s[23]=e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 7 3 7H3s3 0 3-7"}),e("path",{d:"M10 21a2 2 0 0 0 4 0"})],-1))]),_:1},8,["href"]),e("button",{type:"button",class:"flex h-11 w-11 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60 hover:bg-slate-50","aria-label":"Novidades",onClick:s[0]||(s[0]=()=>{j.value=!0,w.value.length===0&&$()})},[...s[24]||(s[24]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 2l1.6 5.4L19 9l-5.4 1.6L12 16l-1.6-5.4L5 9l5.4-1.6L12 2Z"}),e("path",{d:"M5 14l.9 3.1L9 18l-3.1.9L5 22l-.9-3.1L1 18l3.1-.9L5 14Z"})],-1)])])])])):_("",!0),e("section",vo,[e("div",po,[e("div",null,[s[25]||(s[25]=e("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-300"},"Saldo Total",-1)),e("div",xo,c(ke(xe.value)),1)]),e("div",fo,[e("button",{type:"button",class:"mt-1 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/10","aria-label":A.value?"Mostrar valores":"Ocultar valores",onClick:s[1]||(s[1]=l=>Pe(!A.value))},[A.value?(n(),i("svg",go,[...s[26]||(s[26]=[e("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),e("path",{d:"M12 15a3 3 0 1 0 0-6"},null,-1),e("path",{d:"M4 4l16 16"},null,-1)])])):(n(),i("svg",ho,[...s[27]||(s[27]=[e("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),e("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,bo)])]),e("div",yo,[y(S(Z),{href:t.route("accounts.index",{kind:"income"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver receitas"},{default:R(()=>[s[28]||(s[28]=e("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-emerald-300"},[e("span",null,"Entrou"),e("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1)),e("div",wo,c(ke(fe.value)),1)]),_:1},8,["href"]),y(S(Z),{href:t.route("accounts.index",{kind:"expense"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver despesas"},{default:R(()=>[s[29]||(s[29]=e("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-red-300"},[e("span",null,"Saiu"),e("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})])],-1)),e("div",ko,c(ke(be.value)),1)]),_:1},8,["href"])])]),Kt.value?(n(),i("section",_o,[y(Il,{items:Ge.value,onFixItems:qt,onDismiss:Ht},null,8,["items"])])):_("",!0),oe.value?(n(),i("section",$o,[e("div",Co,[s[30]||(s[30]=e("div",{class:"flex items-center gap-3"},[e("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-600"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 19V5"}),e("path",{d:"M10 19V9"}),e("path",{d:"M16 19v-4"}),e("path",{d:"M22 19V7"})])]),e("div",{class:"text-base font-semibold text-slate-900"},"Proje√ß√£o 30 dias")],-1)),N.value?.primeiro_dia_negativo?(n(),i("div",Mo," ‚ö†Ô∏è "+c(Ze.value||N.value.primeiro_dia_negativo),1)):N.value&&N.value.saldo_dia_30>0?(n(),i("div",Do," ‚úÖ "+c(P(Math.abs(N.value.saldo_dia_30))),1)):_("",!0)]),N.value?.primeiro_dia_negativo?(n(),i("div",Bo,[s[32]||(s[32]=e("div",{class:"text-xl text-red-500"},"‚ö†Ô∏è",-1)),e("div",So,[e("h3",Ao," Aten√ß√£o: Seu saldo pode ficar negativo em "+c(Ze.value||"breve"),1),e("p",Lo," No ritmo atual, seu saldo pode ficar negativo a partir do dia "+c(N.value.primeiro_dia_negativo)+". ",1),y(S(Z),{href:t.route("analysis"),class:"mt-2 inline-flex text-sm font-medium text-red-600 hover:underline"},{default:R(()=>[...s[31]||(s[31]=[Y(" Ver an√°lise detalhada ‚Üí ",-1)])]),_:1},8,["href"])])])):N.value&&N.value.saldo_dia_30>0?(n(),i("div",No,[s[34]||(s[34]=e("div",{class:"text-xl text-emerald-600"},"‚úÖ",-1)),e("div",jo,[s[33]||(s[33]=e("h3",{class:"mb-1 font-semibold text-emerald-900"},"T√° tranquilo!",-1)),e("p",Fo," Voc√™ pode gastar at√© "+c(P(Math.abs(N.value.saldo_dia_30)))+" at√© o fim do m√™s ",1)])])):_("",!0),kt.value&&Ne.value?(n(),i("div",To,[e("div",Io,[e("div",{class:"pointer-events-none absolute left-0 right-0 border-t-2 border-dashed border-[#EF4444]",style:se({top:`${Ne.value.baselinePx}px`})},null,4),e("div",{class:"pointer-events-none absolute right-0 -translate-y-1/2 text-[10px] font-semibold text-[#EF4444]",style:se({top:`${Ne.value.baselinePx}px`})}," Saldo zero ",4),e("div",Po,[(n(!0),i(U,null,W(Ne.value.bars,l=>(n(),i("div",{key:l.key,class:"relative h-24 text-center"},[l.showCriticalBadge?(n(),i("div",{key:0,class:"absolute left-1/2 -translate-x-1/2 rounded-full bg-red-50 px-2 py-1 text-[10px] font-semibold text-red-600",style:se({top:`${Math.max(0,l.topPx-22)}px`})}," ‚ö†Ô∏è "+c(l.labelShort),5)):_("",!0),e("div",{class:V(["mx-auto w-8 rounded-2xl",l.tone]),style:se({height:`${l.heightPx}px`,position:"absolute",left:"50%",transform:"translateX(-50%)",top:`${l.topPx}px`})},null,6),e("div",Vo,c(l.labelShort),1)]))),128))])])])):Mt.value?(n(),i("div",Eo,[e("div",Oo,[(n(!0),i(U,null,W(Ae.value,l=>(n(),i("div",{key:l.label,class:"text-center"},[e("div",Ro,c(A.value?"‚Ä¢‚Ä¢‚Ä¢‚Ä¢":P(l.amount).replace("R$","").trim()),1),e("div",{class:V(["mx-auto mt-2 w-8 rounded-2xl",l.tone]),style:se({height:`${l.height}px`})},null,6),e("div",{class:V(["mt-2 text-[10px] font-semibold",l.highlight?"text-emerald-600":"text-slate-400"])},c(l.label),3)]))),128))])])):(n(),i("div",Uo,[...s[35]||(s[35]=[e("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M4 19V5"}),e("path",{d:"M10 19V9"}),e("path",{d:"M16 19v-4"}),e("path",{d:"M22 19V7"})])],-1),e("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Sem proje√ß√µes ainda",-1),e("div",{class:"mt-1 text-xs text-slate-500"},"Adicione seus primeiros lan√ßamentos para ver o fluxo.",-1)])]))])):_("",!0),x.value?(n(),i("section",zo,[e("div",Ko,[e("div",null,[s[36]||(s[36]=e("div",{class:"text-lg font-semibold text-slate-900"},"Contas",-1)),e("div",qo,c(C.value),1)]),y(S(Z),{href:t.route("accounts.overview"),class:"rounded-2xl px-3 py-2 text-sm font-semibold text-emerald-600 hover:bg-slate-50"},{default:R(()=>[...s[37]||(s[37]=[Y(" Ver todas ",-1)])]),_:1},8,["href"])]),_e.value.length===0?(n(),i("div",Ho,[s[38]||(s[38]=e("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M3 10h18"}),e("path",{d:"M5 10V8l7-5 7 5v2"}),e("path",{d:"M6 10v9"}),e("path",{d:"M18 10v9"})])],-1)),s[39]||(s[39]=e("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui contas cadastradas.",-1)),s[40]||(s[40]=e("div",{class:"mt-1 text-xs text-slate-500"},"Adicione uma conta para come√ßar a planejar seu m√™s.",-1)),e("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[2]||(s[2]=l=>Re.value=!0)}," Adicionar contas ")])):(n(),i("div",Go,[(n(!0),i(U,null,W(_e.value,l=>(n(),Ye(S(Z),{key:l.id,href:t.route("accounts.show",{accountKey:l.id}),class:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},{default:R(()=>[e("div",Jo,[y(De,{institution:l.institution??l.label,"svg-path":l.svgPath,"is-wallet":l.type==="wallet"||l.icon==="wallet","fallback-icon":l.type==="wallet"||l.icon==="wallet"?"wallet":"account","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-white",style:se(l.svgPath?void 0:{backgroundColor:l.color})},null,8,["institution","svg-path","is-wallet","fallback-icon","style"]),e("div",null,[e("div",Yo,c(l.label),1),e("div",Wo,c(l.subtitle),1)])]),e("div",Qo,c(A.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${l.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)]),_:2},1032,["href"]))),128))]))])):_("",!0),T.value?(n(),i("section",Zo,[e("div",Xo,[e("div",null,[s[41]||(s[41]=e("div",{class:"text-lg font-semibold text-slate-900"},"Cart√µes de cr√©dito",-1)),e("div",ea,c(yt.value),1)]),y(S(Z),{href:t.route("credit-cards.my-cards"),class:"text-sm font-semibold text-emerald-600"},{default:R(()=>[...s[42]||(s[42]=[Y("Ver todas",-1)])]),_:1},8,["href"])]),Qe.value>0?(n(),i("div",ta,[e("button",{type:"button",class:V(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",q.value==="all"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[3]||(s[3]=l=>q.value="all")}," Todas ",2),e("button",{type:"button",class:V(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",q.value==="open"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[4]||(s[4]=l=>q.value="open")}," Faturas abertas ",2),e("button",{type:"button",class:V(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",q.value==="closed"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[5]||(s[5]=l=>q.value="closed")}," Faturas fechadas ",2)])):_("",!0),o.value.length===0?(n(),i("div",sa,[s[43]||(s[43]=e("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),e("path",{d:"M3 10h18"})])],-1)),s[44]||(s[44]=e("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui cart√µes cadastrados.",-1)),s[45]||(s[45]=e("div",{class:"mt-1 text-xs text-slate-500"},"Melhore seu controle financeiro agora!",-1)),e("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[6]||(s[6]=l=>ze.value=!0)}," Adicionar cart√µes ")])):(n(),i("div",la,[Ee.value.length===0?(n(),i("div",oa,[...s[46]||(s[46]=[e("div",{class:"text-sm font-semibold text-slate-900"},"Nada por aqui.",-1),e("div",{class:"mt-1 text-xs text-slate-500"},"Quando houver cart√µes com esse status, eles aparecem aqui.",-1)])])):(n(),i("div",aa,[(n(!0),i(U,null,W(Ee.value,l=>(n(),Ye(S(Z),{key:l.id,href:t.route("credit-cards.show",{account:l.id}),class:"relative shrink-0 overflow-hidden rounded-3xl p-5 shadow-lg transition hover:shadow-xl",style:se({backgroundColor:l.color,width:"320px"})},{default:R(()=>[e("div",na,[e("div",ia,[e("div",ra,[y(De,{institution:l.institution??l.label,"svg-path":l.svgPath,"fallback-icon":"credit-card","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","svg-path"]),e("span",da,c(l.label),1)]),l.is_primary?(n(),i("span",ua," PRINCIPAL ")):_("",!0)]),e("div",ca,[s[48]||(s[48]=e("div",{class:"text-[10px] font-semibold uppercase tracking-wide opacity-90"},"FATURA ATUAL",-1)),e("div",ma,c(A.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":P(l.used).replace("R$","R$")),1),e("div",va,[e("div",{class:"h-full rounded-full bg-white",style:se({width:`${l.percent}%`})},null,4)]),e("div",pa,[e("span",xa," Limite: "+c(A.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${l.limit.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`),1),e("span",fa,c(Math.round(l.percent))+"%",1)]),l.dueDay?(n(),i("div",ba,[s[47]||(s[47]=e("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),e("path",{d:"M16 2v4"}),e("path",{d:"M8 2v4"}),e("path",{d:"M3 10h18"})],-1)),e("span",null,"Vence dia "+c(l.dueDay),1)])):_("",!0)])])]),_:2},1032,["href","style"]))),128))])),e("div",ga,[e("div",ha,[s[49]||(s[49]=e("span",null,"Total (todos cart√µes)",-1)),e("span",ya,c(A.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${wt.value.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)])])]))])):_("",!0),Te.value?(n(),i("section",wa,[e("div",ka,[s[51]||(s[51]=e("div",{class:"text-lg font-semibold text-slate-900"},"A Vencer",-1)),y(S(Z),{href:t.route("accounts.index"),class:"text-sm font-semibold text-emerald-600"},{default:R(()=>[...s[50]||(s[50]=[Y("Ver todas",-1)])]),_:1},8,["href"])]),Dt.value?(n(),i("div",_a,[(n(!0),i(U,null,W(Le.value,l=>(n(),i("div",{key:l.id,class:"flex items-center gap-4 rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60 cursor-pointer hover:bg-slate-50 active:bg-slate-100 transition-colors",onClick:a=>Ut(l.id)},[e("div",Ca,[e("div",Ma,c(l.month),1),e("div",Da,c(l.day),1)]),e("div",Ba,[e("div",Sa,c(l.title),1),e("div",Aa,c(l.subtitle),1)]),e("div",La,[e("div",{class:V(["text-sm font-semibold",l.paid?"text-emerald-600 line-through":"text-red-500"])}," - "+c(l.amountLabel),3),e("button",{type:"button",class:V(["flex h-6 w-6 items-center justify-center rounded-full border-2",l.paid?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":l.paid?"Marcar como n√£o paga":"Marcar como paga",onClick:ts(a=>Rt(l.id),["stop"])},[l.paid?(n(),i("svg",ja,[...s[52]||(s[52]=[e("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):_("",!0)],10,Na)])],8,$a))),128))])):_("",!0)])):_("",!0),e("section",Fa,[e("button",{type:"button",class:"flex w-full items-center justify-between rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/60",onClick:s[7]||(s[7]=l=>de.value=!0)},[...s[53]||(s[53]=[e("div",{class:"flex items-center gap-4"},[e("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"3",width:"8",height:"8",rx:"2"}),e("rect",{x:"13",y:"3",width:"8",height:"5",rx:"2"}),e("rect",{x:"13",y:"10",width:"8",height:"11",rx:"2"}),e("rect",{x:"3",y:"13",width:"8",height:"8",rx:"2"})])]),e("div",null,[e("div",{class:"text-sm font-semibold text-slate-900"},"Gerencie sua tela inicial aqui"),e("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Escolha o que aparece na Home.")])],-1),e("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 18l6-6-6-6"})],-1)])])]),y(is,{open:Ce.value,kind:He.value,initial:je.value,categories:Tt.value,accounts:tt.value,tags:p.value.tags,"lock-kind":st.value,onClose:s[8]||(s[8]=l=>Ce.value=!1),onSave:Ot},null,8,["open","kind","initial","categories","accounts","tags","lock-kind"]),y(xs,{open:Ue.value,onClose:s[9]||(s[9]=l=>Ue.value=!1),onSave:Bt},null,8,["open"]),y(bs,{open:Re.value,onClose:s[10]||(s[10]=l=>Re.value=!1),onToast:te},null,8,["open"]),y(gs,{open:ze.value,onClose:s[11]||(s[11]=l=>ze.value=!1),onSave:St},null,8,["open"]),y(vs,{open:ce.value,transaction:It.value,onClose:s[12]||(s[12]=l=>ce.value=!1),onEdit:at,onDelete:Et,onDuplicate:at},null,8,["open","transaction"]),y(hs,{show:de.value,maxWidth:"md",onClose:s[14]||(s[14]=l=>de.value=!1)},{default:R(()=>[e("div",Ta,[e("div",Ia,[s[55]||(s[55]=e("div",{class:"text-lg font-semibold text-slate-900"},"Tela inicial",-1)),e("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/60","aria-label":"Fechar",onClick:s[13]||(s[13]=l=>de.value=!1)},[...s[54]||(s[54]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6 6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",Pa,[y(ys)])])]),_:1},8,["show"]),y(ps,{show:Oe.value,message:Xe.value,onDismiss:s[15]||(s[15]=l=>Oe.value=!1)},null,8,["show","message"]),y(Al,{open:ge.value,onClose:s[16]||(s[16]=l=>ge.value=!1),onDone:s[17]||(s[17]=l=>ge.value=!1),onAddFirstExpense:s[18]||(s[18]=l=>lt("expense"))},null,8,["open"]),y(lo,{open:he.value,items:Ge.value,onClose:s[19]||(s[19]=l=>he.value=!1),onUpdated:Gt},null,8,["open","items"]),y(as,{open:j.value,loading:O.value,items:w.value,onClose:s[20]||(s[20]=l=>j.value=!1)},null,8,["open","loading","items"])]),_:1},16))}});export{sn as default};
