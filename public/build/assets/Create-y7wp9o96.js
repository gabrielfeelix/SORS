import{d as A,c as p,h as c,g as a,f as y,a as $,b as u,D as L,w as M,i as P,e as t,o as l,l as F,x as k,I as C,F as _,r as T,n as E,t as K,G as Z,H,C as J,m as O}from"./app-nPHX7zkZ.js";import{_ as R,r as U}from"./DesktopShell.vue_vue_type_script_setup_true_lang-Dx7t6K8R.js";import{u as Y,_ as q}from"./useIsMobile-kqNP1psy.js";import{m as G,p as B,f as Q}from"./inputGuards-BV9ov3X1.js";const W={key:0,class:"relative flex items-center justify-center pt-2"},X={class:"mt-8 space-y-5 pb-[calc(6rem+env(safe-area-inset-bottom))] md:mx-auto md:max-w-md md:rounded-3xl md:bg-white md:p-6 md:pb-6 md:shadow-sm md:ring-1 md:ring-slate-200/60"},tt={class:"flex flex-wrap gap-3"},et=["onClick","aria-label"],ot={key:0,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},st={key:1,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},lt={key:2,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},at={key:3,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},nt={key:4,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},rt={key:5,class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},it=["value"],ut={class:"rounded-2xl border border-blue-100 bg-blue-50 px-4 py-4 text-sm font-semibold text-blue-700"},dt={class:"flex items-start gap-3"},xt=A({__name:"Create",setup(mt){const f=Y(),N=p(()=>f.value?q:R),D=p(()=>f.value?{showNav:!1}:{title:"Nova meta",showSearch:!1,showNewAction:!1}),v=c(""),x=c("home"),h=c(""),d=c("Dezembro 2026"),j=s=>{const e=s.target;h.value=Q(e.value)},b=p(()=>G(h.value)),I=p(()=>{const s=w(d.value);if(!s||!b.value)return 0;const[e,o]=s.split("-").map(z=>Number(z)),n=new Date(e,(o??1)-1,1),r=new Date,m=(n.getFullYear()-r.getFullYear())*12+(n.getMonth()-r.getMonth())+1,g=Math.max(1,m),i=Math.max(0,b.value);return Math.ceil(i/g)}),V=s=>s==="plane"?"plane":s==="car"?"car":"home",w=s=>{const e=s.trim().toLowerCase();if(!e)return null;const o={jan:1,janeiro:1,fev:2,fevereiro:2,mar:3,março:3,marco:3,abr:4,abril:4,mai:5,maio:5,jun:6,junho:6,jul:7,julho:7,ago:8,agosto:8,set:9,setembro:9,out:10,outubro:10,nov:11,novembro:11,dez:12,dezembro:12},n=e.split(/\s+/),r=n.find(i=>i.match(/^\d{4}$/)),m=n.find(i=>o[i]);if(!r||!m)return null;const g=o[m];return`${r}-${String(g).padStart(2,"0")}-01`},S=async()=>{const s=w(d.value),e=await U(route("goals.store"),{method:"POST",body:JSON.stringify({title:v.value.trim()||"Nova meta",target_amount:b.value,due_date:s,icon:V(x.value)})});O.visit(route("goals.show",{goalId:e.goal.id}))};return(s,e)=>(l(),a(_,null,[y(u(L),{title:"Nova meta"}),(l(),$(J(N.value),Z(H(D.value)),{default:M(()=>[u(f)?(l(),a("header",W,[y(u(F),{href:s.route("goals.index"),class:"absolute left-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60","aria-label":"Voltar"},{default:M(()=>[...e[3]||(e[3]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_:1},8,["href"]),e[4]||(e[4]=t("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Nova meta",-1))])):P("",!0),t("div",X,[t("div",null,[e[5]||(e[5]=t("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Nome da meta",-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),type:"text",placeholder:"Ex: Casa própria...",class:"h-12 w-full rounded-2xl border border-slate-200 bg-white px-4 text-sm font-semibold text-slate-700 placeholder:text-slate-300 focus:border-[#14B8A6] focus:outline-none focus:ring-0"},null,512),[[C,v.value]])]),t("div",null,[e[12]||(e[12]=t("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Ícone",-1)),t("div",tt,[(l(),a(_,null,T(["home","car","plane","cap","bag","laptop"],o=>t("button",{key:o,type:"button",class:E(["flex h-12 w-12 items-center justify-center rounded-full bg-slate-50 ring-1 ring-slate-200",x.value===o?"ring-2 ring-[#14B8A6] bg-emerald-50 text-[#14B8A6]":"text-slate-500"]),onClick:n=>x.value=o,"aria-label":o},[o==="home"?(l(),a("svg",ot,[...e[6]||(e[6]=[t("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),t("path",{d:"M5 10v10h14V10"},null,-1)])])):o==="car"?(l(),a("svg",st,[...e[7]||(e[7]=[t("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),t("path",{d:"M7 16h10"},null,-1),t("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),t("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])])):o==="plane"?(l(),a("svg",lt,[...e[8]||(e[8]=[t("path",{d:"M2 16l20-8-20-8 6 8-6 8Z"},null,-1),t("path",{d:"M6 16v6l4-4"},null,-1)])])):o==="cap"?(l(),a("svg",at,[...e[9]||(e[9]=[t("path",{d:"M22 10 12 5 2 10l10 5 10-5Z"},null,-1),t("path",{d:"M6 12v5c0 1.7 2.7 3 6 3s6-1.3 6-3v-5"},null,-1)])])):o==="bag"?(l(),a("svg",nt,[...e[10]||(e[10]=[t("path",{d:"M6 8h12l-1 13H7L6 8Z"},null,-1),t("path",{d:"M9 8V6a3 3 0 0 1 6 0v2"},null,-1)])])):(l(),a("svg",rt,[...e[11]||(e[11]=[t("rect",{x:"3",y:"4",width:"18",height:"12",rx:"2"},null,-1),t("path",{d:"M8 20h8"},null,-1),t("path",{d:"M12 16v4"},null,-1)])]))],10,et)),64))])]),t("div",null,[e[13]||(e[13]=t("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Valor objetivo",-1)),t("input",{value:h.value,onInput:j,inputmode:"numeric",pattern:"[0-9]*",type:"text",placeholder:"0,00",class:"h-12 w-full rounded-2xl border border-slate-200 bg-white px-4 text-sm font-semibold text-slate-700 focus:border-[#14B8A6] focus:outline-none focus:ring-0",onKeydown:e[1]||(e[1]=(...o)=>u(B)&&u(B)(...o))},null,40,it)]),t("div",null,[e[14]||(e[14]=t("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Prazo",-1)),k(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o),type:"text",class:"h-12 w-full rounded-2xl border border-slate-200 bg-white px-4 text-sm font-semibold text-slate-700 focus:border-[#14B8A6] focus:outline-none focus:ring-0"},null,512),[[C,d.value]])]),t("div",ut,[t("div",dt,[e[15]||(e[15]=t("span",{class:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"12",cy:"12",r:"9"}),t("path",{d:"M12 10v6"}),t("path",{d:"M12 8h.01"})])],-1)),t("div",null,"R$ "+K(I.value)+",00/mês para atingir a meta no prazo.",1)])])]),t("div",{class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)] md:static md:bg-transparent md:px-0 md:pb-0 md:pt-6 md:shadow-none"},[t("div",{class:"mx-auto w-full max-w-md md:mx-auto"},[t("button",{type:"button",class:"h-[52px] w-full rounded-2xl bg-[#14B8A6] text-base font-bold text-white shadow-[0_2px_8px_rgba(20,184,166,0.25)]",onClick:S}," Criar meta ")])])]),_:1},16))],64))}});export{xt as default};
