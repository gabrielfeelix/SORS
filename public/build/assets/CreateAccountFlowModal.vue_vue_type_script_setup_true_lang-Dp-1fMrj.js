import{d as E,h as g,c as f,g as v,i as k,e,x as A,I as D,F as M,r as P,j as N,t as x,o as m,p as W,s as T,b as I,K as z,n as $,f as S,m as j}from"./app-DVrDHbGt.js";import{r as O}from"./DesktopShell.vue_vue_type_script_setup_true_lang-dSkPFJXH.js";import{a as K}from"./CreateCreditCardFlowModal.vue_vue_type_script_setup_true_lang-BdKaEbaD.js";import{m as U,p as V,f as J}from"./inputGuards-BV9ov3X1.js";import{a as R}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-DL8_ZMay.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={key:0,class:"fixed inset-0 z-[60]"},Q={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},H={class:"flex h-full flex-col"},X={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},Y={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},Z={class:"mt-4"},ee={class:"mt-6 grid grid-cols-2 gap-3"},te=["onClick"],oe={class:"flex h-full flex-col"},ne={class:"flex items-start justify-between"},se={class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white"},le=["src","alt"],ae={class:"mt-3 flex-1"},ie={class:"line-clamp-2 text-sm font-semibold leading-snug text-slate-900"},re={class:"mt-2 h-1 w-full rounded-full bg-slate-100"},ce=E({__name:"CreateAccountStep1",props:{open:{type:Boolean}},emits:["close","select","select-wallet"],setup(p,{emit:y}){const s=y,b=g(""),l=[{nome:"Nubank",logo:"ðŸŸ£",cor:"#8B10AE",svgFile:"nubank-logo-svg.png"},{nome:"Banco Inter",logo:"ðŸŸ¢",cor:"#FF7A00",svgFile:"Banco Inter S.A/inter.svg"},{nome:"ItaÃº",logo:"ðŸŸ ",cor:"#EC7000",svgFile:null},{nome:"Bradesco",logo:"ðŸ”´",cor:"#CC092F",svgFile:"Bradesco S.A/bradesco com nome.svg"},{nome:"Banco do Brasil",logo:"ðŸŸ¡",cor:"#FFDD00",svgFile:"Banco do Brasil S.A/banco-do-brasil-com-fundo.svg"},{nome:"Caixa",logo:"ðŸ”µ",cor:"#0066B3",svgFile:"Caixa EconÃ´mica Federal/caixa-economica-federal-1.svg"},{nome:"Santander",logo:"ðŸ”´",cor:"#EC0000",svgFile:"Banco Santander Brasil S.A/banco-santander-logo.svg"},{nome:"C6 Bank",logo:"âš«",cor:"#000000",svgFile:"C6 Bank/c6-bank-logo-oficial-vector.png"},{nome:"PicPay",logo:"ðŸŸ¢",cor:"#21C25E",svgFile:"PicPay/Logo-PicPay -nome .svg"},{nome:"Neon",logo:"ðŸ”µ",cor:"#00D9E1",svgFile:"Neon/header-logo-neon.svg"},{nome:"Outro banco",logo:"âšª",cor:"#64748B",svgFile:null}],i=f(()=>{const u=b.value.toLowerCase();return u?l.filter(n=>n.nome.toLowerCase().includes(u)):l}),d=u=>{u.nome==="Carteira"?s("select-wallet"):s("select",u)};return(u,n)=>p.open?(m(),v("div",G,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:n[0]||(n[0]=a=>u.$emit("close")),"aria-label":"Fechar"}),e("div",Q,[e("div",H,[e("header",X,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:n[1]||(n[1]=a=>u.$emit("close")),"aria-label":"Fechar"},[...n[4]||(n[4]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])]),n[5]||(n[5]=e("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[e("div",{class:"text-center text-[14px] font-bold text-[#1F2937]"}," Qual Ã© a instituiÃ§Ã£o financeira? ")],-1))]),e("div",Y,[e("div",Z,[A(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>b.value=a),type:"text",placeholder:"ðŸ” Buscar por nome",class:"w-full rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0"},null,512),[[D,b.value]])]),e("div",ee,[(m(!0),v(M,null,P(i.value,a=>(m(),v("button",{key:a.nome,type:"button",class:"h-28 w-full overflow-hidden rounded-2xl border border-slate-200 bg-white p-3 text-left shadow-sm ring-1 ring-slate-200/60 transition hover:bg-slate-50",onClick:h=>d(a)},[e("div",oe,[e("div",ne,[e("div",se,[a.svgFile?(m(),v("img",{key:0,src:`/Bancos-em-SVG-main/${a.svgFile}`,alt:a.nome,class:"h-8 w-8 object-contain",onError:n[3]||(n[3]=h=>h.target.style.display="none")},null,40,le)):(m(),v("span",{key:1,class:"text-lg",style:N({color:a.cor}),"aria-hidden":"true"},x(a.logo),5))]),n[6]||(n[6]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[e("path",{d:"M9 5l7 7-7 7"})],-1))]),e("div",ae,[e("div",ie,x(a.nome),1)]),e("div",re,[e("div",{class:"h-1 rounded-full",style:N({width:"40%",backgroundColor:a.cor})},null,4)])])],8,te))),128))])])])])])):k("",!0)}}),de={key:0,class:"fixed inset-0 z-[60]"},ue={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},ve={class:"flex h-full flex-col"},me={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},pe={class:"pointer-events-none absolute inset-0 flex items-center justify-center"},be={class:"text-[14px] font-bold text-[#1F2937]"},fe={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},xe={key:0,class:"flex justify-center mt-6 mb-6"},ge={class:"mt-6 flex items-center justify-center py-6"},he={class:"text-center"},we=["value"],ye={key:1,class:"mt-6"},Ce={class:"flex items-center justify-between"},ke={class:"flex items-center gap-2"},Be={class:"text-2xl"},_e={class:"font-semibold text-slate-900"},Fe={class:"mt-6"},$e={key:2,class:"mt-6"},Se={class:"relative rounded-xl border border-[#E5E7EB] bg-[#F9FAFB]"},Ae=["value"],Ee={class:"mt-6 rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] p-4"},Me={class:"flex items-center justify-between"},Ne={class:"shrink-0 border-t border-slate-100 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))]"},Ie={class:"flex gap-3"},je=["disabled"],Ve=["disabled"],De=E({__name:"CreateAccountStep3",props:{open:{type:Boolean},banco:{}},emits:["back","close","save"],setup(p,{emit:y}){const s=p,b=y,l=g(""),i=g(""),d=g("corrente"),u=f(()=>(s.banco?R(s.banco.nome):null)??"#14B8A6"),n=g(!0),a=[{id:"corrente",nome:"Conta corrente",icone:"ðŸ›ï¸"},{id:"poupanca",nome:"PoupanÃ§a",icone:"ðŸ“Š"},{id:"investimentos",nome:"Investimentos",icone:"ðŸ“ˆ"},{id:"vr_va",nome:"VR/VA",icone:"ðŸŽ«"},{id:"outros",nome:"Outros",icone:"â‹¯"}],h=r=>{const t=r.target;l.value=J(t.value)},B=f(()=>U(l.value));f(()=>a.find(r=>r.id===d.value));const w=f(()=>!(B.value<=0||!s.banco)),_=()=>{l.value="",i.value="",d.value=s.banco?.nome==="Carteira"?"wallet":"corrente",n.value=!0},F=(r=!1)=>{s.banco&&(b("save",{banco_nome:s.banco.nome,banco_cor:s.banco.cor,saldo_inicial:B.value,descricao:i.value.trim(),tipo:d.value,cor:u.value,incluir_soma_inicial:n.value},r),r&&(_(),b("back")))};return W(()=>s.open,r=>{r&&_()}),(r,t)=>p.open?(m(),v("div",de,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:t[0]||(t[0]=o=>r.$emit("close")),"aria-label":"Fechar"}),e("div",ue,[e("div",ve,[e("header",me,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:t[1]||(t[1]=o=>r.$emit("back")),"aria-label":"Voltar"},[...t[10]||(t[10]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),e("div",pe,[e("div",be,x(s.banco?.nome==="Carteira"?"Nova Carteira":"Nova conta"),1)]),e("button",{class:"ml-auto h-6 w-6 text-[#6B7280]",type:"button",onClick:t[2]||(t[2]=o=>r.$emit("close")),"aria-label":"Fechar"},[...t[11]||(t[11]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",fe,[s.banco?.nome==="Carteira"?(m(),v("div",xe,[...t[12]||(t[12]=[T('<div class="flex h-20 w-20 items-center justify-center rounded-3xl bg-teal-50 text-teal-600" data-v-ef073b95><svg class="h-10 w-10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ef073b95><rect x="2" y="5" width="20" height="14" rx="3" data-v-ef073b95></rect><path d="M2 10h20" data-v-ef073b95></path><circle cx="16" cy="14" r="2" data-v-ef073b95></circle></svg></div>',1)])])):k("",!0),e("div",ge,[e("div",he,[t[13]||(t[13]=e("div",{class:"text-4xl font-bold text-[#14B8A6]"},"R$",-1)),e("input",{class:"mt-2 w-full appearance-none border-0 bg-transparent text-center text-3xl font-bold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",type:"text",inputmode:"numeric",pattern:"[0-9]*",value:l.value,onInput:h,onKeydown:t[3]||(t[3]=(...o)=>I(V)&&I(V)(...o)),placeholder:"0,00","aria-label":"Saldo inicial"},null,40,we)])]),p.banco&&p.banco.nome!=="Carteira"?(m(),v("div",ye,[t[15]||(t[15]=e("div",{class:"mb-2 text-xs font-semibold uppercase text-slate-500"},"InstituiÃ§Ã£o financeira",-1)),e("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white p-4 text-left transition hover:bg-slate-50",onClick:t[4]||(t[4]=o=>r.$emit("back"))},[e("div",Ce,[e("div",ke,[e("span",Be,x(p.banco.logo),1),e("span",_e,x(p.banco.nome),1)]),t[14]||(t[14]=e("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M9 5l7 7-7 7"})],-1))])])])):k("",!0),e("div",Fe,[t[16]||(t[16]=e("div",{class:"mb-2 text-xs font-semibold uppercase text-slate-500"},"DescriÃ§Ã£o (opcional)",-1)),A(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>i.value=o),type:"text",placeholder:"Ex: Conta salÃ¡rio, Conta pessoal...",class:"w-full appearance-none rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,i.value]])]),s.banco?.nome!=="Carteira"?(m(),v("div",$e,[t[18]||(t[18]=e("div",{class:"mb-3 text-xs font-semibold uppercase text-slate-500"},"Tipo de conta",-1)),e("div",Se,[A(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>d.value=o),class:"relative w-full appearance-none rounded-xl border-0 bg-transparent px-4 py-3 text-sm text-slate-900 focus:outline-none focus:ring-0"},[(m(),v(M,null,P(a,o=>e("option",{key:o.id,value:o.id},x(o.icone)+" "+x(o.nome),9,Ae)),64))],512),[[z,d.value]]),t[17]||(t[17]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])):k("",!0),e("div",Ee,[e("div",Me,[t[19]||(t[19]=e("div",{class:"text-sm text-slate-700"},"Incluir na soma da tela inicial",-1)),e("button",{type:"button",class:$(["relative inline-flex h-6 w-11 items-center rounded-full transition",n.value?"bg-[#14B8A6]":"bg-[#E5E7EB]"]),onClick:t[7]||(t[7]=o=>n.value=!n.value),"aria-label":"Incluir na soma"},[e("span",{class:$(["inline-block h-5 w-5 transform rounded-full bg-white transition",n.value?"translate-x-5":"translate-x-0.5"])},null,2)],2)])])]),e("footer",Ne,[e("div",Ie,[e("button",{class:$(["flex-1 rounded-xl border py-3 text-sm font-semibold transition",w.value?"border-[#E5E7EB] text-[#6B7280] hover:bg-slate-50":"border-slate-200 text-slate-300 cursor-not-allowed"]),type:"button",disabled:!w.value,onClick:t[8]||(t[8]=o=>F(!1))}," Salvar ",10,je),e("button",{class:$(["flex-1 rounded-xl py-3 text-sm font-semibold transition",w.value?"bg-[#14B8A6] text-white shadow-lg shadow-teal-500/20 hover:bg-[#0D9488]":"bg-slate-300 text-white shadow-none cursor-not-allowed opacity-60"]),type:"button",disabled:!w.value,onClick:t[9]||(t[9]=o=>F(!0))}," Salvar e Criar Nova ",10,Ve)])])])])])):k("",!0)}}),Pe=q(De,[["__scopeId","data-v-ef073b95"]]),Je=E({__name:"CreateAccountFlowModal",props:{open:{type:Boolean},startWithWallet:{type:Boolean}},emits:["close","toast"],setup(p,{emit:y}){const s=p,b=y,l=g(1),i=g(null);W(()=>s.open,o=>{o&&(s.startWithWallet?(i.value={nome:"Carteira",logo:"ðŸ’¼",cor:"#14B8A6"},l.value=3):(l.value=1,i.value=null))});const d=()=>b("close"),u=o=>{i.value=o,l.value=2},n=()=>{i.value={nome:"Carteira",logo:"ðŸ’¼",cor:"#14B8A6"},l.value=3},a=o=>{o==="manual"&&(l.value=3)},h=(o,c=!1)=>c?{type:"wallet",icon:"wallet"}:{type:"bank",icon:"bank"},B=o=>{const c=o.banco_nome,C=o.descricao?` - ${o.descricao}`:"";return`${c}${C}`.trim()},w=async o=>{const c=i.value?.nome==="Carteira",{type:C,icon:L}=h(o,c);return await O("/api/contas",{method:"POST",body:JSON.stringify({name:B(o),type:C,icon:L,institution:c?null:i.value?.nome??null,initial_balance:o.saldo_inicial,color:o.cor,incluir_soma:o.incluir_soma_inicial})})},_=async(o,c)=>{try{if(await w(o),b("toast","âœ… Conta adicionada!"),c){l.value=1,i.value=null,j.reload();return}j.reload(),d()}catch{b("toast","âŒ NÃ£o foi possÃ­vel adicionar a conta")}},F=f(()=>s.open&&l.value===1),r=f(()=>s.open&&l.value===2),t=f(()=>s.open&&l.value===3);return(o,c)=>(m(),v(M,null,[S(ce,{open:F.value,onClose:d,onSelect:u,onSelectWallet:n},null,8,["open"]),S(K,{open:r.value,banco:i.value,onClose:d,onBack:c[0]||(c[0]=C=>l.value=1),onSelectMethod:a},null,8,["open","banco"]),S(Pe,{open:t.value,banco:i.value,onClose:d,onBack:c[1]||(c[1]=C=>l.value=1),onSave:_},null,8,["open","banco"])],64))}});export{Je as _};
