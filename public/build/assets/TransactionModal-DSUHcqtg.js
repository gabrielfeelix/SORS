import{r as In}from"./DesktopShell.vue_vue_type_script_setup_true_lang-CaKEcI4E.js";import{d as Xe,O as va,h as F,P as La,z as it,Q as xt,R as Aa,p as Ze,c as H,g as M,o as b,f as Ee,a as Re,E as pt,r as Be,w as De,M as pe,G as rt,H as yt,b as v,B as st,S as fl,q as ea,i as j,C as dn,T as Bl,n as se,U as Xr,V as qa,W as Qr,X as hl,e as o,A as At,F as Me,j as vt,t as Te,Y as Kr,Z as Gr,k as Wt,_ as Jr,$ as Zr,a0 as es,x as zt,a1 as an,a2 as nn,s as Ct,I as ln,K as ts}from"./app-Pd0ejbZJ.js";import{m as as,p as ha,f as ns,n as ls}from"./inputGuards-BV9ov3X1.js";import{_ as Nl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as rs}from"./useIsMobile-CRomRP0o.js";import{a as _n}from"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-CEbw4_-J.js";const Hv=e=>({kind:e.kind,amount:e.amount,description:e.description,category:e.category,account:e.account,dateKind:e.dateKind,dateOther:e.dateOther,isPaid:e.isPaid,isInstallment:e.isInstallment,installmentCount:e.installmentCount,tags:e.tags??[],remove_receipt:e.removeReceipt??!1,repetir:e.repetir??!1,repetir_vezes:e.repetir?e.repetirVezes??null:null,repetir_meses:e.repetir?e.repetirMeses??null:null,despesa_fixa:e.despesaFixa??!1,editar_escopo:e.editarEscopo??null}),zv=e=>!!e.receiptFile,qv=e=>{const t=new FormData;t.set("kind",e.kind),t.set("amount",String(e.amount)),t.set("description",e.description),t.set("category",e.category??""),t.set("account",e.account??""),t.set("dateKind",e.dateKind),e.dateOther&&t.set("dateOther",e.dateOther),t.set("isPaid",e.isPaid?"1":"0"),t.set("isInstallment",e.isInstallment?"1":"0"),t.set("installmentCount",String(e.installmentCount??1)),t.set("repetir",e.repetir?"1":"0"),e.repetir&&e.repetirVezes!=null&&t.set("repetir_vezes",String(e.repetirVezes)),e.repetir&&e.repetirMeses!=null&&t.set("repetir_meses",String(e.repetirMeses)),t.set("despesa_fixa",e.despesaFixa?"1":"0"),e.editarEscopo&&t.set("editar_escopo",e.editarEscopo),t.set("remove_receipt",e.removeReceipt?"1":"0");for(const n of e.tags??[])t.append("tags[]",n);return e.receiptFile&&t.set("receipt",e.receiptFile),t},Wv=async e=>{const t=(e.transferFrom??"").trim(),n=(e.transferTo??"").trim();if(!t||!n)throw new Error("Conta de origem/destino inválida.");if(t===n)throw new Error("Conta de origem e destino devem ser diferentes.");const a=(e.transferDescription??"").trim()||"Transferência";return In("/api/transferencias",{method:"POST",body:JSON.stringify({conta_origem:t,conta_destino:n,valor:e.amount,descricao:a})})},Vl=6048e5,ss=864e5,os=6e4,El=36e5,is=1e3,yl=Symbol.for("constructDateFrom");function Ne(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&yl in e?e[yl](t):e instanceof Date?new e.constructor(t):new Date(t)}function ke(e,t){return Ne(t||e,e)}function Mt(e,t,n){const a=ke(e,n?.in);return isNaN(t)?Ne(n?.in||e,NaN):(t&&a.setDate(a.getDate()+t),a)}function St(e,t,n){const a=ke(e,n?.in);if(isNaN(t))return Ne(e,NaN);if(!t)return a;const l=a.getDate(),r=Ne(e,a.getTime());r.setMonth(a.getMonth()+t+1,0);const s=r.getDate();return l>=s?r:(a.setFullYear(r.getFullYear(),r.getMonth(),l),a)}function Ll(e,t,n){const{years:a=0,months:l=0,weeks:r=0,days:s=0,hours:p=0,minutes:u=0,seconds:T=0}=t,m=ke(e,n?.in),f=l||a?St(m,l+a*12):m,g=s||r?Mt(f,s+r*7):f,P=u+p*60,O=(T+P*60)*1e3;return Ne(e,+g+O)}function us(e,t,n){return Ne(e,+ke(e)+t)}function ds(e,t,n){return us(e,t*El)}let cs={};function pa(){return cs}function Rt(e,t){const n=pa(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ke(e,t?.in),r=l.getDay(),s=(r<a?7:0)+r-a;return l.setDate(l.getDate()-s),l.setHours(0,0,0,0),l}function _a(e,t){return Rt(e,{...t,weekStartsOn:1})}function Hl(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=Ne(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const r=_a(l),s=Ne(n,0);s.setFullYear(a,0,4),s.setHours(0,0,0,0);const p=_a(s);return n.getTime()>=r.getTime()?a+1:n.getTime()>=p.getTime()?a:a-1}function rn(e){const t=ke(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Wa(e,...t){const n=Ne.bind(null,t.find(a=>typeof a=="object"));return t.map(n)}function gl(e,t){const n=ke(e,t?.in);return n.setHours(0,0,0,0),n}function zl(e,t,n){const[a,l]=Wa(n?.in,e,t),r=gl(a),s=gl(l),p=+r-rn(r),u=+s-rn(s);return Math.round((p-u)/ss)}function vs(e,t){const n=Hl(e,t),a=Ne(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),_a(a)}function ps(e,t,n){return St(e,t*3,n)}function qn(e,t,n){return St(e,t*12,n)}function bl(e,t){const n=+ke(e)-+ke(t);return n<0?-1:n>0?1:n}function ql(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Va(e){return!(!ql(e)&&typeof e!="number"||isNaN(+ke(e)))}function wl(e,t){const n=ke(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function ms(e,t,n){const[a,l]=Wa(n?.in,e,t);return a.getFullYear()-l.getFullYear()}function fs(e,t,n){const[a,l]=Wa(n?.in,e,t),r=bl(a,l),s=Math.abs(ms(a,l));a.setFullYear(1584),l.setFullYear(1584);const p=bl(a,l)===-r,u=r*(s-+p);return u===0?0:u}function Wl(e,t){const[n,a]=Wa(e,t.start,t.end);return{start:n,end:a}}function jl(e,t){const{start:n,end:a}=Wl(t?.in,e);let l=+n>+a;const r=l?+n:+a,s=l?a:n;s.setHours(0,0,0,0);let p=1;const u=[];for(;+s<=r;)u.push(Ne(n,s)),s.setDate(s.getDate()+p),s.setHours(0,0,0,0);return l?u.reverse():u}function ia(e,t){const n=ke(e,t?.in),a=n.getMonth(),l=a-a%3;return n.setMonth(l,1),n.setHours(0,0,0,0),n}function hs(e,t){const{start:n,end:a}=Wl(t?.in,e);let l=+n>+a;const r=l?+ia(n):+ia(a);let s=ia(l?a:n),p=1;const u=[];for(;+s<=r;)u.push(Ne(n,s)),s=ps(s,p);return l?u.reverse():u}function ys(e,t){const n=ke(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Ul(e,t){const n=ke(e,t?.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function xa(e,t){const n=ke(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Xl(e,t){const n=pa(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=ke(e,t?.in),r=l.getDay(),s=(r<a?-7:0)+6-(r-a);return l.setDate(l.getDate()+s),l.setHours(23,59,59,999),l}function xl(e,t){const n=ke(e,t?.in),a=n.getMonth(),l=a-a%3+3;return n.setMonth(l,0),n.setHours(23,59,59,999),n}const gs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bs=(e,t,n)=>{let a;const l=gs[e];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Mn(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ws={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xs={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ks={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_s={date:Mn({formats:ws,defaultWidth:"full"}),time:Mn({formats:xs,defaultWidth:"full"}),dateTime:Mn({formats:ks,defaultWidth:"full"})},Ms={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ts=(e,t,n,a)=>Ms[e];function Ia(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let l;if(a==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,p=n?.width?String(n.width):s;l=e.formattingValues[p]||e.formattingValues[s]}else{const s=e.defaultWidth,p=n?.width?String(n.width):e.defaultWidth;l=e.values[p]||e.values[s]}const r=e.argumentCallback?e.argumentCallback(t):t;return l[r]}}const Ds={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ps={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},As={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$s={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Os={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ss=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rs={ordinalNumber:Ss,era:Ia({values:Ds,defaultWidth:"wide"}),quarter:Ia({values:Ps,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ia({values:Cs,defaultWidth:"wide"}),day:Ia({values:As,defaultWidth:"wide"}),dayPeriod:Ia({values:$s,defaultWidth:"wide",formattingValues:Os,defaultFormattingWidth:"wide"})};function Ba(e){return(t,n={})=>{const a=n.width,l=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],r=t.match(l);if(!r)return null;const s=r[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(p)?Fs(p,f=>f.test(s)):Ys(p,f=>f.test(s));let T;T=e.valueCallback?e.valueCallback(u):u,T=n.valueCallback?n.valueCallback(T):T;const m=t.slice(s.length);return{value:T,rest:m}}}function Ys(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fs(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Is(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const l=a[0],r=t.match(e.parsePattern);if(!r)return null;let s=e.valueCallback?e.valueCallback(r[0]):r[0];s=n.valueCallback?n.valueCallback(s):s;const p=t.slice(l.length);return{value:s,rest:p}}}const Bs=/^(\d+)(th|st|nd|rd)?/i,Ns=/\d+/i,Vs={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Es={any:[/^b/i,/^(a|c)/i]},Ls={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hs={any:[/1/i,/2/i,/3/i,/4/i]},zs={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qs={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ws={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},js={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Us={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xs={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qs={ordinalNumber:Is({matchPattern:Bs,parsePattern:Ns,valueCallback:e=>parseInt(e,10)}),era:Ba({matchPatterns:Vs,defaultMatchWidth:"wide",parsePatterns:Es,defaultParseWidth:"any"}),quarter:Ba({matchPatterns:Ls,defaultMatchWidth:"wide",parsePatterns:Hs,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ba({matchPatterns:zs,defaultMatchWidth:"wide",parsePatterns:qs,defaultParseWidth:"any"}),day:Ba({matchPatterns:Ws,defaultMatchWidth:"wide",parsePatterns:js,defaultParseWidth:"any"}),dayPeriod:Ba({matchPatterns:Us,defaultMatchWidth:"any",parsePatterns:Xs,defaultParseWidth:"any"})},Ql={code:"en-US",formatDistance:bs,formatLong:_s,formatRelative:Ts,localize:Rs,match:Qs,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ks(e,t){const n=ke(e,t?.in);return zl(n,xa(n))+1}function Wn(e,t){const n=ke(e,t?.in),a=+_a(n)-+vs(n);return Math.round(a/Vl)+1}function jn(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=pa(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,s=Ne(t?.in||e,0);s.setFullYear(a+1,0,r),s.setHours(0,0,0,0);const p=Rt(s,t),u=Ne(t?.in||e,0);u.setFullYear(a,0,r),u.setHours(0,0,0,0);const T=Rt(u,t);return+n>=+p?a+1:+n>=+T?a:a-1}function Gs(e,t){const n=pa(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=jn(e,t),r=Ne(t?.in||e,0);return r.setFullYear(l,0,a),r.setHours(0,0,0,0),Rt(r,t)}function Un(e,t){const n=ke(e,t?.in),a=+Rt(n,t)-+Gs(n,t);return Math.round(a/Vl)+1}function Ie(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const Qt={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Ie(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ie(n+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),l=Math.trunc(a*Math.pow(10,n-3));return Ie(l,t.length)}},ya={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kl={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),l=a>0?a:1-a;return n.ordinalNumber(l,{unit:"year"})}return Qt.y(e,t)},Y:function(e,t,n,a){const l=jn(e,a),r=l>0?l:1-l;if(t==="YY"){const s=r%100;return Ie(s,2)}return t==="Yo"?n.ordinalNumber(r,{unit:"year"}):Ie(r,t.length)},R:function(e,t){const n=Hl(e);return Ie(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ie(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ie(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ie(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Qt.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ie(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const l=Un(e,a);return t==="wo"?n.ordinalNumber(l,{unit:"week"}):Ie(l,t.length)},I:function(e,t,n){const a=Wn(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Ie(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Qt.d(e,t)},D:function(e,t,n){const a=Ks(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ie(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const l=e.getDay(),r=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Ie(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const l=e.getDay(),r=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Ie(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Ie(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const l=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let l;switch(a===12?l=ya.noon:a===0?l=ya.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let l;switch(a>=17?l=ya.evening:a>=12?l=ya.afternoon:a>=4?l=ya.morning:l=ya.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Qt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qt.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qt.s(e,t)},S:function(e,t){return Qt.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Ml(a);case"XXXX":case"XX":return oa(a);default:return oa(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Ml(a);case"xxxx":case"xx":return oa(a);default:return oa(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_l(a,":");default:return"GMT"+oa(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_l(a,":");default:return"GMT"+oa(a,":")}},t:function(e,t,n){const a=Math.trunc(+e/1e3);return Ie(a,t.length)},T:function(e,t,n){return Ie(+e,t.length)}};function _l(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),r=a%60;return r===0?n+String(l):n+String(l)+t+Ie(r,2)}function Ml(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):oa(e,t)}function oa(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),l=Ie(Math.trunc(a/60),2),r=Ie(a%60,2);return n+l+t+r}const Tl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Kl=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Js=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],l=n[2];if(!l)return Tl(e,t);let r;switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"});break}return r.replace("{{date}}",Tl(a,t)).replace("{{time}}",Kl(l,t))},Bn={p:Kl,P:Js},Zs=/^D+$/,eo=/^Y+$/,to=["D","DD","YY","YYYY"];function Gl(e){return Zs.test(e)}function Jl(e){return eo.test(e)}function Nn(e,t,n){const a=ao(e,t,n);if(console.warn(a),to.includes(e))throw new RangeError(a)}function ao(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const no=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ro=/^'([^]*?)'?$/,so=/''/g,oo=/[a-zA-Z]/;function Vt(e,t,n){const a=pa(),l=n?.locale??a.locale??Ql,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,p=ke(e,n?.in);if(!Va(p))throw new RangeError("Invalid time value");let u=t.match(lo).map(m=>{const f=m[0];if(f==="p"||f==="P"){const g=Bn[f];return g(m,l.formatLong)}return m}).join("").match(no).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:io(m)};if(kl[f])return{isToken:!0,value:m};if(f.match(oo))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});l.localize.preprocessor&&(u=l.localize.preprocessor(p,u));const T={firstWeekContainsDate:r,weekStartsOn:s,locale:l};return u.map(m=>{if(!m.isToken)return m.value;const f=m.value;(!n?.useAdditionalWeekYearTokens&&Jl(f)||!n?.useAdditionalDayOfYearTokens&&Gl(f))&&Nn(f,t,String(e));const g=kl[f[0]];return g(p,f,l.localize,T)}).join("")}function io(e){const t=e.match(ro);return t?t[1].replace(so,"'"):e}function uo(e,t){return ke(e,t?.in).getDay()}function co(e,t){const n=ke(e,t?.in),a=n.getFullYear(),l=n.getMonth(),r=Ne(n,0);return r.setFullYear(a,l+1,0),r.setHours(0,0,0,0),r.getDate()}function vo(){return Object.assign({},pa())}function jt(e,t){return ke(e,t?.in).getHours()}function po(e,t){const n=ke(e,t?.in).getDay();return n===0?7:n}function ta(e,t){return ke(e,t?.in).getMinutes()}function Oe(e,t){return ke(e,t?.in).getMonth()}function Ma(e){return ke(e).getSeconds()}function _e(e,t){return ke(e,t?.in).getFullYear()}function ca(e,t){return+ke(e)>+ke(t)}function Ta(e,t){return+ke(e)<+ke(t)}function wa(e,t){return+ke(e)==+ke(t)}function mo(e,t){const n=fo(t)?new t(0):Ne(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}function fo(e){return typeof e=="function"&&e.prototype?.constructor===e}const ho=10;class Zl{subPriority=0;validate(t,n){return!0}}class yo extends Zl{constructor(t,n,a,l,r){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=l,r&&(this.subPriority=r)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class go extends Zl{priority=ho;subPriority=-1;constructor(t,n){super(),this.context=t||(a=>Ne(n,a))}set(t,n){return n.timestampIsSet?t:Ne(t,mo(t,this.context))}}class Ye{run(t,n,a,l){const r=this.parse(t,n,a,l);return r?{setter:new yo(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(t,n,a){return!0}}class bo extends Ye{priority=140;parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Bt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Je(e,t){return e&&{value:t(e.value),rest:e.rest}}function We(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Nt(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,l=n[2]?parseInt(n[2],10):0,r=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:a*(l*El+r*os+s*is),rest:t.slice(n[0].length)}}function er(e){return We(Ge.anyDigitsSigned,e)}function Ue(e,t){switch(e){case 1:return We(Ge.singleDigit,t);case 2:return We(Ge.twoDigits,t);case 3:return We(Ge.threeDigits,t);case 4:return We(Ge.fourDigits,t);default:return We(new RegExp("^\\d{1,"+e+"}"),t)}}function sn(e,t){switch(e){case 1:return We(Ge.singleDigitSigned,t);case 2:return We(Ge.twoDigitsSigned,t);case 3:return We(Ge.threeDigitsSigned,t);case 4:return We(Ge.fourDigitsSigned,t);default:return We(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Xn(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function tr(e,t){const n=t>0,a=n?t:1-t;let l;if(a<=50)l=e||100;else{const r=a+50,s=Math.trunc(r/100)*100,p=e>=r%100;l=e+s-(p?100:0)}return n?l:1-l}function ar(e){return e%400===0||e%4===0&&e%100!==0}class wo extends Ye{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,a){const l=r=>({year:r,isTwoDigitYear:n==="yy"});switch(n){case"y":return Je(Ue(4,t),l);case"yo":return Je(a.ordinalNumber(t,{unit:"year"}),l);default:return Je(Ue(n.length,t),l)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const l=t.getFullYear();if(a.isTwoDigitYear){const s=tr(a.year,l);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const r=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class xo extends Ye{priority=130;parse(t,n,a){const l=r=>({year:r,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Je(Ue(4,t),l);case"Yo":return Je(a.ordinalNumber(t,{unit:"year"}),l);default:return Je(Ue(n.length,t),l)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,l){const r=jn(t,l);if(a.isTwoDigitYear){const p=tr(a.year,r);return t.setFullYear(p,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Rt(t,l)}const s=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(s,0,l.firstWeekContainsDate),t.setHours(0,0,0,0),Rt(t,l)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ko extends Ye{priority=130;parse(t,n){return sn(n==="R"?4:n.length,t)}set(t,n,a){const l=Ne(t,0);return l.setFullYear(a,0,4),l.setHours(0,0,0,0),_a(l)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class _o extends Ye{priority=130;parse(t,n){return sn(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Mo extends Ye{priority=120;parse(t,n,a){switch(n){case"Q":case"QQ":return Ue(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class To extends Ye{priority=120;parse(t,n,a){switch(n){case"q":case"qq":return Ue(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Do extends Ye{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,a){const l=r=>r-1;switch(n){case"M":return Je(We(Ge.month,t),l);case"MM":return Je(Ue(2,t),l);case"Mo":return Je(a.ordinalNumber(t,{unit:"month"}),l);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class Po extends Ye{priority=110;parse(t,n,a){const l=r=>r-1;switch(n){case"L":return Je(We(Ge.month,t),l);case"LL":return Je(Ue(2,t),l);case"Lo":return Je(a.ordinalNumber(t,{unit:"month"}),l);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Co(e,t,n){const a=ke(e,n?.in),l=Un(a,n)-t;return a.setDate(a.getDate()-l*7),ke(a,n?.in)}class Ao extends Ye{priority=100;parse(t,n,a){switch(n){case"w":return We(Ge.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,l){return Rt(Co(t,a,l),l)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function $o(e,t,n){const a=ke(e,n?.in),l=Wn(a,n)-t;return a.setDate(a.getDate()-l*7),a}class Oo extends Ye{priority=100;parse(t,n,a){switch(n){case"I":return We(Ge.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return _a($o(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const So=[31,28,31,30,31,30,31,31,30,31,30,31],Ro=[31,29,31,30,31,30,31,31,30,31,30,31];class Yo extends Ye{priority=90;subPriority=1;parse(t,n,a){switch(n){case"d":return We(Ge.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Ue(n.length,t)}}validate(t,n){const a=t.getFullYear(),l=ar(a),r=t.getMonth();return l?n>=1&&n<=Ro[r]:n>=1&&n<=So[r]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Fo extends Ye{priority=90;subpriority=1;parse(t,n,a){switch(n){case"D":case"DD":return We(Ge.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Ue(n.length,t)}}validate(t,n){const a=t.getFullYear();return ar(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Qn(e,t,n){const a=pa(),l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=ke(e,n?.in),s=r.getDay(),u=(t%7+7)%7,T=7-l,m=t<0||t>6?t-(s+T)%7:(u+T)%7-(s+T)%7;return Mt(r,m,n)}class Io extends Ye{priority=90;parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=Qn(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Bo extends Ye{priority=90;parse(t,n,a,l){const r=s=>{const p=Math.floor((s-1)/7)*7;return(s+l.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return Je(Ue(n.length,t),r);case"eo":return Je(a.ordinalNumber(t,{unit:"day"}),r);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=Qn(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class No extends Ye{priority=90;parse(t,n,a,l){const r=s=>{const p=Math.floor((s-1)/7)*7;return(s+l.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return Je(Ue(n.length,t),r);case"co":return Je(a.ordinalNumber(t,{unit:"day"}),r);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,l){return t=Qn(t,a,l),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Vo(e,t,n){const a=ke(e,n?.in),l=po(a,n),r=t-l;return Mt(a,r,n)}class Eo extends Ye{priority=90;parse(t,n,a){const l=r=>r===0?7:r;switch(n){case"i":case"ii":return Ue(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return Je(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiii":return Je(a.day(t,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Je(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l);default:return Je(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),l)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=Vo(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Lo extends Ye{priority=80;parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Xn(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Ho extends Ye{priority=80;parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Xn(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class zo extends Ye{priority=80;parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(Xn(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class qo extends Ye{priority=70;parse(t,n,a){switch(n){case"h":return We(Ge.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const l=t.getHours()>=12;return l&&a<12?t.setHours(a+12,0,0,0):!l&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Wo extends Ye{priority=70;parse(t,n,a){switch(n){case"H":return We(Ge.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class jo extends Ye{priority=70;parse(t,n,a){switch(n){case"K":return We(Ge.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Uo extends Ye{priority=70;parse(t,n,a){switch(n){case"k":return We(Ge.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Ue(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const l=a<=24?a%24:a;return t.setHours(l,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Xo extends Ye{priority=60;parse(t,n,a){switch(n){case"m":return We(Ge.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class Qo extends Ye{priority=50;parse(t,n,a){switch(n){case"s":return We(Ge.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Ue(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class Ko extends Ye{priority=30;parse(t,n){const a=l=>Math.trunc(l*Math.pow(10,-n.length+3));return Je(Ue(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class Go extends Ye{priority=10;parse(t,n){switch(n){case"X":return Nt(Bt.basicOptionalMinutes,t);case"XX":return Nt(Bt.basic,t);case"XXXX":return Nt(Bt.basicOptionalSeconds,t);case"XXXXX":return Nt(Bt.extendedOptionalSeconds,t);default:return Nt(Bt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Ne(t,t.getTime()-rn(t)-a)}incompatibleTokens=["t","T","x"]}class Jo extends Ye{priority=10;parse(t,n){switch(n){case"x":return Nt(Bt.basicOptionalMinutes,t);case"xx":return Nt(Bt.basic,t);case"xxxx":return Nt(Bt.basicOptionalSeconds,t);case"xxxxx":return Nt(Bt.extendedOptionalSeconds,t);default:return Nt(Bt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Ne(t,t.getTime()-rn(t)-a)}incompatibleTokens=["t","T","X"]}class Zo extends Ye{priority=40;parse(t){return er(t)}set(t,n,a){return[Ne(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ei extends Ye{priority=20;parse(t){return er(t)}set(t,n,a){return[Ne(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const ti={G:new bo,y:new wo,Y:new xo,R:new ko,u:new _o,Q:new Mo,q:new To,M:new Do,L:new Po,w:new Ao,I:new Oo,d:new Yo,D:new Fo,E:new Io,e:new Bo,c:new No,i:new Eo,a:new Lo,b:new Ho,B:new zo,h:new qo,H:new Wo,K:new jo,k:new Uo,m:new Xo,s:new Qo,S:new Ko,X:new Go,x:new Jo,t:new Zo,T:new ei},ai=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ni=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,li=/^'([^]*?)'?$/,ri=/''/g,si=/\S/,oi=/[a-zA-Z]/;function Vn(e,t,n,a){const l=()=>Ne(a?.in||n,NaN),r=vo(),s=a?.locale??r.locale??Ql,p=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(!t)return e?l():ke(n,a?.in);const T={firstWeekContainsDate:p,weekStartsOn:u,locale:s},m=[new go(a?.in,n)],f=t.match(ni).map(R=>{const I=R[0];if(I in Bn){const E=Bn[I];return E(R,s.formatLong)}return R}).join("").match(ai),g=[];for(let R of f){!a?.useAdditionalWeekYearTokens&&Jl(R)&&Nn(R,t,e),!a?.useAdditionalDayOfYearTokens&&Gl(R)&&Nn(R,t,e);const I=R[0],E=ti[I];if(E){const{incompatibleTokens:$}=E;if(Array.isArray($)){const J=g.find(Y=>$.includes(Y.token)||Y.token===I);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${R}\` at the same time`)}else if(E.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);g.push({token:I,fullToken:R});const U=E.run(e,R,s.match,T);if(!U)return l();m.push(U.setter),e=U.rest}else{if(I.match(oi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(R==="''"?R="'":I==="'"&&(R=ii(R)),e.indexOf(R)===0)e=e.slice(R.length);else return l()}}if(e.length>0&&si.test(e))return l();const P=m.map(R=>R.priority).sort((R,I)=>I-R).filter((R,I,E)=>E.indexOf(R)===I).map(R=>m.filter(I=>I.priority===R).sort((I,E)=>E.subPriority-I.subPriority)).map(R=>R[0]);let _=ke(n,a?.in);if(isNaN(+_))return l();const O={};for(const R of P){if(!R.validate(_,T))return l();const I=R.set(_,O,T);Array.isArray(I)?(_=I[0],Object.assign(O,I[1])):_=I}return _}function ii(e){return e.match(li)[1].replace(ri,"'")}function Dl(e,t,n){const[a,l]=Wa(n?.in,e,t);return+ia(a)==+ia(l)}function nr(e,t,n){return Mt(e,-t,n)}function lr(e,t,n){const a=ke(e,n?.in),l=a.getFullYear(),r=a.getDate(),s=Ne(e,0);s.setFullYear(l,t,15),s.setHours(0,0,0,0);const p=co(s);return a.setMonth(t,Math.min(r,p)),a}function Ve(e,t,n){let a=ke(e,n?.in);return isNaN(+a)?Ne(e,NaN):(t.year!=null&&a.setFullYear(t.year),t.month!=null&&(a=lr(a,t.month)),t.date!=null&&a.setDate(t.date),t.hours!=null&&a.setHours(t.hours),t.minutes!=null&&a.setMinutes(t.minutes),t.seconds!=null&&a.setSeconds(t.seconds),t.milliseconds!=null&&a.setMilliseconds(t.milliseconds),a)}function ui(e,t,n){const a=ke(e,n?.in);return a.setHours(t),a}function rr(e,t,n){const a=ke(e,n?.in);return a.setMilliseconds(t),a}function di(e,t,n){const a=ke(e,n?.in);return a.setMinutes(t),a}function sr(e,t,n){const a=ke(e,n?.in);return a.setSeconds(t),a}function $t(e,t,n){const a=ke(e,n?.in);return isNaN(+a)?Ne(e,NaN):(a.setFullYear(t),a)}function Da(e,t,n){return St(e,-t,n)}function ci(e,t,n){const{years:a=0,months:l=0,weeks:r=0,days:s=0,hours:p=0,minutes:u=0,seconds:T=0}=t,m=Da(e,l+a*12,n),f=nr(m,s+r*7,n),g=u+p*60,_=(T+g*60)*1e3;return Ne(e,+f-_)}function or(e,t,n){return qn(e,-t,n)}function $a(){const e=Gr();return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[o("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),o("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),o("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),o("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}$a.compatConfig={MODE:3};function ir(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),o("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ir.compatConfig={MODE:3};function Kn(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Kn.compatConfig={MODE:3};function Gn(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Gn.compatConfig={MODE:3};function Jn(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),o("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Jn.compatConfig={MODE:3};function Zn(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Zn.compatConfig={MODE:3};function el(){return b(),M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[o("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}el.compatConfig={MODE:3};const gt=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),tl=(e,t,n)=>En(e,t,n)||G(),vi=(e,t,n)=>{const a=t.dateInTz?gt(new Date(e),t.dateInTz):G(e);return n?at(a,!0):a},En=(e,t,n)=>{if(!e)return null;const a=n?at(G(e),!0):G(e);return t?t.exactMatch?vi(e,t,n):gt(a,t.timezone):a},pi=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},mi=(e,t)=>{if(!e)return 0;const n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(n.toLocaleString("en-US",{timeZone:e})),r=(pi(t??l)?l:t??l).getTimezoneOffset()/60;return(+a-+l)/(1e3*60*60)-r};var Dt=(e=>(e.month="month",e.year="year",e))(Dt||{}),Pt=(e=>(e.top="top",e.bottom="bottom",e))(Pt||{}),ua=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(ua||{}),ct=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(ct||{});const fi=["timestamp","date","iso"];var mt=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(mt||{}),He=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(He||{}),ka=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(ka||{});function Pl(e){return t=>{const n=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?n.slice(2,5):n.slice(0,2)}}function hi(e){return t=>Vt(gt(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const yi=(e,t,n)=>{const a=[1,2,3,4,5,6,7];let l;if(e!==null)try{l=a.map(hi(e))}catch{l=a.map(Pl(t))}else l=a.map(Pl(t));const r=l.slice(0,n),s=l.slice(n+1,l.length);return[l[n]].concat(...s).concat(...r)},al=(e,t,n)=>{const a=[];for(let l=+e[0];l<=+e[1];l++)a.push({value:+l,text:ll(l,t)});return n?a.reverse():a},ur=(e,t,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(r=>{const s=r<10?`0${r}`:r;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(e!==null)try{const r=n==="long"?"LLLL":"LLL";return a.map((s,p)=>{const u=Vt(gt(s,"UTC"),r,{locale:e});return{text:u.charAt(0).toUpperCase()+u.substring(1),value:p}})}catch{}const l=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return a.map((r,s)=>{const p=l.format(r);return{text:p.charAt(0).toUpperCase()+p.substring(1),value:s}})},gi=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],et=e=>{const t=v(e);return t?.$el?t?.$el:t},bi=e=>({type:"dot",...e??{}}),dr=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,nl={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},lt=e=>e,Cl=e=>e===0?e:!e||isNaN(+e)?null:+e,Al=e=>e===null,cr=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},wi=e=>{const t=[],n=a=>a.filter(l=>l);for(let a=0;a<e.length;a+=3){const l=[e[a],e[a+1],e[a+2]];t.push(n(l))}return t},Ha=(e,t,n)=>{const a=n!=null,l=t!=null;if(!a&&!l)return!1;const r=+n,s=+t;return a&&l?+e>r||+e<s:a?+e>r:l?+e<s:!1},Pa=(e,t)=>wi(e).map(n=>n.map(a=>{const{active:l,disabled:r,isBetween:s,highlighted:p}=t(a);return{...a,active:l,disabled:r,className:{dp__overlay_cell_active:l,dp__overlay_cell:!l,dp__overlay_cell_disabled:r,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:r&&l,dp__cell_in_between:s,"dp--highlighted":p}}})),Jt=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},xi=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function ki(e,t){let n=[...document.querySelectorAll(xi())];n=n.filter(l=>!e.contains(l)||l.hasAttribute("data-datepicker-instance"));const a=n.indexOf(e);if(a>=0&&(t?a-1>=0:a+1<=n.length))return n[a+(t?-1:1)]}const Ln=(e,t)=>e?.querySelector(`[data-dp-element="${t}"]`),ll=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),rl=(e,t)=>Vt(e,t??ka.DATE),Tn=e=>Array.isArray(e),on=(e,t,n)=>t.get(rl(e,n)),_i=(e,t)=>e?t?t instanceof Map?!!on(e,t):t(G(e)):!1:!0,ft=(e,t,n=!1,a)=>{if(e.key===He.enter||e.key===He.space)return n&&e.preventDefault(),t();if(a)return a(e)},Mi=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,vr=(e,t)=>e?ka.MONTH_AND_YEAR:t?ka.YEAR:ka.DATE,pr=e=>e<10?`0${e}`:e,$l=(e,t,n,a,l,r)=>{const s=Vn(e,t.slice(0,e.length),new Date,{locale:r});return Va(s)&&ql(s)?a||l?s:Ve(s,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},Ti=(e,t,n,a,l,r)=>{const s=Array.isArray(n)?n[0]:n;if(typeof t=="string")return $l(e,t,s,a,l,r);if(Array.isArray(t)){let p=null;for(const u of t)if(p=$l(e,u,s,a,l,r),p)break;return p}return typeof t=="function"?t(e):null},G=e=>e?new Date(e):new Date,Di=(e,t,n)=>{if(t){const l=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),p=e.getMinutes().toString().padStart(2,"0"),u=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${l}-${r}T${s}:${p}:${u}.000Z`}const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},at=(e,t)=>{const n=G(JSON.parse(JSON.stringify(e))),a=Ve(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?ys(a):a},Zt=(e,t,n,a)=>{let l=e?G(e):G();return(t||t===0)&&(l=ui(l,+t)),(n||n===0)&&(l=di(l,+n)),(a||a===0)&&(l=sr(l,+a)),rr(l,0)},je=(e,t)=>!e||!t?!1:Ta(at(e),at(t)),Se=(e,t)=>!e||!t?!1:wa(at(e),at(t)),Ke=(e,t)=>!e||!t?!1:ca(at(e),at(t)),za=(e,t,n)=>e?.[0]&&e?.[1]?Ke(n,e[0])&&je(n,e[1]):e?.[0]&&t?Ke(n,e[0])&&je(n,t)||je(n,e[0])&&Ke(n,t):!1,Ot=e=>{const t=Ve(new Date(e),{date:1});return at(t)},Dn=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===t?[a,n]:[a,isNaN(+e[a])?void 0:+e[a]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},da=e=>({hours:jt(e),minutes:ta(e),seconds:Ma(e)}),mr=(e,t)=>{if(t){const n=_e(G(t));if(n>e)return 12;if(n===e)return Oe(G(t))}},fr=(e,t)=>{if(t){const n=_e(G(t));return n<e?-1:n===e?Oe(G(t)):void 0}},Ca=e=>{if(e)return _e(G(e))},hr=(e,t)=>{const n=Ke(e,t)?t:e,a=Ke(t,e)?t:e;return jl({start:n,end:a})},Pi=e=>{const t=St(e,1);return{month:Oe(t),year:_e(t)}},Ht=(e,t)=>{const n=Rt(e,{weekStartsOn:+t}),a=Xl(e,{weekStartsOn:+t});return[n,a]},yr=(e,t)=>{const n={hours:jt(G()),minutes:ta(G()),seconds:t?Ma(G()):0};return Object.assign(n,e)},Gt=(e,t,n)=>[Ve(G(e),{date:1}),Ve(G(),{month:t,year:n,date:1})],qt=(e,t,n)=>{let a=e?G(e):G();return(t||t===0)&&(a=lr(a,t)),n&&(a=$t(a,n)),a},gr=(e,t,n,a,l)=>{if(!a||l&&!t||!l&&!n)return!1;const r=l?St(e,1):Da(e,1),s=[Oe(r),_e(r)];return l?!Ai(...s,t):!Ci(...s,n)},Ci=(e,t,n)=>je(...Gt(n,e,t))||Se(...Gt(n,e,t)),Ai=(e,t,n)=>Ke(...Gt(n,e,t))||Se(...Gt(n,e,t)),br=(e,t,n,a,l,r,s)=>{if(typeof t=="function"&&!s)return t(e);const p=n?{locale:n}:void 0;return Array.isArray(e)?`${Vt(e[0],r,p)}${l&&!e[1]?"":a}${e[1]?Vt(e[1],r,p):""}`:Vt(e,r,p)},ga=e=>{if(e)return null;throw new Error(nl.prop("partial-range"))},en=(e,t)=>{if(t)return e();throw new Error(nl.prop("range"))},Hn=e=>Array.isArray(e)?Va(e[0])&&(e[1]?Va(e[1]):!0):e?Va(e):!1,$i=(e,t)=>Ve(t??G(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Pn=(e,t,n,a)=>{if(!e)return!0;if(a){const l=n==="max"?Ta(e,t):ca(e,t),r={seconds:0,milliseconds:0};return l||wa(Ve(e,r),Ve(t,r))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},Cn=(e,t,n)=>e?$i(e,t):G(n??t),Ol=(e,t,n,a,l)=>{if(Array.isArray(a)){const s=Cn(e,a[0],t),p=Cn(e,a[1],t);return Pn(a[0],s,n,!!t)&&Pn(a[1],p,n,!!t)&&l}const r=Cn(e,a,t);return Pn(a,r,n,!!t)&&l},An=e=>Ve(G(),da(e)),Oi=(e,t,n)=>{if(e instanceof Map){const a=`${pr(n+1)}-${t}`;return e.size?e.has(a):!1}return typeof e=="function"?e(at(Ve(G(),{month:n,year:t}),!0)):!1},Si=(e,t,n)=>{if(e instanceof Map){const a=`${pr(n+1)}-${t}`;return e.size?e.has(a):!0}return!0},wr=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(a=>a.month===t&&a.year===n),sl=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),zn=e=>`dp-${Vt(e,"yyyy-MM-dd")}`,Sl=(e,t)=>{const n=nr(at(t),e),a=Mt(at(t),e);return{before:n,after:a}},xr=(e,t)=>t<+e[0]||t>+e[1],Na=qa({menuFocused:!1,shiftKeyInMenu:!1}),kr=()=>{const e=n=>{Na.menuFocused=n},t=n=>{Na.shiftKeyInMenu!==n&&(Na.shiftKeyInMenu=n)};return{control:H(()=>({shiftKeyInMenu:Na.shiftKeyInMenu,menuFocused:Na.menuFocused})),setMenuFocused:e,setShiftKey:t}},Le=qa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),$n=F(null),tn=F(!1),On=F(!1),Sn=F(!1),Rn=F(!1),dt=F(0),Qe=F(0),aa=()=>{const e=H(()=>tn.value?[...Le.selectionGrid,Le.actionRow].filter(f=>f.length):On.value?[...Le.timePicker[0],...Le.timePicker[1],Rn.value?[]:[$n.value],Le.actionRow].filter(f=>f.length):Sn.value?[...Le.monthPicker,Le.actionRow]:[Le.monthYear,...Le.calendar,Le.time,Le.actionRow].filter(f=>f.length)),t=f=>{dt.value=f?dt.value+1:dt.value-1;let g=null;e.value[Qe.value]&&(g=e.value[Qe.value][dt.value]),!g&&e.value[Qe.value+(f?1:-1)]?(Qe.value=Qe.value+(f?1:-1),dt.value=f?0:e.value[Qe.value].length-1):g||(dt.value=f?dt.value-1:dt.value+1)},n=f=>{Qe.value===0&&!f||Qe.value===e.value.length&&f||(Qe.value=f?Qe.value+1:Qe.value-1,e.value[Qe.value]?e.value[Qe.value]&&!e.value[Qe.value][dt.value]&&dt.value!==0&&(dt.value=e.value[Qe.value].length-1):Qe.value=f?Qe.value-1:Qe.value+1)},a=f=>{let g=null;e.value[Qe.value]&&(g=e.value[Qe.value][dt.value]),g?g.focus({preventScroll:!tn.value}):dt.value=f?dt.value-1:dt.value+1},l=()=>{t(!0),a(!0)},r=()=>{t(!1),a(!1)},s=()=>{n(!1),a(!0)},p=()=>{n(!0),a(!0)},u=(f,g)=>{Le[g]=f},T=(f,g)=>{Le[g]=f},m=()=>{dt.value=0,Qe.value=0};return{buildMatrix:u,buildMultiLevelMatrix:T,setTimePickerBackRef:f=>{$n.value=f},setSelectionGrid:f=>{tn.value=f,m(),f||(Le.selectionGrid=[])},setTimePicker:(f,g=!1)=>{On.value=f,Rn.value=g,m(),f||(Le.timePicker[0]=[],Le.timePicker[1]=[])},setTimePickerElements:(f,g=0)=>{Le.timePicker[g]=f},arrowRight:l,arrowLeft:r,arrowUp:s,arrowDown:p,clearArrowNav:()=>{Le.monthYear=[],Le.calendar=[],Le.time=[],Le.actionRow=[],Le.selectionGrid=[],Le.timePicker[0]=[],Le.timePicker[1]=[],tn.value=!1,On.value=!1,Rn.value=!1,Sn.value=!1,m(),$n.value=null},setMonthPicker:f=>{Sn.value=f,m()},refSets:Le}},Rl=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Ri=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),Yl=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Yi=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:Yl(!1)};const a=t?e:{},l=t?a.count??!0:e,r=Yl(l);return Object.assign(n,a,{count:r})},Fi=(e,t,n)=>e||(typeof n=="string"?n:t),Ii=e=>typeof e=="boolean"?e?Rl({}):!1:Rl(e),Bi=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},Ni=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Vi=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Ei=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},Li=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),Hi=e=>{const t={dates:Array.isArray(e)?e.map(n=>G(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},zi=e=>typeof e=="object"?{type:e?.type??"local",hideOnOffsetDates:e?.hideOnOffsetDates??!1}:{type:e,hideOnOffsetDates:!1},qi=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},Wi=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},Yn=(e,t,n,a)=>new Map(e.map(l=>{const r=tl(l,t,a);return[rl(r,n),r]})),ji=(e,t)=>e.length?new Map(e.map(n=>{const a=tl(n.date,t);return[rl(a,ka.DATE),n]})):null,Ui=e=>{const t=vr(e.isMonthPicker,e.isYearPicker);return{minDate:En(e.minDate,e.timezone,e.isSpecific),maxDate:En(e.maxDate,e.timezone,e.isSpecific),disabledDates:Tn(e.disabledDates)?Yn(e.disabledDates,e.timezone,t,e.isSpecific):e.disabledDates,allowedDates:Tn(e.allowedDates)?Yn(e.allowedDates,e.timezone,t,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Tn(e.highlight?.dates)?Yn(e.highlight.dates,e.timezone,t):e.highlight,markers:ji(e.markers,e.timezone)}},Xi=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},Qi=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,a=e[n],l=typeof e[n]=="string"?{[a]:!0}:Object.fromEntries(a.map(r=>[r,!0]));return[t,l]}))}),ze=e=>{const t=()=>{const Y=e.enableSeconds?":ss":"",z=e.enableMinutes?":mm":"";return e.is24?`HH${z}${Y}`:`hh${z}${Y} aa`},n=()=>e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${R.value?.type==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy",a=Y=>yr(Y,e.enableSeconds),l=()=>U.value.enabled?e.startTime&&Array.isArray(e.startTime)?[a(e.startTime[0]),a(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?a(e.startTime):null,r=H(()=>Yi(e.multiCalendars)),s=H(()=>l()),p=H(()=>Ri(e.ariaLabels)),u=H(()=>Ni(e.filters)),T=H(()=>Ii(e.transitions)),m=H(()=>Vi(e.actionRow)),f=H(()=>Fi(e.previewFormat,e.format,n())),g=H(()=>Bi(e.textInput)),P=H(()=>Ei(e.inline)),_=H(()=>Li(e.config)),O=H(()=>Hi(e.highlight)),R=H(()=>zi(e.weekNumbers)),I=H(()=>Wi(e.timezone)),E=H(()=>Xi(e.multiDates)),$=H(()=>Ui({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:O.value,markers:e.markers,timezone:I.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),U=H(()=>qi(e.range)),J=H(()=>Qi(e.ui));return{defaultedTransitions:T,defaultedMultiCalendars:r,defaultedStartTime:s,defaultedAriaLabels:p,defaultedFilters:u,defaultedActionRow:m,defaultedPreviewFormat:f,defaultedTextInput:g,defaultedInline:P,defaultedConfig:_,defaultedHighlight:O,defaultedWeekNumbers:R,defaultedRange:U,propDates:$,defaultedTz:I,defaultedMultiDates:E,defaultedUI:J,getDefaultPattern:n,getDefaultStartTime:l,handleEventPropagation:Y=>{_.value.allowStopPropagation&&Y.stopPropagation(),_.value.allowPreventDefault&&Y.preventDefault()}}},Ki=(e,t,{isInputFocused:n,isTextInputDate:a})=>{const l=F(),{defaultedTextInput:r,defaultedRange:s,defaultedTz:p,defaultedMultiDates:u,getDefaultPattern:T}=ze(t),m=F(""),f=La(t,"format"),g=La(t,"formatLocale");Ze(l,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",l.value,h(!0))},{deep:!0}),Ze(s,(c,K)=>{c.enabled!==K.enabled&&(l.value=null)}),Ze(f,()=>{W()});const P=c=>p.value.timezone&&p.value.convertModel?gt(c,p.value.timezone):c,_=c=>{if(p.value.timezone&&p.value.convertModel){const K=mi(p.value.timezone,c);return ds(c,K)}return c},O=(c,K,$e=!1)=>br(c,t.format,t.formatLocale,r.value.rangeSeparator,t.modelAuto,K??T(),$e),R=c=>c?t.modelType?S(c):{hours:jt(c),minutes:ta(c),seconds:t.enableSeconds?Ma(c):0}:null,I=c=>t.modelType?S(c):{month:Oe(c),year:_e(c)},E=c=>Array.isArray(c)?u.value.enabled?c.map(K=>$(K,$t(G(),K))):en(()=>[$t(G(),c[0]),c[1]?$t(G(),c[1]):ga(s.value.partialRange)],s.value.enabled):$t(G(),+c),$=(c,K)=>(typeof c=="string"||typeof c=="number")&&t.modelType?te(c):K,U=c=>Array.isArray(c)?[$(c[0],Zt(null,+c[0].hours,+c[0].minutes,c[0].seconds)),$(c[1],Zt(null,+c[1].hours,+c[1].minutes,c[1].seconds))]:$(c,Zt(null,c.hours,c.minutes,c.seconds)),J=c=>{const K=Ve(G(),{date:1});return Array.isArray(c)?u.value.enabled?c.map($e=>$($e,qt(K,+$e.month,+$e.year))):en(()=>[$(c[0],qt(K,+c[0].month,+c[0].year)),$(c[1],c[1]?qt(K,+c[1].month,+c[1].year):ga(s.value.partialRange))],s.value.enabled):$(c,qt(K,+c.month,+c.year))},Y=c=>{if(Array.isArray(c))return c.map(K=>te(K));throw new Error(nl.dateArr("multi-dates"))},z=c=>{if(Array.isArray(c)&&s.value.enabled){const K=c[0],$e=c[1];return[G(Array.isArray(K)?K[0]:null),Array.isArray($e)&&$e.length?G($e[0]):null]}return G(c[0])},le=c=>t.modelAuto?Array.isArray(c)?[te(c[0]),te(c[1])]:t.autoApply?[te(c)]:[te(c),null]:Array.isArray(c)?en(()=>c[1]?[te(c[0]),c[1]?te(c[1]):ga(s.value.partialRange)]:[te(c[0])],s.value.enabled):te(c),X=()=>{Array.isArray(l.value)&&s.value.enabled&&l.value.length===1&&l.value.push(ga(s.value.partialRange))},L=()=>{const c=l.value;return[S(c[0]),c[1]?S(c[1]):ga(s.value.partialRange)]},re=()=>Array.isArray(l.value)?l.value[1]?L():S(lt(l.value[0])):[],me=()=>(l.value||[]).map(c=>S(c)),be=(c=!1)=>(c||X(),t.modelAuto?re():u.value.enabled?me():Array.isArray(l.value)?en(()=>L(),s.value.enabled):S(lt(l.value))),k=c=>!c||Array.isArray(c)&&!c.length?null:t.timePicker?U(lt(c)):t.monthPicker?J(lt(c)):t.yearPicker?E(lt(c)):u.value.enabled?Y(lt(c)):t.weekPicker?z(lt(c)):le(lt(c)),A=c=>{if(a.value)return;const K=k(c);Hn(lt(K))?(l.value=lt(K),W()):(l.value=null,m.value="")},x=()=>{const c=K=>Vt(K,r.value.format);return`${c(l.value[0])} ${r.value.rangeSeparator} ${l.value[1]?c(l.value[1]):""}`},Q=()=>n.value&&l.value?Array.isArray(l.value)?x():Vt(l.value,r.value.format):O(l.value),oe=()=>l.value?u.value.enabled?l.value.map(c=>O(c)).join("; "):r.value.enabled&&typeof r.value.format=="string"?Q():O(l.value):"",W=()=>{!t.format||typeof t.format=="string"||r.value.enabled&&typeof r.value.format=="string"?m.value=oe():m.value=t.format(l.value)},te=c=>{if(t.utc){const K=new Date(c);return t.utc==="preserve"?new Date(K.getTime()+K.getTimezoneOffset()*6e4):K}return t.modelType?fi.includes(t.modelType)?P(new Date(c)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?P(Vn(c,T(),new Date,{locale:g.value})):P(Vn(c,t.modelType,new Date,{locale:g.value})):P(new Date(c))},S=c=>c?t.utc?Di(c,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+_(c):t.modelType==="iso"?_(c).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?O(_(c)):O(_(c),t.modelType,!0):_(c):"",de=(c,K=!1,$e=!1)=>{if($e)return c;if(e("update:model-value",c),p.value.emitTimezone&&K){const Z=Array.isArray(c)?c.map(Pe=>gt(lt(Pe),p.value.emitTimezone)):gt(lt(c),p.value.emitTimezone);e("update:model-timezone-value",Z)}},y=c=>Array.isArray(l.value)?u.value.enabled?l.value.map(K=>c(K)):[c(l.value[0]),l.value[1]?c(l.value[1]):ga(s.value.partialRange)]:c(lt(l.value)),q=()=>{if(Array.isArray(l.value)){const c=Ht(l.value[0],t.weekStart),K=l.value[1]?Ht(l.value[1],t.weekStart):[];return[c.map($e=>G($e)),K.map($e=>G($e))]}return Ht(l.value,t.weekStart).map(c=>G(c))},C=(c,K)=>de(lt(y(c)),!1,K),ie=c=>{const K=q();return c?K:e("update:model-value",q())},h=(c=!1)=>(c||W(),t.monthPicker?C(I,c):t.timePicker?C(R,c):t.yearPicker?C(_e,c):t.weekPicker?ie(c):de(be(c),!0,c));return{inputValue:m,internalModelValue:l,checkBeforeEmit:()=>l.value?s.value.enabled?s.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:A,formatInputValue:W,emitModelValue:h}},Gi=(e,t)=>{const{defaultedFilters:n,propDates:a}=ze(e),{validateMonthYearInRange:l}=na(e),r=(m,f)=>{let g=m;return n.value.months.includes(Oe(g))?(g=f?St(m,1):Da(m,1),r(g,f)):g},s=(m,f)=>{let g=m;return n.value.years.includes(_e(g))?(g=f?qn(m,1):or(m,1),s(g,f)):g},p=(m,f=!1)=>{const g=Ve(G(),{month:e.month,year:e.year});let P=m?St(g,1):Da(g,1);e.disableYearSelect&&(P=$t(P,e.year));let _=Oe(P),O=_e(P);n.value.months.includes(_)&&(P=r(P,m),_=Oe(P),O=_e(P)),n.value.years.includes(O)&&(P=s(P,m),O=_e(P)),l(_,O,m,e.preventMinMaxNavigation)&&u(_,O,f)},u=(m,f,g)=>{t("update-month-year",{month:m,year:f,fromNav:g})},T=H(()=>m=>gr(Ve(G(),{month:e.month,year:e.year}),a.value.maxDate,a.value.minDate,e.preventMinMaxNavigation,m));return{handleMonthYearChange:p,isDisabled:T,updateMonthYear:u}},cn={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Yt={...cn,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},Ji=["title"],Zi=["disabled"],eu=Xe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Yt},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,a=e,{defaultedActionRow:l,defaultedPreviewFormat:r,defaultedMultiCalendars:s,defaultedTextInput:p,defaultedInline:u,defaultedRange:T,defaultedMultiDates:m}=ze(a),{isTimeValid:f,isMonthValid:g}=na(a),{buildMatrix:P}=aa(),_=F(null),O=F(null),R=F(!1),I=F({}),E=F(null),$=F(null);it(()=>{a.arrowNavigation&&P([et(_),et(O)],"actionRow"),U(),window.addEventListener("resize",U)}),Aa(()=>{window.removeEventListener("resize",U)});const U=()=>{R.value=!1,setTimeout(()=>{const k=E.value?.getBoundingClientRect(),A=$.value?.getBoundingClientRect();k&&A&&(I.value.maxWidth=`${A.width-k.width-20}px`),R.value=!0},0)},J=H(()=>T.value.enabled&&!T.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),Y=H(()=>!f.value(a.internalModelValue)||!g.value(a.internalModelValue)||!J.value),z=()=>{const k=r.value;return a.timePicker||a.monthPicker,k(lt(a.internalModelValue))},le=()=>{const k=a.internalModelValue;return s.value.count>0?`${X(k[0])} - ${X(k[1])}`:[X(k[0]),X(k[1])]},X=k=>br(k,r.value,a.formatLocale,p.value.rangeSeparator,a.modelAuto,r.value),L=H(()=>!a.internalModelValue||!a.menuMount?"":typeof r.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?le():m.value.enabled?a.internalModelValue.map(k=>`${X(k)}`):a.modelAuto?`${X(a.internalModelValue[0])}`:`${X(a.internalModelValue[0])} -`:X(a.internalModelValue):z()),re=()=>m.value.enabled?"; ":" - ",me=H(()=>Array.isArray(L.value)?L.value.join(re()):L.value),be=()=>{f.value(a.internalModelValue)&&g.value(a.internalModelValue)&&J.value?n("select-date"):n("invalid-select")};return(k,A)=>(b(),M("div",{ref_key:"actionRowRef",ref:$,class:"dp__action_row"},[k.$slots["action-row"]?pe(k.$slots,"action-row",rt(st({key:0},{internalModelValue:k.internalModelValue,disabled:Y.value,selectDate:()=>k.$emit("select-date"),closePicker:()=>k.$emit("close-picker")}))):(b(),M(Me,{key:1},[v(l).showPreview?(b(),M("div",{key:0,class:"dp__selection_preview",title:me.value,style:vt(I.value)},[k.$slots["action-preview"]&&R.value?pe(k.$slots,"action-preview",{key:0,value:k.internalModelValue}):j("",!0),!k.$slots["action-preview"]&&R.value?(b(),M(Me,{key:1},[Wt(Te(me.value),1)],64)):j("",!0)],12,Ji)):j("",!0),o("div",{ref_key:"actionBtnContainer",ref:E,class:"dp__action_buttons","data-dp-element":"action-row"},[k.$slots["action-buttons"]?pe(k.$slots,"action-buttons",{key:0,value:k.internalModelValue}):j("",!0),k.$slots["action-buttons"]?j("",!0):(b(),M(Me,{key:1},[!v(u).enabled&&v(l).showCancel?(b(),M("button",{key:0,ref_key:"cancelButtonRef",ref:_,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[0]||(A[0]=x=>k.$emit("close-picker")),onKeydown:A[1]||(A[1]=x=>v(ft)(x,()=>k.$emit("close-picker")))},Te(k.cancelText),545)):j("",!0),v(l).showNow?(b(),M("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:A[2]||(A[2]=x=>k.$emit("select-now")),onKeydown:A[3]||(A[3]=x=>v(ft)(x,()=>k.$emit("select-now")))},Te(k.nowButtonLabel),33)):j("",!0),v(l).showSelect?(b(),M("button",{key:2,ref_key:"selectButtonRef",ref:O,type:"button",class:"dp__action_button dp__action_select",disabled:Y.value,"data-test-id":"select-button",onKeydown:A[4]||(A[4]=x=>v(ft)(x,()=>be())),onClick:be},Te(k.selectText),41,Zi)):j("",!0)],64))],512)],64))],512))}}),tu=["role","aria-label","tabindex"],au={class:"dp__selection_grid_header"},nu=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],lu=["aria-label"],ja=Xe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:l,setMonthPicker:r}=aa(),s=n,p=e,{defaultedAriaLabels:u,defaultedTextInput:T,defaultedConfig:m,handleEventPropagation:f}=ze(p),{hideNavigationButtons:g}=mn(),P=F(!1),_=F(null),O=F(null),R=F([]),I=F(),E=F(null),$=F(0),U=F(null);es(()=>{_.value=null}),it(()=>{xt().then(()=>me()),p.noOverlayFocus||Y(),J(!0)}),Aa(()=>J(!1));const J=y=>{p.arrowNavigation&&(p.headerRefs?.length?r(y):a(y))},Y=()=>{const y=et(O);y&&(T.value.enabled||(_.value?_.value?.focus({preventScroll:!0}):y.focus({preventScroll:!0})),P.value=y.clientHeight<y.scrollHeight)},z=H(()=>({dp__overlay:!0,"dp--overlay-absolute":!p.useRelative,"dp--overlay-relative":p.useRelative})),le=H(()=>p.useRelative?{height:`${p.height}px`,width:"var(--dp-menu-min-width)"}:void 0),X=H(()=>({dp__overlay_col:!0})),L=H(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:P.value,dp__button_bottom:p.isLast})),re=H(()=>({dp__overlay_container:!0,dp__container_flex:p.items?.length<=6,dp__container_block:p.items?.length>6}));Ze(()=>p.items,()=>me(!1),{deep:!0});const me=(y=!0)=>{xt().then(()=>{const q=et(_),C=et(O),ie=et(E),h=et(U),c=ie?ie.getBoundingClientRect().height:0;C&&(C.getBoundingClientRect().height?$.value=C.getBoundingClientRect().height-c:$.value=m.value.modeHeight-c),q&&h&&y&&(h.scrollTop=q.offsetTop-h.offsetTop-($.value/2-q.getBoundingClientRect().height)-c)})},be=y=>{y.disabled||s("selected",y.value)},k=()=>{s("toggle"),s("reset-flow")},A=y=>{p.escClose&&(k(),f(y))},x=(y,q,C,ie)=>{y&&((q.active||q.value===p.focusValue)&&(_.value=y),p.arrowNavigation&&(Array.isArray(R.value[C])?R.value[C][ie]=y:R.value[C]=[y],Q()))},Q=()=>{const y=p.headerRefs?.length?[p.headerRefs].concat(R.value):R.value.concat([p.skipButtonRef?[]:[E.value]]);l(lt(y),p.headerRefs?.length?"monthPicker":"selectionGrid")},oe=y=>{p.arrowNavigation||Jt(y,m.value,!0)},W=y=>{I.value=y,s("hover-value",y)},te=()=>{if(k(),!p.isLast){const y=Ln(p.menuWrapRef??null,"action-row");y&&cr(y)?.focus()}},S=y=>{switch(y.key){case He.esc:return A(y);case He.arrowLeft:return oe(y);case He.arrowRight:return oe(y);case He.arrowUp:return oe(y);case He.arrowDown:return oe(y);default:return}},de=y=>{if(y.key===He.enter)return k();if(y.key===He.tab)return te()};return t({focusGrid:Y}),(y,q)=>(b(),M("div",{ref_key:"gridWrapRef",ref:O,class:se(z.value),style:vt(le.value),role:e.useRelative?void 0:"dialog","aria-label":e.overlayLabel,tabindex:e.useRelative?void 0:"0",onKeydown:S,onClick:q[0]||(q[0]=At(()=>{},["prevent"]))},[o("div",{ref_key:"containerRef",ref:U,class:se(re.value),style:vt({"--dp-overlay-height":`${$.value}px`}),role:"grid"},[o("div",au,[pe(y.$slots,"header")]),y.$slots.overlay?pe(y.$slots,"overlay",{key:0}):(b(!0),M(Me,{key:1},Be(e.items,(C,ie)=>(b(),M("div",{key:ie,class:se(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(b(!0),M(Me,null,Be(C,(h,c)=>(b(),M("div",{key:h.value,ref_for:!0,ref:K=>x(K,h,ie,c),role:"gridcell",class:se(X.value),"aria-selected":h.active||void 0,"aria-disabled":h.disabled||void 0,tabindex:"0","data-test-id":h.text,onClick:At(K=>be(h),["prevent"]),onKeydown:K=>v(ft)(K,()=>be(h),!0),onMouseover:K=>W(h.value)},[o("div",{class:se(h.className)},[y.$slots.item?pe(y.$slots,"item",{key:0,item:h}):j("",!0),y.$slots.item?j("",!0):(b(),M(Me,{key:1},[Wt(Te(h.text),1)],64))],2)],42,nu))),128))],2))),128))],6),y.$slots["button-icon"]?zt((b(),M("button",{key:0,ref_key:"toggleButton",ref:E,type:"button","aria-label":v(u)?.toggleOverlay,class:se(L.value),tabindex:"0",onClick:k,onKeydown:de},[pe(y.$slots,"button-icon")],42,lu)),[[an,!v(g)(e.hideNavigation,e.type)]]):j("",!0)],46,tu))}}),ru=["data-dp-mobile"],vn=Xe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,n=H(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),a=H(()=>({dp__instance_calendar:t.multiCalendars>0}));return(l,r)=>(b(),M("div",{class:se({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:e.multiCalendars>0,"dp--flex-display-collapsed":e.collapse}),"data-dp-mobile":e.isMobile},[(b(!0),M(Me,null,Be(n.value,(s,p)=>(b(),M("div",{key:s,class:se(a.value)},[pe(l.$slots,"default",{instance:s,index:p})],2))),128))],10,ru))}}),su=["data-dp-element","aria-label","aria-disabled"],Ea=Xe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,a=F(null);return it(()=>n("set-ref",a)),(l,r)=>(b(),M("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":e.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:r[0]||(r[0]=s=>n("activate")),onKeydown:r[1]||(r[1]=s=>v(ft)(s,()=>n("activate"),!0))},[o("span",{class:se(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[pe(l.$slots,"default")],2)],40,su))}}),ou=["aria-label","data-test-id"],_r=Xe({__name:"YearModePicker",props:{...Yt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,a=e,{showRightIcon:l,showLeftIcon:r}=mn(),{defaultedConfig:s,defaultedMultiCalendars:p,defaultedAriaLabels:u,defaultedTransitions:T,defaultedUI:m}=ze(a),{showTransition:f,transitionName:g}=Ua(T),P=F(!1),_=H(()=>ll(a.year,a.locale)),O=(E=!1,$)=>{P.value=!P.value,n("toggle-year-picker",{flow:E,show:$})},R=E=>{P.value=!1,n("year-select",E)},I=(E=!1)=>{n("handle-year",E)};return(E,$)=>(b(),M(Me,null,[o("div",{class:se(["dp--year-mode-picker",{"dp--hidden-el":P.value}])},[v(r)(v(p),e.instance)?(b(),Re(Ea,{key:0,ref:"mpPrevIconRef","aria-label":v(u)?.prevYear,disabled:e.isDisabled(!1),class:se(v(m)?.navBtnPrev),onActivate:$[0]||($[0]=U=>I(!1))},{default:De(()=>[E.$slots["arrow-left"]?pe(E.$slots,"arrow-left",{key:0}):j("",!0),E.$slots["arrow-left"]?j("",!0):(b(),Re(v(Kn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):j("",!0),o("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${v(u)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:$[1]||($[1]=()=>O(!1)),onKeydown:$[2]||($[2]=nn(()=>O(!1),["enter"]))},[E.$slots.year?pe(E.$slots,"year",{key:0,year:e.year,text:_.value,value:e.year}):j("",!0),E.$slots.year?j("",!0):(b(),M(Me,{key:1},[Wt(Te(_.value),1)],64))],40,ou),v(l)(v(p),e.instance)?(b(),Re(Ea,{key:1,ref:"mpNextIconRef","aria-label":v(u)?.nextYear,disabled:e.isDisabled(!0),class:se(v(m)?.navBtnNext),onActivate:$[3]||($[3]=U=>I(!0))},{default:De(()=>[E.$slots["arrow-right"]?pe(E.$slots,"arrow-right",{key:0}):j("",!0),E.$slots["arrow-right"]?j("",!0):(b(),Re(v(Gn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):j("",!0)],2),Ee(ea,{name:v(g)(e.showYearPicker),css:v(f)},{default:De(()=>[e.showYearPicker?(b(),Re(ja,{key:0,items:e.items,"text-input":E.textInput,"esc-close":E.escClose,config:E.config,"is-last":E.autoApply&&!v(s).keepActionRow,"hide-navigation":E.hideNavigation,"aria-labels":E.ariaLabels,"overlay-label":v(u)?.yearPicker?.(!0),type:"year",onToggle:O,onSelected:$[4]||($[4]=U=>R(U))},pt({"button-icon":De(()=>[E.$slots["calendar-icon"]?pe(E.$slots,"calendar-icon",{key:0}):j("",!0),E.$slots["calendar-icon"]?j("",!0):(b(),Re(v($a),{key:1}))]),_:2},[E.$slots["year-overlay-value"]?{name:"item",fn:De(({item:U})=>[pe(E.$slots,"year-overlay-value",{text:U.text,value:U.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):j("",!0)]),_:3},8,["name","css"])],64))}}),ol=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(a=>Se(e,a))){const a=t.value.filter(l=>!Se(l,e));t.value=a.length?a:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},il=(e,t,n)=>{let a=e.value?e.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?(je(t,a[0])?a.unshift(t):a[1]=t,n("range-end",t)):(a=[t],n("range-start",t)),a},pn=(e,t,n,a)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&a&&n&&t("auto-apply"))},Mr=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>gt(G(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=gt(G(e.value),e.timezone))},Tr=(e,t,n,a)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(Ke(e,t.value[0])||Se(e,t.value[0]))?[t.value[0],e]:a.value.fixedEnd&&(je(e,t.value[1])||Se(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],Dr=({multiCalendars:e,range:t,highlight:n,propDates:a,calendars:l,modelValue:r,props:s,filters:p,year:u,month:T,emit:m})=>{const f=H(()=>al(s.yearRange,s.locale,s.reverseYears)),g=F([!1]),P=H(()=>(L,re)=>{const me=Ve(Ot(new Date),{month:T.value(L),year:u.value(L)}),be=re?Ul(me):xa(me);return gr(be,a.value.maxDate,a.value.minDate,s.preventMinMaxNavigation,re)}),_=()=>Array.isArray(r.value)&&e.value.solo&&r.value[1],O=()=>{for(let L=0;L<e.value.count;L++)if(L===0)l.value[L]=l.value[0];else if(L===e.value.count-1&&_())l.value[L]={month:Oe(r.value[1]),year:_e(r.value[1])};else{const re=Ve(G(),l.value[L-1]);l.value[L]={month:Oe(re),year:_e(qn(re,1))}}},R=L=>{if(!L)return O();const re=Ve(G(),l.value[L]);return l.value[0].year=_e(or(re,e.value.count-1)),O()},I=(L,re)=>{const me=fs(re,L);return t.value.showLastInRange&&me>1?re:L},E=L=>s.focusStartDate||e.value.solo?L[0]:L[1]?I(L[0],L[1]):L[0],$=()=>{if(r.value){const L=Array.isArray(r.value)?E(r.value):r.value;l.value[0]={month:Oe(L),year:_e(L)}}},U=()=>{$(),e.value.count&&O()};Ze(r,(L,re)=>{s.isTextInputDate&&JSON.stringify(L??{})!==JSON.stringify(re??{})&&U()}),it(()=>{U()});const J=(L,re)=>{l.value[re].year=L,m("update-month-year",{instance:re,year:L,month:l.value[re].month}),e.value.count&&!e.value.solo&&R(re)},Y=H(()=>L=>Pa(f.value,re=>{const me=u.value(L)===re.value,be=Ha(re.value,Ca(a.value.minDate),Ca(a.value.maxDate))||p.value.years?.includes(u.value(L)),k=sl(n.value,re.value);return{active:me,disabled:be,highlighted:k}})),z=(L,re)=>{J(L,re),X(re)},le=(L,re=!1)=>{if(!P.value(L,re)){const me=re?u.value(L)+1:u.value(L)-1;J(me,L)}},X=(L,re=!1,me)=>{re||m("reset-flow"),me!==void 0?g.value[L]=me:g.value[L]=!g.value[L],g.value[L]?m("overlay-toggle",{open:!0,overlay:ct.year}):(m("overlay-closed"),m("overlay-toggle",{open:!1,overlay:ct.year}))};return{isDisabled:P,groupedYears:Y,showYearPicker:g,selectYear:J,toggleYearPicker:X,handleYearSelect:z,handleYear:le}},iu=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:l,defaultedConfig:r,defaultedRange:s,defaultedHighlight:p,propDates:u,defaultedTz:T,defaultedFilters:m,defaultedMultiDates:f}=ze(e),g=()=>{e.isTextInputDate&&U(_e(G(e.startDate)),0)},{modelValue:P,year:_,month:O,calendars:R}=Xa(e,t,g),I=H(()=>ur(e.formatLocale,e.locale,e.monthNameFormat)),E=F(null),{checkMinMaxRange:$}=na(e),{selectYear:U,groupedYears:J,showYearPicker:Y,toggleYearPicker:z,handleYearSelect:le,handleYear:X,isDisabled:L}=Dr({modelValue:P,multiCalendars:n,range:s,highlight:p,calendars:R,year:_,propDates:u,month:O,filters:m,props:e,emit:t});it(()=>{e.startDate&&(P.value&&e.focusStartDate||!P.value)&&U(_e(G(e.startDate)),0)});const re=q=>q?{month:Oe(q),year:_e(q)}:{month:null,year:null},me=()=>P.value?Array.isArray(P.value)?P.value.map(q=>re(q)):re(P.value):re(),be=(q,C)=>{const ie=R.value[q],h=me();return Array.isArray(h)?h.some(c=>c.year===ie?.year&&c.month===C):ie?.year===h.year&&C===h.month},k=(q,C,ie)=>{const h=me();return Array.isArray(h)?_.value(C)===h[ie]?.year&&q===h[ie]?.month:!1},A=(q,C)=>{if(s.value.enabled){const ie=me();if(Array.isArray(P.value)&&Array.isArray(ie)){const h=k(q,C,0)||k(q,C,1),c=qt(Ot(G()),q,_.value(C));return za(P.value,E.value,c)&&!h}return!1}return!1},x=H(()=>q=>Pa(I.value,C=>{const ie=be(q,C.value),h=Ha(C.value,mr(_.value(q),u.value.minDate),fr(_.value(q),u.value.maxDate))||Oi(u.value.disabledDates,_.value(q),C.value)||m.value.months?.includes(C.value)||!Si(u.value.allowedDates,_.value(q),C.value)||xr(e.yearRange,_.value(q)),c=A(C.value,q),K=wr(p.value,C.value,_.value(q));return{active:ie,disabled:h,isBetween:c,highlighted:K}})),Q=(q,C)=>qt(Ot(G()),q,_.value(C)),oe=(q,C)=>{const ie=P.value?P.value:Ot(new Date);P.value=qt(ie,q,_.value(C)),t("auto-apply"),t("update-flow-step")},W=(q,C)=>{const ie=Q(q,C);s.value.fixedEnd||s.value.fixedStart?P.value=Tr(ie,P,t,s):P.value?$(ie,P.value)&&(P.value=il(P,Q(q,C),t)):P.value=[Q(q,C)],xt().then(()=>{pn(P.value,t,e.autoApply,e.modelAuto)})},te=(q,C)=>{ol(Q(q,C),P,f.value.limit),t("auto-apply",!0)},S=(q,C)=>(R.value[C].month=q,y(C,R.value[C].year,q),f.value.enabled?te(q,C):s.value.enabled?W(q,C):oe(q,C)),de=(q,C)=>{U(q,C),y(C,q,null)},y=(q,C,ie)=>{let h=ie;if(!h&&h!==0){const c=me();h=Array.isArray(c)?c[q].month:c.month}t("update-month-year",{instance:q,year:C,month:h})};return{groupedMonths:x,groupedYears:J,year:_,isDisabled:L,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:l,defaultedConfig:r,showYearPicker:Y,modelValue:P,presetDate:(q,C)=>{Mr({value:q,modelValue:P,range:s.value.enabled,timezone:C?void 0:T.value.timezone}),t("auto-apply")},setHoverDate:(q,C)=>{E.value=Q(q,C)},selectMonth:S,selectYear:de,toggleYearPicker:z,handleYearSelect:le,handleYear:X,getModelMonthYear:me}},uu=Xe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Yt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=va(),r=wt(l,"yearMode"),s=e;it(()=>{s.shadow||a("mount",null)});const{groupedMonths:p,groupedYears:u,year:T,isDisabled:m,defaultedMultiCalendars:f,defaultedConfig:g,showYearPicker:P,modelValue:_,presetDate:O,setHoverDate:R,selectMonth:I,selectYear:E,toggleYearPicker:$,handleYearSelect:U,handleYear:J,getModelMonthYear:Y}=iu(s,a);return t({getSidebarProps:()=>({modelValue:_,year:T,getModelMonthYear:Y,selectMonth:I,selectYear:E,handleYear:J}),presetDate:O,toggleYearPicker:z=>$(0,z)}),(z,le)=>(b(),Re(vn,{"multi-calendars":v(f).count,collapse:z.collapse,stretch:"","is-mobile":z.isMobile},{default:De(({instance:X})=>[z.$slots["top-extra"]?pe(z.$slots,"top-extra",{key:0,value:z.internalModelValue}):j("",!0),z.$slots["month-year"]?pe(z.$slots,"month-year",rt(st({key:1},{year:v(T),months:v(p)(X),years:v(u)(X),selectMonth:v(I),selectYear:v(E),instance:X}))):(b(),Re(ja,{key:2,items:v(p)(X),"arrow-navigation":z.arrowNavigation,"is-last":z.autoApply&&!v(g).keepActionRow,"esc-close":z.escClose,height:v(g).modeHeight,config:z.config,"no-overlay-focus":!!(z.noOverlayFocus||z.textInput),"use-relative":"",type:"month",onSelected:L=>v(I)(L,X),onHoverValue:L=>v(R)(L,X)},pt({header:De(()=>[Ee(_r,st(z.$props,{items:v(u)(X),instance:X,"show-year-picker":v(P)[X],year:v(T)(X),"is-disabled":L=>v(m)(X,L),onHandleYear:L=>v(J)(X,L),onYearSelect:L=>v(U)(L,X),onToggleYearPicker:L=>v($)(X,L?.flow,L?.show)}),pt({_:2},[Be(v(r),(L,re)=>({name:L,fn:De(me=>[pe(z.$slots,L,rt(yt(me)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[z.$slots["month-overlay-value"]?{name:"item",fn:De(({item:L})=>[pe(z.$slots,"month-overlay-value",{text:L.text,value:L.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),du=(e,t)=>{const n=()=>{e.isTextInputDate&&(m.value=_e(G(e.startDate)))},{modelValue:a}=Xa(e,t,n),l=F(null),{defaultedHighlight:r,defaultedMultiDates:s,defaultedFilters:p,defaultedRange:u,propDates:T}=ze(e),m=F();it(()=>{e.startDate&&(a.value&&e.focusStartDate||!a.value)&&(m.value=_e(G(e.startDate)))});const f=I=>Array.isArray(a.value)?a.value.some(E=>_e(E)===I):a.value?_e(a.value)===I:!1,g=I=>u.value.enabled&&Array.isArray(a.value)?za(a.value,l.value,R(I)):!1,P=I=>T.value.allowedDates instanceof Map?T.value.allowedDates.size?T.value.allowedDates.has(`${I}`):!1:!0,_=I=>T.value.disabledDates instanceof Map?T.value.disabledDates.size?T.value.disabledDates.has(`${I}`):!1:typeof T.value.disabledDates=="function"?T.value.disabledDates($t(at(xa(G())),I)):!0,O=H(()=>Pa(al(e.yearRange,e.locale,e.reverseYears),I=>{const E=f(I.value),$=Ha(I.value,Ca(T.value.minDate),Ca(T.value.maxDate))||p.value.years.includes(I.value)||!P(I.value)||_(I.value),U=g(I.value)&&!E,J=sl(r.value,I.value);return{active:E,disabled:$,isBetween:U,highlighted:J}})),R=I=>$t(Ot(xa(new Date)),I);return{groupedYears:O,modelValue:a,focusYear:m,setHoverValue:I=>{l.value=$t(Ot(new Date),I)},selectYear:I=>{if(t("update-month-year",{instance:0,year:I}),s.value.enabled)return a.value?Array.isArray(a.value)&&((a.value?.map(E=>_e(E))).includes(I)?a.value=a.value.filter(E=>_e(E)!==I):a.value.push($t(at(G()),I))):a.value=[$t(at(xa(G())),I)],t("auto-apply",!0);u.value.enabled?(a.value=il(a,R(I),t),xt().then(()=>{pn(a.value,t,e.autoApply,e.modelAuto)})):(a.value=R(I),t("auto-apply"))}}},cu=Xe({compatConfig:{MODE:3},__name:"YearPicker",props:{...Yt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,l=e,{groupedYears:r,modelValue:s,focusYear:p,selectYear:u,setHoverValue:T}=du(l,a),{defaultedConfig:m}=ze(l);return t({getSidebarProps:()=>({modelValue:s,selectYear:u})}),(f,g)=>(b(),M("div",null,[f.$slots["top-extra"]?pe(f.$slots,"top-extra",{key:0,value:f.internalModelValue}):j("",!0),f.$slots["month-year"]?pe(f.$slots,"month-year",rt(st({key:1},{years:v(r),selectYear:v(u)}))):(b(),Re(ja,{key:2,items:v(r),"is-last":f.autoApply&&!v(m).keepActionRow,height:v(m).modeHeight,config:f.config,"no-overlay-focus":!!(f.noOverlayFocus||f.textInput),"focus-value":v(p),type:"year","use-relative":"",onSelected:v(u),onHoverValue:v(T)},pt({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:De(({item:P})=>[pe(f.$slots,"year-overlay-value",{text:P.text,value:P.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),vu={key:0,class:"dp__time_input"},pu=["data-compact","data-collapsed"],mu=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],fu=["aria-label","disabled","data-test-id","onKeydown","onClick"],hu=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],yu={key:0},gu=["aria-label","data-compact"],bu=Xe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Yt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,l=e,{setTimePickerElements:r,setTimePickerBackRef:s}=aa(),{defaultedAriaLabels:p,defaultedTransitions:u,defaultedFilters:T,defaultedConfig:m,defaultedRange:f,defaultedMultiCalendars:g}=ze(l),{transitionName:P,showTransition:_}=Ua(u),O=qa({hours:!1,minutes:!1,seconds:!1}),R=F("AM"),I=F(null),E=F([]),$=F(),U=F(!1);it(()=>{a("mounted")});const J=i=>Ve(new Date,{hours:i.hours,minutes:i.minutes,seconds:l.enableSeconds?i.seconds:0,milliseconds:0}),Y=H(()=>i=>W(i,l[i])||le(i,l[i])),z=H(()=>({hours:l.hours,minutes:l.minutes,seconds:l.seconds})),le=(i,ve)=>f.value.enabled&&!f.value.disableTimeRangeValidation?!l.validateTime(i,ve):!1,X=(i,ve)=>{if(f.value.enabled&&!f.value.disableTimeRangeValidation){const B=ve?+l[`${i}Increment`]:-+l[`${i}Increment`],Ce=l[i]+B;return!l.validateTime(i,Ce)}return!1},L=H(()=>i=>!q(+l[i]+ +l[`${i}Increment`],i)||X(i,!0)),re=H(()=>i=>!q(+l[i]-+l[`${i}Increment`],i)||X(i,!1)),me=(i,ve)=>Ll(Ve(G(),i),ve),be=(i,ve)=>ci(Ve(G(),i),ve),k=H(()=>({dp__time_col:!0,dp__time_col_block:!l.timePickerInline,dp__time_col_reg_block:!l.enableSeconds&&l.is24&&!l.timePickerInline,dp__time_col_reg_inline:!l.enableSeconds&&l.is24&&l.timePickerInline,dp__time_col_reg_with_button:!l.enableSeconds&&!l.is24,dp__time_col_sec:l.enableSeconds&&l.is24,dp__time_col_sec_with_button:l.enableSeconds&&!l.is24})),A=H(()=>l.timePickerInline&&f.value.enabled&&!g.value.count),x=H(()=>{const i=[{type:"hours"}];return l.enableMinutes&&i.push({type:"",separator:!0},{type:"minutes"}),l.enableSeconds&&i.push({type:"",separator:!0},{type:"seconds"}),i}),Q=H(()=>x.value.filter(i=>!i.separator)),oe=H(()=>i=>{if(i==="hours"){const ve=$e(+l.hours);return{text:ve<10?`0${ve}`:`${ve}`,value:ve}}return{text:l[i]<10?`0${l[i]}`:`${l[i]}`,value:l[i]}}),W=(i,ve)=>{if(!l.disabledTimesConfig)return!1;const B=l.disabledTimesConfig(l.order,i==="hours"?ve:void 0);return B[i]?!!B[i]?.includes(ve):!0},te=(i,ve)=>ve!=="hours"||R.value==="AM"?i:i+12,S=i=>{const ve=l.is24?24:12,B=i==="hours"?ve:60,Ce=+l[`${i}GridIncrement`],ye=i==="hours"&&!l.is24?Ce:0,nt=[];for(let qe=ye;qe<B;qe+=Ce)nt.push({value:l.is24?qe:te(qe,i),text:qe<10?`0${qe}`:`${qe}`});return i==="hours"&&!l.is24&&nt.unshift({value:R.value==="PM"?12:0,text:"12"}),Pa(nt,qe=>({active:!1,disabled:T.value.times[i].includes(qe.value)||!q(qe.value,i)||W(i,qe.value)||le(i,qe.value)}))},de=i=>i>=0?i:59,y=i=>i>=0?i:23,q=(i,ve)=>{const B=l.minTime?J(Dn(l.minTime)):null,Ce=l.maxTime?J(Dn(l.maxTime)):null,ye=J(Dn(z.value,ve,ve==="minutes"||ve==="seconds"?de(i):y(i)));return B&&Ce?(Ta(ye,Ce)||wa(ye,Ce))&&(ca(ye,B)||wa(ye,B)):B?ca(ye,B)||wa(ye,B):Ce?Ta(ye,Ce)||wa(ye,Ce):!0},C=i=>l[`no${i[0].toUpperCase()+i.slice(1)}Overlay`],ie=i=>{C(i)||(O[i]=!O[i],O[i]?(U.value=!0,a("overlay-opened",i)):(U.value=!1,a("overlay-closed",i)))},h=i=>i==="hours"?jt:i==="minutes"?ta:Ma,c=()=>{$.value&&clearTimeout($.value)},K=(i,ve=!0,B)=>{const Ce=ve?me:be,ye=ve?+l[`${i}Increment`]:-+l[`${i}Increment`];q(+l[i]+ye,i)&&a(`update:${i}`,h(i)(Ce({[i]:+l[i]},{[i]:+l[`${i}Increment`]}))),!B?.keyboard&&m.value.timeArrowHoldThreshold&&($.value=setTimeout(()=>{K(i,ve)},m.value.timeArrowHoldThreshold))},$e=i=>l.is24?i:(i>=12?R.value="PM":R.value="AM",gi(i)),Z=()=>{R.value==="PM"?(R.value="AM",a("update:hours",l.hours-12)):(R.value="PM",a("update:hours",l.hours+12)),a("am-pm-change",R.value)},Pe=i=>{O[i]=!0},ae=(i,ve,B)=>{if(i&&l.arrowNavigation){Array.isArray(E.value[ve])?E.value[ve][B]=i:E.value[ve]=[i];const Ce=E.value.reduce((ye,nt)=>nt.map((qe,bt)=>[...ye[bt]||[],nt[bt]]),[]);s(l.closeTimePickerBtn),I.value&&(Ce[1]=Ce[1].concat(I.value)),r(Ce,l.order)}},ue=(i,ve)=>(ie(i),a(`update:${i}`,ve));return t({openChildCmp:Pe}),(i,ve)=>i.disabled?j("",!0):(b(),M("div",vu,[(b(!0),M(Me,null,Be(x.value,(B,Ce)=>(b(),M("div",{key:Ce,class:se(k.value),"data-compact":A.value&&!i.enableSeconds,"data-collapsed":A.value&&i.enableSeconds},[B.separator?(b(),M(Me,{key:0},[U.value?j("",!0):(b(),M(Me,{key:0},[Wt(":")],64))],64)):(b(),M(Me,{key:1},[o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,0),type:"button",class:se({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_top:i.timePickerInline,dp__inc_dec_button_disabled:L.value(B.type),"dp--hidden-el":U.value}),"data-test-id":`${B.type}-time-inc-btn-${l.order}`,"aria-label":v(p)?.incrementValue(B.type),tabindex:"0",onKeydown:ye=>v(ft)(ye,()=>K(B.type,!0,{keyboard:!0}),!0),onClick:ye=>v(m).timeArrowHoldThreshold?void 0:K(B.type,!0),onMousedown:ye=>v(m).timeArrowHoldThreshold?K(B.type,!0):void 0,onMouseup:c},[l.timePickerInline?(b(),M(Me,{key:1},[i.$slots["tp-inline-arrow-up"]?pe(i.$slots,"tp-inline-arrow-up",{key:0}):(b(),M(Me,{key:1},[ve[2]||(ve[2]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ve[3]||(ve[3]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(b(),M(Me,{key:0},[i.$slots["arrow-up"]?pe(i.$slots,"arrow-up",{key:0}):j("",!0),i.$slots["arrow-up"]?j("",!0):(b(),Re(v(Zn),{key:1}))],64))],42,mu),o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,1),type:"button","aria-label":`${oe.value(B.type).text}-${v(p)?.openTpOverlay(B.type)}`,class:se({dp__time_display:!0,dp__time_display_block:!i.timePickerInline,dp__time_display_inline:i.timePickerInline,"dp--time-invalid":Y.value(B.type),"dp--time-overlay-btn":!Y.value(B.type),"dp--hidden-el":U.value}),disabled:C(B.type),tabindex:"0","data-test-id":`${B.type}-toggle-overlay-btn-${l.order}`,onKeydown:ye=>v(ft)(ye,()=>ie(B.type),!0),onClick:ye=>ie(B.type)},[i.$slots[B.type]?pe(i.$slots,B.type,{key:0,text:oe.value(B.type).text,value:oe.value(B.type).value}):j("",!0),i.$slots[B.type]?j("",!0):(b(),M(Me,{key:1},[Wt(Te(oe.value(B.type).text),1)],64))],42,fu),o("button",{ref_for:!0,ref:ye=>ae(ye,Ce,2),type:"button",class:se({dp__btn:!0,dp__inc_dec_button:!i.timePickerInline,dp__inc_dec_button_inline:i.timePickerInline,dp__tp_inline_btn_bottom:i.timePickerInline,dp__inc_dec_button_disabled:re.value(B.type),"dp--hidden-el":U.value}),"data-test-id":`${B.type}-time-dec-btn-${l.order}`,"aria-label":v(p)?.decrementValue(B.type),tabindex:"0",onKeydown:ye=>v(ft)(ye,()=>K(B.type,!1,{keyboard:!0}),!0),onClick:ye=>v(m).timeArrowHoldThreshold?void 0:K(B.type,!1),onMousedown:ye=>v(m).timeArrowHoldThreshold?K(B.type,!1):void 0,onMouseup:c},[l.timePickerInline?(b(),M(Me,{key:1},[i.$slots["tp-inline-arrow-down"]?pe(i.$slots,"tp-inline-arrow-down",{key:0}):(b(),M(Me,{key:1},[ve[4]||(ve[4]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),ve[5]||(ve[5]=o("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(b(),M(Me,{key:0},[i.$slots["arrow-down"]?pe(i.$slots,"arrow-down",{key:0}):j("",!0),i.$slots["arrow-down"]?j("",!0):(b(),Re(v(el),{key:1}))],64))],42,hu)],64))],10,pu))),128)),i.is24?j("",!0):(b(),M("div",yu,[i.$slots["am-pm-button"]?pe(i.$slots,"am-pm-button",{key:0,toggle:Z,value:R.value}):j("",!0),i.$slots["am-pm-button"]?j("",!0):(b(),M("button",{key:1,ref_key:"amPmButton",ref:I,type:"button",class:"dp__pm_am_button",role:"button","aria-label":v(p)?.amPmButton,tabindex:"0","data-compact":A.value,onClick:Z,onKeydown:ve[0]||(ve[0]=B=>v(ft)(B,()=>Z(),!0))},Te(R.value),41,gu))])),(b(!0),M(Me,null,Be(Q.value,(B,Ce)=>(b(),Re(ea,{key:Ce,name:v(P)(O[B.type]),css:v(_)},{default:De(()=>[O[B.type]?(b(),Re(ja,{key:0,items:S(B.type),"is-last":i.autoApply&&!v(m).keepActionRow,"esc-close":i.escClose,type:B.type,"text-input":i.textInput,config:i.config,"arrow-navigation":i.arrowNavigation,"aria-labels":i.ariaLabels,"overlay-label":v(p).timeOverlay?.(B.type),onSelected:ye=>ue(B.type,ye),onToggle:ye=>ie(B.type),onResetFlow:ve[1]||(ve[1]=ye=>i.$emit("reset-flow"))},pt({"button-icon":De(()=>[i.$slots["clock-icon"]?pe(i.$slots,"clock-icon",{key:0}):j("",!0),i.$slots["clock-icon"]?j("",!0):(b(),Re(dn(i.timePickerInline?v($a):v(Jn)),{key:1}))]),_:2},[i.$slots[`${B.type}-overlay-value`]?{name:"item",fn:De(({item:ye})=>[pe(i.$slots,`${B.type}-overlay-value`,{text:ye.text,value:ye.value})]),key:"0"}:void 0,i.$slots[`${B.type}-overlay-header`]?{name:"header",fn:De(()=>[pe(i.$slots,`${B.type}-overlay-header`,{toggle:()=>ie(B.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):j("",!0)]),_:2},1032,["name","css"]))),128))]))}}),wu=["data-dp-mobile"],xu=["aria-label","tabindex"],ku=["role","aria-label","tabindex"],_u=["aria-label"],Pr=Xe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Yt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,l=e,{buildMatrix:r,setTimePicker:s}=aa(),p=va(),{defaultedTransitions:u,defaultedAriaLabels:T,defaultedTextInput:m,defaultedConfig:f,defaultedRange:g}=ze(l),{transitionName:P,showTransition:_}=Ua(u),{hideNavigationButtons:O}=mn(),R=F(null),I=F(null),E=F([]),$=F(null),U=F(!1);it(()=>{a("mount"),!l.timePicker&&l.arrowNavigation?r([et(R.value)],"time"):s(!0,l.timePicker)});const J=H(()=>g.value.enabled&&l.modelAuto?dr(l.internalModelValue):!0),Y=F(!1),z=W=>({hours:Array.isArray(l.hours)?l.hours[W]:l.hours,minutes:Array.isArray(l.minutes)?l.minutes[W]:l.minutes,seconds:Array.isArray(l.seconds)?l.seconds[W]:l.seconds}),le=H(()=>{const W=[];if(g.value.enabled)for(let te=0;te<2;te++)W.push(z(te));else W.push(z(0));return W}),X=(W,te=!1,S="")=>{te||a("reset-flow"),Y.value=W,a(W?"overlay-opened":"overlay-closed",ct.time),l.arrowNavigation&&s(W),xt(()=>{S!==""&&E.value[0]&&E.value[0].openChildCmp(S)})},L=H(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:l.autoApply&&!f.value.keepActionRow})),re=wt(p,"timePicker"),me=(W,te,S)=>g.value.enabled?te===0?[W,le.value[1][S]]:[le.value[0][S],W]:W,be=W=>{a("update:hours",W)},k=W=>{a("update:minutes",W)},A=W=>{a("update:seconds",W)},x=()=>{if($.value&&!m.value.enabled&&!l.noOverlayFocus){const W=cr($.value);W&&W.focus({preventScroll:!0})}},Q=W=>{U.value=!1,a("overlay-closed",W)},oe=W=>{U.value=!0,a("overlay-opened",W)};return t({toggleTimePicker:X}),(W,te)=>(b(),M("div",{class:"dp--tp-wrap","data-dp-mobile":W.isMobile},[!W.timePicker&&!W.timePickerInline?zt((b(),M("button",{key:0,ref_key:"openTimePickerBtn",ref:R,type:"button",class:se({...L.value,"dp--hidden-el":Y.value}),"aria-label":v(T)?.openTimePicker,tabindex:W.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:te[0]||(te[0]=S=>v(ft)(S,()=>X(!0))),onClick:te[1]||(te[1]=S=>X(!0))},[W.$slots["clock-icon"]?pe(W.$slots,"clock-icon",{key:0}):j("",!0),W.$slots["clock-icon"]?j("",!0):(b(),Re(v(Jn),{key:1}))],42,xu)),[[an,!v(O)(W.hideNavigation,"time")]]):j("",!0),Ee(ea,{name:v(P)(Y.value),css:v(_)&&!W.timePickerInline},{default:De(()=>[Y.value||W.timePicker||W.timePickerInline?(b(),M("div",{key:0,ref_key:"overlayRef",ref:$,role:W.timePickerInline?void 0:"dialog",class:se({dp__overlay:!W.timePickerInline,"dp--overlay-absolute":!l.timePicker&&!W.timePickerInline,"dp--overlay-relative":l.timePicker}),style:vt(W.timePicker?{height:`${v(f).modeHeight}px`}:void 0),"aria-label":v(T)?.timePicker,tabindex:W.timePickerInline?void 0:0},[o("div",{class:se(W.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[W.$slots["time-picker-overlay"]?pe(W.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:be,setMinutes:k,setSeconds:A}):j("",!0),W.$slots["time-picker-overlay"]?j("",!0):(b(),M("div",{key:1,class:se(W.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(b(!0),M(Me,null,Be(le.value,(S,de)=>zt((b(),Re(bu,st({key:de},{ref_for:!0},{...W.$props,order:de,hours:S.hours,minutes:S.minutes,seconds:S.seconds,closeTimePickerBtn:I.value,disabledTimesConfig:e.disabledTimesConfig,disabled:de===0?v(g).fixedStart:v(g).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:E,"validate-time":(y,q)=>e.validateTime(y,me(q,de,y)),"onUpdate:hours":y=>be(me(y,de,"hours")),"onUpdate:minutes":y=>k(me(y,de,"minutes")),"onUpdate:seconds":y=>A(me(y,de,"seconds")),onMounted:x,onOverlayClosed:Q,onOverlayOpened:oe,onAmPmChange:te[2]||(te[2]=y=>W.$emit("am-pm-change",y))}),pt({_:2},[Be(v(re),(y,q)=>({name:y,fn:De(C=>[pe(W.$slots,y,st({ref_for:!0},C))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[an,de===0?!0:J.value]])),128))],2)),!W.timePicker&&!W.timePickerInline?zt((b(),M("button",{key:2,ref_key:"closeTimePickerBtn",ref:I,type:"button",class:se({...L.value,"dp--hidden-el":U.value}),"aria-label":v(T)?.closeTimePicker,tabindex:"0",onKeydown:te[3]||(te[3]=S=>v(ft)(S,()=>X(!1))),onClick:te[4]||(te[4]=S=>X(!1))},[W.$slots["calendar-icon"]?pe(W.$slots,"calendar-icon",{key:0}):j("",!0),W.$slots["calendar-icon"]?j("",!0):(b(),Re(v($a),{key:1}))],42,_u)),[[an,!v(O)(W.hideNavigation,"time")]]):j("",!0)],2)],14,ku)):j("",!0)]),_:3},8,["name","css"])],8,wu))}}),Cr=(e,t,n,a)=>{const{defaultedRange:l}=ze(e),r=($,U)=>Array.isArray(t[$])?t[$][U]:t[$],s=$=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[$]:t.seconds:0,p=($,U)=>$?U!==void 0?Zt($,r("hours",U),r("minutes",U),s(U)):Zt($,t.hours,t.minutes,s()):sr(G(),s(U)),u=($,U)=>{t[$]=U},T=H(()=>e.modelAuto&&l.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:l.value.enabled),m=($,U)=>{const J=Object.fromEntries(Object.keys(t).map(Y=>Y===$?[Y,U]:[Y,t[Y]].slice()));if(T.value&&!l.value.disableTimeRangeValidation){const Y=le=>n.value?Zt(n.value[le],J.hours[le],J.minutes[le],J.seconds[le]):null,z=le=>rr(n.value[le],0);return!(Se(Y(0),Y(1))&&(ca(Y(0),z(1))||Ta(Y(1),z(0))))}return!0},f=($,U)=>{m($,U)&&(u($,U),a&&a())},g=$=>{f("hours",$)},P=$=>{f("minutes",$)},_=$=>{f("seconds",$)},O=($,U,J,Y)=>{U&&g($),!U&&!J&&P($),J&&_($),n.value&&Y(n.value)},R=$=>{if($){const U=Array.isArray($),J=U?[+$[0].hours,+$[1].hours]:+$.hours,Y=U?[+$[0].minutes,+$[1].minutes]:+$.minutes,z=U?[+$[0].seconds,+$[1].seconds]:+$.seconds;u("hours",J),u("minutes",Y),e.enableSeconds&&u("seconds",z)}},I=($,U)=>{const J={hours:Array.isArray(t.hours)?t.hours[$]:t.hours,disabledArr:[]};return(U||U===0)&&(J.hours=U),Array.isArray(e.disabledTimes)&&(J.disabledArr=l.value.enabled&&Array.isArray(e.disabledTimes[$])?e.disabledTimes[$]:e.disabledTimes),J},E=H(()=>($,U)=>{if(Array.isArray(e.disabledTimes)){const{disabledArr:J,hours:Y}=I($,U),z=J.filter(le=>+le.hours===Y);return z[0]?.minutes==="*"?{hours:[Y],minutes:void 0,seconds:void 0}:{hours:[],minutes:z?.map(le=>+le.minutes)??[],seconds:z?.map(le=>le.seconds?+le.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:g,updateMinutes:P,updateSeconds:_,getSetDateTime:p,updateTimeValues:O,getSecondsValue:s,assignStartTime:R,validateTime:m,disabledTimesConfig:E}},Mu=(e,t)=>{const n=()=>{e.isTextInputDate&&U()},{modelValue:a,time:l}=Xa(e,t,n),{defaultedStartTime:r,defaultedRange:s,defaultedTz:p}=ze(e),{updateTimeValues:u,getSetDateTime:T,setTime:m,assignStartTime:f,disabledTimesConfig:g,validateTime:P}=Cr(e,l,a,_);function _(){t("update-flow-step")}const O=Y=>{const{hours:z,minutes:le,seconds:X}=Y;return{hours:+z,minutes:+le,seconds:X?+X:0}},R=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const z=O(e.startTime[0]),le=O(e.startTime[1]);return[Ve(G(),z),Ve(G(),le)]}const Y=O(e.startTime);return Ve(G(),Y)}return s.value.enabled?[null,null]:null},I=()=>{if(s.value.enabled){const[Y,z]=R();a.value=[gt(T(Y,0),p.value.timezone),gt(T(z,1),p.value.timezone)]}else a.value=gt(T(R()),p.value.timezone)},E=Y=>Array.isArray(Y)?[da(G(Y[0])),da(G(Y[1]))]:[da(Y??G())],$=(Y,z,le)=>{m("hours",Y),m("minutes",z),m("seconds",e.enableSeconds?le:0)},U=()=>{const[Y,z]=E(a.value);return s.value.enabled?$([Y.hours,z.hours],[Y.minutes,z.minutes],[Y.seconds,z.seconds]):$(Y.hours,Y.minutes,Y.seconds)};it(()=>{if(!e.shadow)return f(r.value),a.value?U():I()});const J=()=>{Array.isArray(a.value)?a.value=a.value.map((Y,z)=>Y&&T(Y,z)):a.value=T(a.value),t("time-update")};return{modelValue:a,time:l,disabledTimesConfig:g,updateTime:(Y,z=!0,le=!1)=>{u(Y,z,le,J)},validateTime:P}},Tu=Xe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Yt},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=va(),s=wt(r,"timePicker"),p=F(null),{time:u,modelValue:T,disabledTimesConfig:m,updateTime:f,validateTime:g}=Mu(l,a);return it(()=>{l.shadow||a("mount",null)}),t({getSidebarProps:()=>({modelValue:T,time:u,updateTime:f}),toggleTimePicker:(P,_=!1,O="")=>{p.value?.toggleTimePicker(P,_,O)}}),(P,_)=>(b(),Re(vn,{"multi-calendars":0,stretch:"","is-mobile":P.isMobile},{default:De(()=>[Ee(Pr,st({ref_key:"tpRef",ref:p},P.$props,{hours:v(u).hours,minutes:v(u).minutes,seconds:v(u).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":v(m),"validate-time":v(g),"onUpdate:hours":_[0]||(_[0]=O=>v(f)(O)),"onUpdate:minutes":_[1]||(_[1]=O=>v(f)(O,!1)),"onUpdate:seconds":_[2]||(_[2]=O=>v(f)(O,!1,!0)),onAmPmChange:_[3]||(_[3]=O=>P.$emit("am-pm-change",O)),onResetFlow:_[4]||(_[4]=O=>P.$emit("reset-flow")),onOverlayClosed:_[5]||(_[5]=O=>P.$emit("overlay-toggle",{open:!1,overlay:O})),onOverlayOpened:_[6]||(_[6]=O=>P.$emit("overlay-toggle",{open:!0,overlay:O}))}),pt({_:2},[Be(v(s),(O,R)=>({name:O,fn:De(I=>[pe(P.$slots,O,rt(yt(I)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Du={class:"dp--header-wrap"},Pu={key:0,class:"dp__month_year_wrap"},Cu={key:0},Au={class:"dp__month_year_wrap"},$u=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Ou=Xe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Yt},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const a=n,l=e,{defaultedTransitions:r,defaultedAriaLabels:s,defaultedMultiCalendars:p,defaultedFilters:u,defaultedConfig:T,defaultedHighlight:m,propDates:f,defaultedUI:g}=ze(l),{transitionName:P,showTransition:_}=Ua(r),{buildMatrix:O}=aa(),{handleMonthYearChange:R,isDisabled:I,updateMonthYear:E}=Gi(l,a),{showLeftIcon:$,showRightIcon:U}=mn(),J=F(!1),Y=F(!1),z=F(!1),le=F([null,null,null,null]);it(()=>{a("mount")});const X=y=>({get:()=>l[y],set:q=>{const C=y===Dt.month?Dt.year:Dt.month;a("update-month-year",{[y]:q,[C]:l[C]}),y===Dt.month?Q(!0):oe(!0)}}),L=H(X(Dt.month)),re=H(X(Dt.year)),me=H(()=>y=>({month:l.month,year:l.year,items:y===Dt.month?l.months:l.years,instance:l.instance,updateMonthYear:E,toggle:y===Dt.month?Q:oe})),be=H(()=>l.months.find(q=>q.value===l.month)||{text:"",value:0}),k=H(()=>Pa(l.months,y=>{const q=l.month===y.value,C=Ha(y.value,mr(l.year,f.value.minDate),fr(l.year,f.value.maxDate))||u.value.months.includes(y.value),ie=wr(m.value,y.value,l.year);return{active:q,disabled:C,highlighted:ie}})),A=H(()=>Pa(l.years,y=>{const q=l.year===y.value,C=Ha(y.value,Ca(f.value.minDate),Ca(f.value.maxDate))||u.value.years.includes(y.value),ie=sl(m.value,y.value);return{active:q,disabled:C,highlighted:ie}})),x=(y,q,C)=>{C!==void 0?y.value=C:y.value=!y.value,y.value?(z.value=!0,a("overlay-opened",q)):(z.value=!1,a("overlay-closed",q))},Q=(y=!1,q)=>{W(y),x(J,ct.month,q)},oe=(y=!1,q)=>{W(y),x(Y,ct.year,q)},W=y=>{y||a("reset-flow")},te=(y,q)=>{l.arrowNavigation&&(le.value[q]=et(y),O(le.value,"monthYear"))},S=H(()=>[{type:Dt.month,index:1,toggle:Q,modelValue:L.value,updateModelValue:y=>L.value=y,text:be.value.text,showSelectionGrid:J.value,items:k.value,ariaLabel:s.value?.openMonthsOverlay,overlayLabel:s.value.monthPicker?.(!0)??void 0},{type:Dt.year,index:2,toggle:oe,modelValue:re.value,updateModelValue:y=>re.value=y,text:ll(l.year,l.locale),showSelectionGrid:Y.value,items:A.value,ariaLabel:s.value?.openYearsOverlay,overlayLabel:s.value.yearPicker?.(!0)??void 0}]),de=H(()=>l.disableYearSelect?[S.value[0]]:l.yearFirst?[...S.value].reverse():S.value);return t({toggleMonthPicker:Q,toggleYearPicker:oe,handleMonthYearChange:R}),(y,q)=>(b(),M("div",Du,[y.$slots["month-year"]?(b(),M("div",Pu,[pe(y.$slots,"month-year",rt(yt({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:v(E),handleMonthYearChange:v(R),instance:e.instance,isDisabled:v(I)})))])):(b(),M(Me,{key:1},[y.$slots["top-extra"]?(b(),M("div",Cu,[pe(y.$slots,"top-extra",{value:y.internalModelValue})])):j("",!0),o("div",Au,[v($)(v(p),e.instance)&&!y.vertical?(b(),Re(Ea,{key:0,"aria-label":v(s)?.prevMonth,disabled:v(I)(!1),class:se(v(g)?.navBtnPrev),"el-name":"action-prev",onActivate:q[0]||(q[0]=C=>v(R)(!1,!0)),onSetRef:q[1]||(q[1]=C=>te(C,0))},{default:De(()=>[y.$slots["arrow-left"]?pe(y.$slots,"arrow-left",{key:0}):j("",!0),y.$slots["arrow-left"]?j("",!0):(b(),Re(v(Kn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):j("",!0),o("div",{class:se(["dp__month_year_wrap",{dp__year_disable_select:y.disableYearSelect}])},[(b(!0),M(Me,null,Be(de.value,(C,ie)=>(b(),M(Me,{key:C.type},[o("button",{ref_for:!0,ref:h=>te(h,ie+1),type:"button","data-dp-element":`overlay-${C.type}`,class:se(["dp__btn dp__month_year_select",{"dp--hidden-el":z.value}]),"aria-label":`${C.text}-${C.ariaLabel}`,"data-test-id":`${C.type}-toggle-overlay-${e.instance}`,onClick:C.toggle,onKeydown:h=>v(ft)(h,()=>C.toggle(),!0)},[y.$slots[C.type]?pe(y.$slots,C.type,{key:0,text:C.text,value:l[C.type]}):j("",!0),y.$slots[C.type]?j("",!0):(b(),M(Me,{key:1},[Wt(Te(C.text),1)],64))],42,$u),Ee(ea,{name:v(P)(C.showSelectionGrid),css:v(_)},{default:De(()=>[C.showSelectionGrid?(b(),Re(ja,{key:0,items:C.items,"arrow-navigation":y.arrowNavigation,"hide-navigation":y.hideNavigation,"is-last":y.autoApply&&!v(T).keepActionRow,"skip-button-ref":!1,config:y.config,type:C.type,"header-refs":[],"esc-close":y.escClose,"menu-wrap-ref":y.menuWrapRef,"text-input":y.textInput,"aria-labels":y.ariaLabels,"overlay-label":C.overlayLabel,onSelected:C.updateModelValue,onToggle:C.toggle},pt({"button-icon":De(()=>[y.$slots["calendar-icon"]?pe(y.$slots,"calendar-icon",{key:0}):j("",!0),y.$slots["calendar-icon"]?j("",!0):(b(),Re(v($a),{key:1}))]),_:2},[y.$slots[`${C.type}-overlay-value`]?{name:"item",fn:De(({item:h})=>[pe(y.$slots,`${C.type}-overlay-value`,{text:h.text,value:h.value})]),key:"0"}:void 0,y.$slots[`${C.type}-overlay`]?{name:"overlay",fn:De(()=>[pe(y.$slots,`${C.type}-overlay`,st({ref_for:!0},me.value(C.type)))]),key:"1"}:void 0,y.$slots[`${C.type}-overlay-header`]?{name:"header",fn:De(()=>[pe(y.$slots,`${C.type}-overlay-header`,{toggle:C.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):j("",!0)]),_:2},1032,["name","css"])],64))),128))],2),v($)(v(p),e.instance)&&y.vertical?(b(),Re(Ea,{key:1,"aria-label":v(s)?.prevMonth,"el-name":"action-prev",disabled:v(I)(!1),class:se(v(g)?.navBtnPrev),onActivate:q[2]||(q[2]=C=>v(R)(!1,!0))},{default:De(()=>[y.$slots["arrow-up"]?pe(y.$slots,"arrow-up",{key:0}):j("",!0),y.$slots["arrow-up"]?j("",!0):(b(),Re(v(Zn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):j("",!0),v(U)(v(p),e.instance)?(b(),Re(Ea,{key:2,ref:"rightIcon","el-name":"action-next",disabled:v(I)(!0),"aria-label":v(s)?.nextMonth,class:se(v(g)?.navBtnNext),onActivate:q[3]||(q[3]=C=>v(R)(!0,!0)),onSetRef:q[4]||(q[4]=C=>te(C,y.disableYearSelect?2:3))},{default:De(()=>[y.$slots[y.vertical?"arrow-down":"arrow-right"]?pe(y.$slots,y.vertical?"arrow-down":"arrow-right",{key:0}):j("",!0),y.$slots[y.vertical?"arrow-down":"arrow-right"]?j("",!0):(b(),Re(dn(y.vertical?v(el):v(Gn)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):j("",!0)])],64))]))}}),Su={class:"dp__calendar_header",role:"row"},Ru={key:0,class:"dp__calendar_header_item",role:"gridcell"},Yu=["aria-label"],Fu={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Iu={class:"dp__cell_inner"},Bu=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],Nu=Xe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Yt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const a=n,l=e,{buildMultiLevelMatrix:r}=aa(),{defaultedTransitions:s,defaultedConfig:p,defaultedAriaLabels:u,defaultedMultiCalendars:T,defaultedWeekNumbers:m,defaultedMultiDates:f,defaultedUI:g}=ze(l),P=F(null),_=F({bottom:"",left:"",transform:""}),O=F([]),R=F(null),I=F(!0),E=F(""),$=F({startX:0,endX:0,startY:0,endY:0}),U=F([]),J=F({left:"50%"}),Y=F(!1),z=H(()=>l.calendar?l.calendar(l.mappedDates):l.mappedDates),le=H(()=>l.dayNames?Array.isArray(l.dayNames)?l.dayNames:l.dayNames(l.locale,+l.weekStart):yi(l.formatLocale,l.locale,+l.weekStart));it(()=>{a("mount",{cmp:"calendar",refs:O}),p.value.noSwipe||R.value&&(R.value.addEventListener("touchstart",te,{passive:!1}),R.value.addEventListener("touchend",S,{passive:!1}),R.value.addEventListener("touchmove",de,{passive:!1})),l.monthChangeOnScroll&&R.value&&R.value.addEventListener("wheel",C,{passive:!1})}),Aa(()=>{p.value.noSwipe||R.value&&(R.value.removeEventListener("touchstart",te),R.value.removeEventListener("touchend",S),R.value.removeEventListener("touchmove",de)),l.monthChangeOnScroll&&R.value&&R.value.removeEventListener("wheel",C)});const X=Z=>Z?l.vertical?"vNext":"next":l.vertical?"vPrevious":"previous",L=(Z,Pe)=>{if(l.transitions){const ae=at(qt(G(),l.month,l.year));E.value=Ke(at(qt(G(),Z,Pe)),ae)?s.value[X(!0)]:s.value[X(!1)],I.value=!1,xt(()=>{I.value=!0})}},re=H(()=>({...g.value.calendar??{}})),me=H(()=>Z=>{const Pe=bi(Z);return{dp__marker_dot:Pe.type==="dot",dp__marker_line:Pe.type==="line"}}),be=H(()=>Z=>Se(Z,P.value)),k=H(()=>({dp__calendar:!0,dp__calendar_next:T.value.count>0&&l.instance!==0})),A=H(()=>Z=>l.hideOffsetDates?Z.current:!0),x=async(Z,Pe)=>{const{width:ae,height:ue}=Z.getBoundingClientRect();P.value=Pe.value;let i={left:`${ae/2}px`},ve=-50;if(await xt(),U.value[0]){const{left:B,width:Ce}=U.value[0].getBoundingClientRect();B<0&&(i={left:"0"},ve=0,J.value.left=`${ae/2}px`),window.innerWidth<B+Ce&&(i={right:"0"},ve=0,J.value.left=`${Ce-ae/2}px`)}_.value={bottom:`${ue}px`,...i,transform:`translateX(${ve}%)`}},Q=async(Z,Pe,ae)=>{const ue=et(O.value[Pe][ae]);ue&&(Z.marker?.customPosition&&Z.marker?.tooltip?.length?_.value=Z.marker.customPosition(ue):await x(ue,Z),a("tooltip-open",Z.marker))},oe=async(Z,Pe,ae)=>{if(Y.value&&f.value.enabled&&f.value.dragSelect)return a("select-date",Z);if(a("set-hover-date",Z),Z.marker?.tooltip?.length){if(l.hideOffsetDates&&!Z.current)return;await Q(Z,Pe,ae)}},W=Z=>{P.value&&(P.value=null,_.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",Z.marker))},te=Z=>{$.value.startX=Z.changedTouches[0].screenX,$.value.startY=Z.changedTouches[0].screenY},S=Z=>{$.value.endX=Z.changedTouches[0].screenX,$.value.endY=Z.changedTouches[0].screenY,y()},de=Z=>{l.vertical&&!l.inline&&Z.preventDefault()},y=()=>{const Z=l.vertical?"Y":"X";Math.abs($.value[`start${Z}`]-$.value[`end${Z}`])>10&&a("handle-swipe",$.value[`start${Z}`]>$.value[`end${Z}`]?"right":"left")},q=(Z,Pe,ae)=>{Z&&(Array.isArray(O.value[Pe])?O.value[Pe][ae]=Z:O.value[Pe]=[Z]),l.arrowNavigation&&r(O.value,"calendar")},C=Z=>{l.monthChangeOnScroll&&(Z.preventDefault(),a("handle-scroll",Z))},ie=Z=>m.value.type==="local"?Un(Z.value,{weekStartsOn:+l.weekStart}):m.value.type==="iso"?Wn(Z.value):typeof m.value.type=="function"?m.value.type(Z.value):"",h=Z=>{const Pe=Z[0];return m.value.hideOnOffsetDates?Z.some(ae=>ae.current)?ie(Pe):"":ie(Pe)},c=(Z,Pe,ae=!0)=>{!ae&&Mi()||(!f.value.enabled||p.value.allowPreventDefault)&&(Jt(Z,p.value),a("select-date",Pe))},K=Z=>{Jt(Z,p.value)},$e=Z=>{f.value.enabled&&f.value.dragSelect?(Y.value=!0,a("select-date",Z)):f.value.enabled&&a("select-date",Z)};return t({triggerTransition:L}),(Z,Pe)=>(b(),M("div",{class:se(k.value)},[o("div",{ref_key:"calendarWrapRef",ref:R,class:se(re.value),role:"grid"},[o("div",Su,[Z.weekNumbers?(b(),M("div",Ru,Te(Z.weekNumName),1)):j("",!0),(b(!0),M(Me,null,Be(le.value,(ae,ue)=>(b(),M("div",{key:ue,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":v(u)?.weekDay?.(ue)},[Z.$slots["calendar-header"]?pe(Z.$slots,"calendar-header",{key:0,day:ae,index:ue}):j("",!0),Z.$slots["calendar-header"]?j("",!0):(b(),M(Me,{key:1},[Wt(Te(ae),1)],64))],8,Yu))),128))]),Pe[2]||(Pe[2]=o("div",{class:"dp__calendar_header_separator"},null,-1)),Ee(ea,{name:E.value,css:!!Z.transitions},{default:De(()=>[I.value?(b(),M("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:Pe[1]||(Pe[1]=ae=>Y.value=!1)},[(b(!0),M(Me,null,Be(z.value,(ae,ue)=>(b(),M("div",{key:ue,class:"dp__calendar_row",role:"row"},[Z.weekNumbers?(b(),M("div",Fu,[o("div",Iu,Te(h(ae.days)),1)])):j("",!0),(b(!0),M(Me,null,Be(ae.days,(i,ve)=>(b(),M("div",{id:v(zn)(i.value),ref_for:!0,ref:B=>q(B,ue,ve),key:ve+ue,role:"gridcell",class:"dp__calendar_item","aria-selected":(i.classData.dp__active_date||i.classData.dp__range_start||i.classData.dp__range_end)??void 0,"aria-disabled":i.classData.dp__cell_disabled||void 0,"aria-label":v(u)?.day?.(i),tabindex:!i.current&&Z.hideOffsetDates?void 0:0,"data-test-id":v(zn)(i.value),onClick:At(B=>c(B,i),["prevent"]),onTouchend:B=>c(B,i,!1),onKeydown:B=>v(ft)(B,()=>Z.$emit("select-date",i)),onMouseenter:B=>oe(i,ue,ve),onMouseleave:B=>W(i),onMousedown:B=>$e(i),onMouseup:Pe[0]||(Pe[0]=B=>Y.value=!1)},[o("div",{class:se(["dp__cell_inner",i.classData])},[Z.$slots.day&&A.value(i)?pe(Z.$slots,"day",{key:0,day:+i.text,date:i.value}):j("",!0),Z.$slots.day?j("",!0):(b(),M(Me,{key:1},[Wt(Te(i.text),1)],64)),i.marker&&A.value(i)?(b(),M(Me,{key:2},[Z.$slots.marker?pe(Z.$slots,"marker",{key:0,marker:i.marker,day:+i.text,date:i.value}):(b(),M("div",{key:1,class:se(me.value(i.marker)),style:vt(i.marker.color?{backgroundColor:i.marker.color}:{})},null,6))],64)):j("",!0),be.value(i.value)?(b(),M("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:U,class:"dp__marker_tooltip",style:vt(_.value)},[i.marker?.tooltip?(b(),M("div",{key:0,class:"dp__tooltip_content",onClick:K},[(b(!0),M(Me,null,Be(i.marker.tooltip,(B,Ce)=>(b(),M("div",{key:Ce,class:"dp__tooltip_text"},[Z.$slots["marker-tooltip"]?pe(Z.$slots,"marker-tooltip",{key:0,tooltip:B,day:i.value}):j("",!0),Z.$slots["marker-tooltip"]?j("",!0):(b(),M(Me,{key:1},[o("div",{class:"dp__tooltip_mark",style:vt(B.color?{backgroundColor:B.color}:{})},null,4),o("div",null,Te(B.text),1)],64))]))),128)),o("div",{class:"dp__arrow_bottom_tp",style:vt(J.value)},null,4)])):j("",!0)],4)):j("",!0)],2)],40,Bu))),128))]))),128))],32)):j("",!0)]),_:3},8,["name","css"])],2)],2))}}),Fl=e=>Array.isArray(e),Vu=(e,t,n,a)=>{const l=F([]),r=F(new Date),s=F(),p=()=>S(e.isTextInputDate),{modelValue:u,calendars:T,time:m,today:f}=Xa(e,t,p),{defaultedMultiCalendars:g,defaultedStartTime:P,defaultedRange:_,defaultedConfig:O,defaultedTz:R,propDates:I,defaultedMultiDates:E}=ze(e),{validateMonthYearInRange:$,isDisabled:U,isDateRangeAllowed:J,checkMinMaxRange:Y}=na(e),{updateTimeValues:z,getSetDateTime:le,setTime:X,assignStartTime:L,validateTime:re,disabledTimesConfig:me}=Cr(e,m,u,a),be=H(()=>D=>T.value[D]?T.value[D].month:0),k=H(()=>D=>T.value[D]?T.value[D].year:0),A=D=>!O.value.keepViewOnOffsetClick||D?!0:!s.value,x=(D,ne,we,Ae=!1)=>{A(Ae)&&(T.value[D]||(T.value[D]={month:0,year:0}),T.value[D].month=Al(ne)?T.value[D]?.month:ne,T.value[D].year=Al(we)?T.value[D]?.year:we)},Q=()=>{e.autoApply&&t("select-date")},oe=()=>{P.value&&L(P.value)};it(()=>{e.shadow||(u.value||(Pe(),oe()),S(!0),e.focusStartDate&&e.startDate&&Pe())});const W=H(()=>e.flow?.length&&!e.partialFlow?e.flowStep===e.flow.length:!0),te=()=>{e.autoApply&&W.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},S=(D=!1)=>{if(u.value)return Array.isArray(u.value)?(l.value=u.value,c(D)):q(u.value,D);if(g.value.count&&D&&!e.startDate)return y(G(),D)},de=()=>Array.isArray(u.value)&&_.value.enabled?Oe(u.value[0])===Oe(u.value[1]??u.value[0]):!1,y=(D=new Date,ne=!1)=>{if((!g.value.count||!g.value.static||ne)&&x(0,Oe(D),_e(D)),g.value.count&&(!u.value||de()||!g.value.solo)&&(!g.value.solo||ne))for(let we=1;we<g.value.count;we++){const Ae=Ve(G(),{month:be.value(we-1),year:k.value(we-1)}),ee=Ll(Ae,{months:1});T.value[we]={month:Oe(ee),year:_e(ee)}}},q=(D,ne)=>{y(D),X("hours",jt(D)),X("minutes",ta(D)),X("seconds",Ma(D)),g.value.count&&ne&&Z()},C=D=>{if(g.value.count){if(g.value.solo)return 0;const ne=Oe(D[0]),we=Oe(D[1]);return Math.abs(we-ne)<g.value.count?0:1}return 1},ie=(D,ne)=>{D[1]&&_.value.showLastInRange?y(D[C(D)],ne):y(D[0],ne);const we=(Ae,ee)=>[Ae(D[0]),D[1]?Ae(D[1]):m[ee][1]];X("hours",we(jt,"hours")),X("minutes",we(ta,"minutes")),X("seconds",we(Ma,"seconds"))},h=(D,ne)=>{if((_.value.enabled||e.weekPicker)&&!E.value.enabled)return ie(D,ne);if(E.value.enabled&&ne){const we=D[D.length-1];return q(we,ne)}},c=D=>{const ne=u.value;h(ne,D),g.value.count&&g.value.solo&&Z()},K=(D,ne)=>{const we=Ve(G(),{month:be.value(ne),year:k.value(ne)}),Ae=D<0?St(we,1):Da(we,1);$(Oe(Ae),_e(Ae),D<0,e.preventMinMaxNavigation)&&(x(ne,Oe(Ae),_e(Ae)),t("update-month-year",{instance:ne,month:Oe(Ae),year:_e(Ae)}),g.value.count&&!g.value.solo&&$e(ne),n())},$e=D=>{for(let ne=D-1;ne>=0;ne--){const we=Da(Ve(G(),{month:be.value(ne+1),year:k.value(ne+1)}),1);x(ne,Oe(we),_e(we))}for(let ne=D+1;ne<=g.value.count-1;ne++){const we=St(Ve(G(),{month:be.value(ne-1),year:k.value(ne-1)}),1);x(ne,Oe(we),_e(we))}},Z=()=>{if(Array.isArray(u.value)&&u.value.length===2){const D=G(G(u.value[1]?u.value[1]:St(u.value[0],1))),[ne,we]=[Oe(u.value[0]),_e(u.value[0])],[Ae,ee]=[Oe(u.value[1]),_e(u.value[1])];(ne!==Ae||ne===Ae&&we!==ee)&&g.value.solo&&x(1,Oe(D),_e(D))}else u.value&&!Array.isArray(u.value)&&(x(0,Oe(u.value),_e(u.value)),y(G()))},Pe=()=>{e.startDate&&(x(0,Oe(G(e.startDate)),_e(G(e.startDate))),g.value.count&&$e(0))},ae=(D,ne)=>{if(e.monthChangeOnScroll){const we=new Date().getTime()-r.value.getTime(),Ae=Math.abs(D.deltaY);let ee=500;Ae>1&&(ee=100),Ae>100&&(ee=0),we>ee&&(r.value=new Date,K(e.monthChangeOnScroll!=="inverse"?-D.deltaY:D.deltaY,ne))}},ue=(D,ne,we=!1)=>{e.monthChangeOnArrows&&e.vertical===we&&i(D,ne)},i=(D,ne)=>{K(D==="right"?-1:1,ne)},ve=D=>{if(I.value.markers)return on(D.value,I.value.markers)},B=(D,ne)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[D==0,!0];case"fair":return[D==0||ne>D,!0];case"append":return[!1,!1];default:return[!1,!1]}},Ce=(D,ne,we,Ae)=>{if(e.sixWeeks&&D.length<6){const ee=6-D.length,he=(ne.getDay()+7-Ae)%7,ge=6-(we.getDay()+7-Ae)%7,[Tt,_t]=B(he,ge);for(let Lt=1;Lt<=ee;Lt++)if(_t?!!(Lt%2)==Tt:Tt){const Ft=D[0].days[0],It=ye(Mt(Ft.value,-7),Oe(ne));D.unshift({days:It})}else{const Ft=D[D.length-1],It=Ft.days[Ft.days.length-1],fn=ye(Mt(It.value,1),Oe(ne));D.push({days:fn})}}return D},ye=(D,ne)=>{const we=G(D),Ae=[];for(let ee=0;ee<7;ee++){const he=Mt(we,ee),ge=Oe(he)!==ne;Ae.push({text:e.hideOffsetDates&&ge?"":he.getDate(),value:he,current:!ge,classData:{}})}return Ae},nt=(D,ne)=>{const we=[],Ae=new Date(ne,D),ee=new Date(ne,D+1,0),he=e.weekStart,ge=Rt(Ae,{weekStartsOn:he}),Tt=_t=>{const Lt=ye(_t,D);if(we.push({days:Lt}),!we[we.length-1].days.some(Ft=>Se(at(Ft.value),at(ee)))){const Ft=Mt(_t,7);Tt(Ft)}};return Tt(ge),Ce(we,Ae,ee,he)},qe=D=>{const ne=Zt(G(D.value),m.hours,m.minutes,kt());t("date-update",ne),E.value.enabled?ol(ne,u,E.value.limit):u.value=ne,a(),xt().then(()=>{te()})},bt=D=>_.value.noDisabledRange?hr(l.value[0],D).some(ne=>U(ne)):!1,N=()=>{l.value=u.value?u.value.slice():[],l.value.length===2&&!(_.value.fixedStart||_.value.fixedEnd)&&(l.value=[])},ce=(D,ne)=>{const we=[G(D.value),Mt(G(D.value),+_.value.autoRange)];J(we)?(ne&&fe(D.value),l.value=we):t("invalid-date",D.value)},fe=D=>{const ne=Oe(G(D)),we=_e(G(D));if(x(0,ne,we),g.value.count>0)for(let Ae=1;Ae<g.value.count;Ae++){const ee=Pi(Ve(G(D),{year:k.value(Ae-1),month:be.value(Ae-1)}));x(Ae,ee.month,ee.year)}},ht=D=>{if(bt(D.value)||!Y(D.value,u.value,_.value.fixedStart?0:1))return t("invalid-date",D.value);l.value=Tr(G(D.value),u,t,_)},tt=(D,ne)=>{if(N(),_.value.autoRange)return ce(D,ne);if(_.value.fixedStart||_.value.fixedEnd)return ht(D);l.value[0]?Y(G(D.value),u.value)&&!bt(D.value)?je(G(D.value),G(l.value[0]))?(l.value.unshift(G(D.value)),t("range-end",l.value[0])):(l.value[1]=G(D.value),t("range-end",l.value[1])):(e.autoApply&&t("auto-apply-invalid",D.value),t("invalid-date",D.value)):(l.value[0]=G(D.value),t("range-start",l.value[0]))},kt=(D=!0)=>e.enableSeconds?Array.isArray(m.seconds)?D?m.seconds[0]:m.seconds[1]:m.seconds:0,ot=D=>{l.value[D]=Zt(l.value[D],m.hours[D],m.minutes[D],kt(D!==1))},Oa=()=>{l.value[0]&&l.value[1]&&+l.value?.[0]>+l.value?.[1]&&(l.value.reverse(),t("range-start",l.value[0]),t("range-end",l.value[1]))},la=()=>{l.value.length&&(l.value[0]&&!l.value[1]?ot(0):(ot(0),ot(1),a()),Oa(),u.value=l.value.slice(),pn(l.value,t,e.autoApply,e.modelAuto))},ra=(D,ne=!1)=>{if(U(D.value)||!D.current&&e.hideOffsetDates)return t("invalid-date",D.value);if(s.value=JSON.parse(JSON.stringify(D)),!_.value.enabled)return qe(D);Fl(m.hours)&&Fl(m.minutes)&&!E.value.enabled&&(tt(D,ne),la())},Et=(D,ne)=>{x(D,ne.month,ne.year,!0),g.value.count&&!g.value.solo&&$e(D),t("update-month-year",{instance:D,month:ne.month,year:ne.year}),n(g.value.solo?D:void 0);const we=e.flow?.length?e.flow[e.flowStep]:void 0;!ne.fromNav&&(we===ct.month||we===ct.year)&&a()},ma=(D,ne)=>{Mr({value:D,modelValue:u,range:_.value.enabled,timezone:ne?void 0:R.value.timezone}),Q(),e.multiCalendars&&xt().then(()=>S(!0))},Sa=()=>{const D=tl(G(),R.value);!_.value.enabled&&!E.value.enabled?u.value=D:u.value&&Array.isArray(u.value)&&u.value[0]?E.value.enabled?u.value=[...u.value,D]:u.value=je(D,u.value[0])?[D,u.value[0]]:[u.value[0],D]:u.value=[D],Q()},Ra=()=>{if(Array.isArray(u.value))if(E.value.enabled){const D=Ut();u.value[u.value.length-1]=le(D)}else u.value=u.value.map((D,ne)=>D&&le(D,ne));else u.value=le(u.value);t("time-update")},Ut=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null;return{calendars:T,modelValue:u,month:be,year:k,time:m,disabledTimesConfig:me,today:f,validateTime:re,getCalendarDays:nt,getMarker:ve,handleScroll:ae,handleSwipe:i,handleArrow:ue,selectDate:ra,updateMonthYear:Et,presetDate:ma,selectCurrentDate:Sa,updateTime:(D,ne=!0,we=!1)=>{z(D,ne,we,Ra)},assignMonthAndYear:y,setStartTime:oe}},Eu={key:0},Lu=Xe({__name:"DatePicker",props:{...Yt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,l=e,{calendars:r,month:s,year:p,modelValue:u,time:T,disabledTimesConfig:m,today:f,validateTime:g,getCalendarDays:P,getMarker:_,handleArrow:O,handleScroll:R,handleSwipe:I,selectDate:E,updateMonthYear:$,presetDate:U,selectCurrentDate:J,updateTime:Y,assignMonthAndYear:z,setStartTime:le}=Vu(l,a,de,y),X=va(),{setHoverDate:L,getDayClassData:re,clearHoverDate:me}=ld(u,l),{defaultedMultiCalendars:be}=ze(l),k=F([]),A=F([]),x=F(null),Q=wt(X,"calendar"),oe=wt(X,"monthYear"),W=wt(X,"timePicker"),te=ae=>{l.shadow||a("mount",ae)};Ze(r,()=>{l.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),Ze(be,(ae,ue)=>{ae.count-ue.count>0&&z()},{deep:!0});const S=H(()=>ae=>P(s.value(ae),p.value(ae)).map(ue=>({...ue,days:ue.days.map(i=>(i.marker=_(i),i.classData=re(i),i))})));function de(ae){ae||ae===0?A.value[ae]?.triggerTransition(s.value(ae),p.value(ae)):A.value.forEach((ue,i)=>ue.triggerTransition(s.value(i),p.value(i)))}function y(){a("update-flow-step")}const q=(ae,ue=!1)=>{E(ae,ue),l.spaceConfirm&&a("select-date")},C=(ae,ue,i=0)=>{k.value[i]?.toggleMonthPicker(ae,ue)},ie=(ae,ue,i=0)=>{k.value[i]?.toggleYearPicker(ae,ue)},h=(ae,ue,i)=>{x.value?.toggleTimePicker(ae,ue,i)},c=(ae,ue)=>{if(!l.range){const i=u.value?u.value:f,ve=ue?new Date(ue):i,B=ae?Rt(ve,{weekStartsOn:1}):Xl(ve,{weekStartsOn:1});E({value:B,current:Oe(ve)===s.value(0),text:"",classData:{}}),document.getElementById(zn(B))?.focus()}},K=ae=>{k.value[0]?.handleMonthYearChange(ae,!0)},$e=ae=>{$(0,{month:s.value(0),year:p.value(0)+(ae?1:-1),fromNav:!0})},Z=(ae,ue)=>{ae===ct.time&&a(`time-picker-${ue?"open":"close"}`),a("overlay-toggle",{open:ue,overlay:ae})},Pe=ae=>{a("overlay-toggle",{open:!1,overlay:ae}),a("focus-menu")};return t({clearHoverDate:me,presetDate:U,selectCurrentDate:J,toggleMonthPicker:C,toggleYearPicker:ie,toggleTimePicker:h,handleArrow:O,updateMonthYear:$,getSidebarProps:()=>({modelValue:u,month:s,year:p,time:T,updateTime:Y,updateMonthYear:$,selectDate:E,presetDate:U}),changeMonth:K,changeYear:$e,selectWeekDate:c,setStartTime:le}),(ae,ue)=>(b(),M(Me,null,[Ee(vn,{"multi-calendars":v(be).count,collapse:ae.collapse,"is-mobile":ae.isMobile},{default:De(({instance:i,index:ve})=>[ae.disableMonthYearSelect?j("",!0):(b(),Re(Ou,st({key:0,ref:B=>{B&&(k.value[ve]=B)},months:v(ur)(ae.formatLocale,ae.locale,ae.monthNameFormat),years:v(al)(ae.yearRange,ae.locale,ae.reverseYears),month:v(s)(i),year:v(p)(i),instance:i},ae.$props,{onMount:ue[0]||(ue[0]=B=>te(v(ua).header)),onResetFlow:ue[1]||(ue[1]=B=>ae.$emit("reset-flow")),onUpdateMonthYear:B=>v($)(i,B),onOverlayClosed:Pe,onOverlayOpened:ue[2]||(ue[2]=B=>ae.$emit("overlay-toggle",{open:!0,overlay:B}))}),pt({_:2},[Be(v(oe),(B,Ce)=>({name:B,fn:De(ye=>[pe(ae.$slots,B,rt(yt(ye)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ee(Nu,st({ref:B=>{B&&(A.value[ve]=B)},"mapped-dates":S.value(i),month:v(s)(i),year:v(p)(i),instance:i},ae.$props,{onSelectDate:B=>v(E)(B,i!==1),onHandleSpace:B=>q(B,i!==1),onSetHoverDate:ue[3]||(ue[3]=B=>v(L)(B)),onHandleScroll:B=>v(R)(B,i),onHandleSwipe:B=>v(I)(B,i),onMount:ue[4]||(ue[4]=B=>te(v(ua).calendar)),onResetFlow:ue[5]||(ue[5]=B=>ae.$emit("reset-flow")),onTooltipOpen:ue[6]||(ue[6]=B=>ae.$emit("tooltip-open",B)),onTooltipClose:ue[7]||(ue[7]=B=>ae.$emit("tooltip-close",B))}),pt({_:2},[Be(v(Q),(B,Ce)=>({name:B,fn:De(ye=>[pe(ae.$slots,B,rt(yt({...ye})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),ae.enableTimePicker?(b(),M("div",Eu,[ae.$slots["time-picker"]?pe(ae.$slots,"time-picker",rt(st({key:0},{time:v(T),updateTime:v(Y)}))):(b(),Re(Pr,st({key:1,ref_key:"timePickerRef",ref:x},ae.$props,{hours:v(T).hours,minutes:v(T).minutes,seconds:v(T).seconds,"internal-model-value":ae.internalModelValue,"disabled-times-config":v(m),"validate-time":v(g),onMount:ue[8]||(ue[8]=i=>te(v(ua).timePicker)),"onUpdate:hours":ue[9]||(ue[9]=i=>v(Y)(i)),"onUpdate:minutes":ue[10]||(ue[10]=i=>v(Y)(i,!1)),"onUpdate:seconds":ue[11]||(ue[11]=i=>v(Y)(i,!1,!0)),onResetFlow:ue[12]||(ue[12]=i=>ae.$emit("reset-flow")),onOverlayClosed:ue[13]||(ue[13]=i=>Z(i,!1)),onOverlayOpened:ue[14]||(ue[14]=i=>Z(i,!0)),onAmPmChange:ue[15]||(ue[15]=i=>ae.$emit("am-pm-change",i))}),pt({_:2},[Be(v(W),(i,ve)=>({name:i,fn:De(B=>[pe(ae.$slots,i,rt(yt(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):j("",!0)],64))}}),Hu=(e,t)=>{const n=F(),{defaultedMultiCalendars:a,defaultedConfig:l,defaultedHighlight:r,defaultedRange:s,propDates:p,defaultedFilters:u,defaultedMultiDates:T}=ze(e),{modelValue:m,year:f,month:g,calendars:P}=Xa(e,t),{isDisabled:_}=na(e),{selectYear:O,groupedYears:R,showYearPicker:I,isDisabled:E,toggleYearPicker:$,handleYearSelect:U,handleYear:J}=Dr({modelValue:m,multiCalendars:a,range:s,highlight:r,calendars:P,propDates:p,month:g,year:f,filters:u,props:e,emit:t}),Y=(A,x)=>[A,x].map(Q=>Vt(Q,"MMMM",{locale:e.formatLocale})).join("-"),z=H(()=>A=>m.value?Array.isArray(m.value)?m.value.some(x=>Dl(A,x)):Dl(m.value,A):!1),le=A=>{if(s.value.enabled){if(Array.isArray(m.value)){const x=Se(A,m.value[0])||Se(A,m.value[1]);return za(m.value,n.value,A)&&!x}return!1}return!1},X=(A,x)=>A.quarter===wl(x)&&A.year===_e(x),L=A=>typeof r.value=="function"?r.value({quarter:wl(A),year:_e(A)}):!!r.value.quarters.find(x=>X(x,A)),re=H(()=>A=>{const x=Ve(new Date,{year:f.value(A)});return hs({start:xa(x),end:Ul(x)}).map(Q=>{const oe=ia(Q),W=xl(Q),te=_(Q),S=le(oe),de=L(oe);return{text:Y(oe,W),value:oe,active:z.value(oe),highlighted:de,disabled:te,isBetween:S}})}),me=A=>{ol(A,m,T.value.limit),t("auto-apply",!0)},be=A=>{m.value=il(m,A,t),pn(m.value,t,e.autoApply,e.modelAuto)},k=A=>{m.value=A,t("auto-apply")};return{defaultedConfig:l,defaultedMultiCalendars:a,groupedYears:R,year:f,isDisabled:E,quarters:re,showYearPicker:I,modelValue:m,setHoverDate:A=>{n.value=A},selectYear:O,selectQuarter:(A,x,Q)=>{if(!Q)return P.value[x].month=Oe(xl(A)),T.value.enabled?me(A):s.value.enabled?be(A):k(A)},toggleYearPicker:$,handleYearSelect:U,handleYear:J}},zu={class:"dp--quarter-items"},qu=["data-test-id","disabled","onClick","onMouseover"],Wu=Xe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Yt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=va(),s=wt(r,"yearMode"),{defaultedMultiCalendars:p,defaultedConfig:u,groupedYears:T,year:m,isDisabled:f,quarters:g,modelValue:P,showYearPicker:_,setHoverDate:O,selectQuarter:R,toggleYearPicker:I,handleYearSelect:E,handleYear:$}=Hu(l,a);return t({getSidebarProps:()=>({modelValue:P,year:m,selectQuarter:R,handleYearSelect:E,handleYear:$})}),(U,J)=>(b(),Re(vn,{"multi-calendars":v(p).count,collapse:U.collapse,stretch:"","is-mobile":U.isMobile},{default:De(({instance:Y})=>[o("div",{class:"dp-quarter-picker-wrap",style:vt({minHeight:`${v(u).modeHeight}px`})},[U.$slots["top-extra"]?pe(U.$slots,"top-extra",{key:0,value:U.internalModelValue}):j("",!0),o("div",null,[Ee(_r,st(U.$props,{items:v(T)(Y),instance:Y,"show-year-picker":v(_)[Y],year:v(m)(Y),"is-disabled":z=>v(f)(Y,z),onHandleYear:z=>v($)(Y,z),onYearSelect:z=>v(E)(z,Y),onToggleYearPicker:z=>v(I)(Y,z?.flow,z?.show)}),pt({_:2},[Be(v(s),(z,le)=>({name:z,fn:De(X=>[pe(U.$slots,z,rt(yt(X)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),o("div",zu,[(b(!0),M(Me,null,Be(v(g)(Y),(z,le)=>(b(),M("div",{key:le},[o("button",{type:"button",class:se(["dp--qr-btn",{"dp--qr-btn-active":z.active,"dp--qr-btn-between":z.isBetween,"dp--qr-btn-disabled":z.disabled,"dp--highlighted":z.highlighted}]),"data-test-id":z.value,disabled:z.disabled,onClick:X=>v(R)(z.value,Y,z.disabled),onMouseover:X=>v(O)(z.value)},[U.$slots.quarter?pe(U.$slots,"quarter",{key:0,value:z.value,text:z.text}):(b(),M(Me,{key:1},[Wt(Te(z.text),1)],64))],42,qu)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Ar=(e,t)=>{const n=F(0);it(()=>{a(),window.addEventListener("resize",a,{passive:!0})}),Aa(()=>{window.removeEventListener("resize",a)});const a=()=>{n.value=window.document.documentElement.clientWidth};return{isMobile:H(()=>n.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},ju=["id","tabindex","role","aria-label"],Uu={key:0,class:"dp--menu-load-container"},Xu={key:1,class:"dp--menu-header"},Qu=["data-dp-mobile"],Ku={key:0,class:"dp__sidebar_left"},Gu=["data-dp-mobile"],Ju=["data-test-id","data-dp-mobile","onClick","onKeydown"],Zu={key:2,class:"dp__sidebar_right"},ed={key:3,class:"dp__action_extra"},Il=Xe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...cn,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=F(null),s=H(()=>{const{openOnTop:N,...ce}=l;return{...ce,isMobile:R.value,flowStep:be.value,menuWrapRef:r.value}}),{setMenuFocused:p,setShiftKey:u,control:T}=kr(),m=va(),{defaultedTextInput:f,defaultedInline:g,defaultedConfig:P,defaultedUI:_,handleEventPropagation:O}=ze(l),{isMobile:R}=Ar(P,l.shadow),I=F(null),E=F(0),$=F(null),U=F(!1),J=F(null),Y=F(!1),z=N=>{Y.value=!0,P.value.allowPreventDefault&&N.preventDefault(),Jt(N,P.value,!0)};it(()=>{if(!l.shadow){U.value=!0,le(),window.addEventListener("resize",le);const N=et(r);N&&!f.value.enabled&&!g.value.enabled&&(p(!0),te()),N&&(N.addEventListener("pointerdown",z),N.addEventListener("mousedown",z))}document.addEventListener("mousedown",bt)}),Aa(()=>{window.removeEventListener("resize",le),document.removeEventListener("mousedown",bt);const N=et(r);N&&(N.removeEventListener("pointerdown",z),N.removeEventListener("mousedown",z))});const le=()=>{const N=et($);N&&(E.value=N.getBoundingClientRect().width)},{arrowRight:X,arrowLeft:L,arrowDown:re,arrowUp:me}=aa(),{flowStep:be,updateFlowStep:k,childMount:A,resetFlow:x,handleFlow:Q}=rd(l,a,J),oe=H(()=>l.monthPicker?uu:l.yearPicker?cu:l.timePicker?Tu:l.quarterPicker?Wu:Lu),W=H(()=>{if(P.value.arrowLeft)return P.value.arrowLeft;const N=r.value?.getBoundingClientRect(),ce=l.getInputRect();return ce?.width<E?.value&&ce?.left<=(N?.left??0)?`${ce?.width/2}px`:ce?.right>=(N?.right??0)&&ce?.width<E?.value?`${E?.value-ce?.width/2}px`:"50%"}),te=()=>{const N=et(r);N&&N.focus({preventScroll:!0})},S=H(()=>J.value?.getSidebarProps()||{}),de=()=>{l.openOnTop&&a("recalculate-position")},y=wt(m,"action"),q=H(()=>l.monthPicker||l.yearPicker?wt(m,"monthYear"):l.timePicker?wt(m,"timePicker"):wt(m,"shared")),C=H(()=>l.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ie=H(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly,"dp-menu-loading":l.loading})),h=H(()=>({dp__menu:!0,dp__menu_index:!g.value.enabled,dp__relative:g.value.enabled,..._.value.menu??{}})),c=N=>{Jt(N,P.value,!0)},K=N=>{l.escClose&&(a("close-picker"),O(N))},$e=N=>{if(l.arrowNavigation){if(N===mt.up)return me();if(N===mt.down)return re();if(N===mt.left)return L();if(N===mt.right)return X()}else N===mt.left||N===mt.up?i("handleArrow",mt.left,0,N===mt.up):i("handleArrow",mt.right,0,N===mt.down)},Z=N=>{u(N.shiftKey),!l.disableMonthYearSelect&&N.code===He.tab&&N.target.classList.contains("dp__menu")&&T.value.shiftKeyInMenu&&(N.preventDefault(),Jt(N,P.value,!0),a("close-picker"))},Pe=()=>{te(),a("time-picker-close")},ae=N=>{J.value?.toggleTimePicker(!1,!1),J.value?.toggleMonthPicker(!1,!1,N),J.value?.toggleYearPicker(!1,!1,N)},ue=(N,ce=0)=>N==="month"?J.value?.toggleMonthPicker(!1,!0,ce):N==="year"?J.value?.toggleYearPicker(!1,!0,ce):N==="time"?J.value?.toggleTimePicker(!0,!1):ae(ce),i=(N,...ce)=>{J.value?.[N]&&J.value?.[N](...ce)},ve=()=>{i("selectCurrentDate")},B=(N,ce)=>{i("presetDate",Kr(N),ce)},Ce=()=>{i("clearHoverDate")},ye=(N,ce)=>{i("updateMonthYear",N,ce)},nt=(N,ce)=>{N.preventDefault(),$e(ce)},qe=N=>{if(Z(N),N.key===He.home||N.key===He.end)return i("selectWeekDate",N.key===He.home,N.target.getAttribute("id"));switch((N.key===He.pageUp||N.key===He.pageDown)&&(N.shiftKey?(i("changeYear",N.key===He.pageUp),Ln(r.value,"overlay-year")?.focus()):(i("changeMonth",N.key===He.pageUp),Ln(r.value,N.key===He.pageUp?"action-prev":"action-next")?.focus()),N.target.getAttribute("id")&&r.value?.focus({preventScroll:!0})),N.key){case He.esc:return K(N);case He.arrowLeft:return nt(N,mt.left);case He.arrowRight:return nt(N,mt.right);case He.arrowUp:return nt(N,mt.up);case He.arrowDown:return nt(N,mt.down);default:return}},bt=N=>{g.value.enabled&&!g.value.input&&!r.value?.contains(N.target)&&Y.value&&(Y.value=!1,a("menu-blur"))};return t({updateMonthYear:ye,switchView:ue,handleFlow:Q,onValueCleared:()=>{J.value?.setStartTime?.()}}),(N,ce)=>(b(),M("div",{id:N.uid?`dp-menu-${N.uid}`:void 0,ref_key:"dpMenuRef",ref:r,tabindex:v(g).enabled?void 0:"0",role:v(g).enabled?void 0:"dialog","aria-label":N.ariaLabels?.menu,class:se(h.value),style:vt({"--dp-arrow-left":W.value}),onMouseleave:Ce,onClick:c,onKeydown:qe},[(N.disabled||N.readonly)&&v(g).enabled||N.loading?(b(),M("div",{key:0,class:se(ie.value)},[N.loading?(b(),M("div",Uu,[...ce[19]||(ce[19]=[o("span",{class:"dp--menu-loader"},null,-1)])])):j("",!0)],2)):j("",!0),N.$slots["menu-header"]?(b(),M("div",Xu,[pe(N.$slots,"menu-header")])):j("",!0),!v(g).enabled&&!N.teleportCenter?(b(),M("div",{key:2,class:se(C.value)},null,2)):j("",!0),o("div",{ref_key:"innerMenuRef",ref:$,class:se({dp__menu_content_wrapper:N.presetDates?.length||!!N.$slots["left-sidebar"]||!!N.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(N.presetDates?.length||!!N.$slots["left-sidebar"]||!!N.$slots["right-sidebar"])}),"data-dp-mobile":v(R),style:vt({"--dp-menu-width":`${E.value}px`})},[N.$slots["left-sidebar"]?(b(),M("div",Ku,[pe(N.$slots,"left-sidebar",rt(yt(S.value)))])):j("",!0),N.presetDates.length?(b(),M("div",{key:1,class:se({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":v(R)},[(b(!0),M(Me,null,Be(N.presetDates,(fe,ht)=>(b(),M(Me,{key:ht},[fe.slot?pe(N.$slots,fe.slot,{key:0,presetDate:B,label:fe.label,value:fe.value}):(b(),M("button",{key:1,type:"button",style:vt(fe.style||{}),class:se(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":fe.testId??void 0,"data-dp-mobile":v(R),onClick:At(tt=>B(fe.value,fe.noTz),["prevent"]),onKeydown:tt=>v(ft)(tt,()=>B(fe.value,fe.noTz),!0)},Te(fe.label),47,Ju))],64))),128))],10,Gu)):j("",!0),o("div",{ref_key:"calendarWrapperRef",ref:I,class:"dp__instance_calendar",role:"document"},[(b(),Re(dn(oe.value),st({ref_key:"dynCmpRef",ref:J},s.value,{"flow-step":v(be),onMount:v(A),onUpdateFlowStep:v(k),onResetFlow:v(x),onFocusMenu:te,onSelectDate:ce[0]||(ce[0]=fe=>N.$emit("select-date")),onDateUpdate:ce[1]||(ce[1]=fe=>N.$emit("date-update",fe)),onTooltipOpen:ce[2]||(ce[2]=fe=>N.$emit("tooltip-open",fe)),onTooltipClose:ce[3]||(ce[3]=fe=>N.$emit("tooltip-close",fe)),onAutoApply:ce[4]||(ce[4]=fe=>N.$emit("auto-apply",fe)),onRangeStart:ce[5]||(ce[5]=fe=>N.$emit("range-start",fe)),onRangeEnd:ce[6]||(ce[6]=fe=>N.$emit("range-end",fe)),onInvalidFixedRange:ce[7]||(ce[7]=fe=>N.$emit("invalid-fixed-range",fe)),onTimeUpdate:ce[8]||(ce[8]=fe=>N.$emit("time-update")),onAmPmChange:ce[9]||(ce[9]=fe=>N.$emit("am-pm-change",fe)),onTimePickerOpen:ce[10]||(ce[10]=fe=>N.$emit("time-picker-open",fe)),onTimePickerClose:Pe,onRecalculatePosition:de,onUpdateMonthYear:ce[11]||(ce[11]=fe=>N.$emit("update-month-year",fe)),onAutoApplyInvalid:ce[12]||(ce[12]=fe=>N.$emit("auto-apply-invalid",fe)),onInvalidDate:ce[13]||(ce[13]=fe=>N.$emit("invalid-date",fe)),onOverlayToggle:ce[14]||(ce[14]=fe=>N.$emit("overlay-toggle",fe)),"onUpdate:internalModelValue":ce[15]||(ce[15]=fe=>N.$emit("update:internal-model-value",fe))}),pt({_:2},[Be(q.value,(fe,ht)=>({name:fe,fn:De(tt=>[pe(N.$slots,fe,rt(yt({...tt})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),N.$slots["right-sidebar"]?(b(),M("div",Zu,[pe(N.$slots,"right-sidebar",rt(yt(S.value)))])):j("",!0),N.$slots["action-extra"]?(b(),M("div",ed,[N.$slots["action-extra"]?pe(N.$slots,"action-extra",{key:0,selectCurrentDate:ve}):j("",!0)])):j("",!0)],14,Qu),!N.autoApply||v(P).keepActionRow?(b(),Re(eu,st({key:3,"menu-mount":U.value},s.value,{"calendar-width":E.value,onClosePicker:ce[16]||(ce[16]=fe=>N.$emit("close-picker")),onSelectDate:ce[17]||(ce[17]=fe=>N.$emit("select-date")),onInvalidSelect:ce[18]||(ce[18]=fe=>N.$emit("invalid-select")),onSelectNow:ve}),pt({_:2},[Be(v(y),(fe,ht)=>({name:fe,fn:De(tt=>[pe(N.$slots,fe,rt(yt({...tt})))])}))]),1040,["menu-mount","calendar-width"])):j("",!0)],46,ju))}});var ba=(e=>(e.center="center",e.left="left",e.right="right",e))(ba||{});const td=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:a,inline:l,emit:r,props:s,slots:p})=>{const{defaultedConfig:u}=ze(s),T=F({}),m=F(!1),f=F({top:"0",left:"0"}),g=F(!1),P=La(s,"teleportCenter");Ze(P,()=>{f.value=JSON.parse(JSON.stringify({})),J()});const _=x=>{if(s.teleport){const Q=x.getBoundingClientRect();return{left:Q.left+window.scrollX,top:Q.top+window.scrollY}}return{top:0,left:0}},O=(x,Q)=>{f.value.left=`${x+Q-T.value.width}px`},R=x=>{f.value.left=`${x}px`},I=(x,Q)=>{s.position===ba.left&&R(x),s.position===ba.right&&O(x,Q),s.position===ba.center&&(f.value.left=`${x+Q/2-T.value.width/2}px`)},E=x=>{const{width:Q,height:oe}=x.getBoundingClientRect(),{top:W,left:te}=_(x);return{top:+W,left:+te,width:Q,height:oe}},$=()=>{f.value.left="50%",f.value.top="50%",f.value.transform="translate(-50%, -50%)",f.value.position="fixed",delete f.value.opacity},U=()=>{const x=et(n);f.value=s.altPosition(x)},J=(x=!0)=>{if(!l.value.enabled){if(P.value)return $();if(s.altPosition!==null)return U();if(x){const Q=s.teleport?t.value?.$el:e.value;Q&&(T.value=Q.getBoundingClientRect()),r("recalculate-position")}return me()}},Y=({inputEl:x,left:Q,width:oe})=>{window.screen.width>768&&!m.value&&I(Q,oe),X(x)},z=x=>{const{top:Q,left:oe,height:W,width:te}=E(x);f.value.top=`${W+Q+ +s.offset}px`,g.value=!1,m.value||(f.value.left=`${oe+te/2-T.value.width/2}px`),Y({inputEl:x,left:oe,width:te})},le=x=>{const{top:Q,left:oe,width:W}=E(x);f.value.top=`${Q-+s.offset-T.value.height}px`,g.value=!0,Y({inputEl:x,left:oe,width:W})},X=x=>{if(s.autoPosition){const{left:Q,width:oe}=E(x),{left:W,right:te}=T.value;if(!m.value){if(Math.abs(W)!==Math.abs(te)){if(W<=0)return m.value=!0,R(Q);if(te>=document.documentElement.clientWidth)return m.value=!0,O(Q,oe)}return I(Q,oe)}}},L=()=>{const x=et(n);if(x){if(s.autoPosition===Pt.top)return Pt.top;if(s.autoPosition===Pt.bottom)return Pt.bottom;const{height:Q}=T.value,{top:oe,height:W}=x.getBoundingClientRect(),te=window.innerHeight-oe-W,S=oe;return Q<=te?Pt.bottom:Q>te&&Q<=S?Pt.top:te>=S?Pt.bottom:Pt.top}return Pt.bottom},re=x=>L()===Pt.bottom?z(x):le(x),me=()=>{const x=et(n);if(x)return s.autoPosition?re(x):z(x)},be=function(x){if(x){const Q=x.scrollHeight>x.clientHeight,oe=window.getComputedStyle(x).overflowY.indexOf("hidden")!==-1;return Q&&!oe}return!0},k=function(x){return!x||x===document.body||x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:be(x)?x:k(x.assignedSlot&&u.value.shadowDom?x.assignedSlot.parentNode:x.parentNode)},A=x=>{if(x)switch(s.position){case ba.left:return{left:0,transform:"translateX(0)"};case ba.right:return{left:`${x.width}px`,transform:"translateX(-100%)"};default:return{left:`${x.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:g,menuStyle:f,xCorrect:m,setMenuPosition:J,getScrollableParent:k,shadowRender:(x,Q,oe)=>{const W=document.createElement("div"),te=et(n)?.getBoundingClientRect();W.setAttribute("id","dp--temp-container");const S=a.value?.clientWidth?a.value:document.body;S.append(W);const de=A(te),y=u.value.shadowDom?Object.keys(p).filter(C=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(C)):Object.keys(p),q=Qr(Q,{...oe,shadow:!0,style:{opacity:0,position:"absolute",...de}},Object.fromEntries(y.map(C=>[C,p[C]])));x!=null&&(q.appContext=x.appContext),hl(q,W),T.value=q.el?.getBoundingClientRect(),hl(null,W),S.removeChild(W)}}},Kt=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],ad=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],nd={all:()=>Kt,monthYear:()=>Kt.filter(e=>e.use.includes("month-year")),input:()=>ad,timePicker:()=>Kt.filter(e=>e.use.includes("time")),action:()=>Kt.filter(e=>e.use.includes("action")),calendar:()=>Kt.filter(e=>e.use.includes("calendar")),menu:()=>Kt.filter(e=>e.use.includes("menu")),shared:()=>Kt.filter(e=>e.use.includes("shared")),yearMode:()=>Kt.filter(e=>e.use.includes("year-mode"))},wt=(e,t,n)=>{const a=[];return nd[t]().forEach(l=>{e[l.name]&&a.push(l.name)}),n?.length&&n.forEach(l=>{l.slot&&a.push(l.slot)}),a},Ua=e=>{const t=H(()=>a=>e.value?a?e.value.open:e.value.close:""),n=H(()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Xa=(e,t,n)=>{const{defaultedRange:a,defaultedTz:l}=ze(e),r=G(gt(G(),l.value.timezone)),s=F([{month:Oe(r),year:_e(r)}]),p=g=>{const P={hours:jt(r),minutes:ta(r),seconds:0};return a.value.enabled?[P[g],P[g]]:P[g]},u=qa({hours:p("hours"),minutes:p("minutes"),seconds:p("seconds")});Ze(a,(g,P)=>{g.enabled!==P.enabled&&(u.hours=p("hours"),u.minutes=p("minutes"),u.seconds=p("seconds"))},{deep:!0});const T=H({get:()=>e.internalModelValue,set:g=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",g)}}),m=H(()=>g=>s.value[g]?s.value[g].month:0),f=H(()=>g=>s.value[g]?s.value[g].year:0);return Ze(T,(g,P)=>{n&&JSON.stringify(g??{})!==JSON.stringify(P??{})&&n()},{deep:!0}),{calendars:s,time:u,modelValue:T,month:m,year:f,today:r}},ld=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:a,defaultedUI:l,defaultedHighlight:r,defaultedTz:s,propDates:p,defaultedRange:u}=ze(t),{isDisabled:T}=na(t),m=F(null),f=F(gt(new Date,s.value.timezone)),g=h=>{!h.current&&t.hideOffsetDates||(m.value=h.value)},P=()=>{m.value=null},_=h=>Array.isArray(e.value)&&u.value.enabled&&e.value[0]&&m.value?h?Ke(m.value,e.value[0]):je(m.value,e.value[0]):!0,O=(h,c)=>{const K=()=>e.value?c?e.value[0]||null:e.value[1]:null,$e=e.value&&Array.isArray(e.value)?K():null;return Se(G(h.value),$e)},R=h=>{const c=Array.isArray(e.value)?e.value[0]:null;return h?!je(m.value??null,c):!0},I=(h,c=!0)=>(u.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!h.current?!1:Se(G(h.value),e.value[c?0:1]):u.value.enabled?O(h,c)&&R(c)||Se(h.value,Array.isArray(e.value)?e.value[0]:null)&&_(c):!1,E=(h,c)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const K=Se(h.value,m.value);return c?Ke(e.value[0],h.value)&&K:je(e.value[0],h.value)&&K}return!1},$=h=>!e.value||t.hideOffsetDates&&!h.current?!1:u.value.enabled?t.modelAuto&&Array.isArray(e.value)?Se(h.value,e.value[0]?e.value[0]:f.value):!1:a.value.enabled&&Array.isArray(e.value)?e.value.some(c=>Se(c,h.value)):Se(h.value,e.value?e.value:f.value),U=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){if(t.hideOffsetDates&&!h.current)return!1;const c=Mt(m.value,+u.value.autoRange),K=Ht(G(m.value),t.weekStart);return t.weekPicker?Se(K[1],G(h.value)):Se(c,G(h.value))}return!1}return!1},J=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){const c=Mt(m.value,+u.value.autoRange);if(t.hideOffsetDates&&!h.current)return!1;const K=Ht(G(m.value),t.weekStart);return t.weekPicker?Ke(h.value,K[0])&&je(h.value,K[1]):Ke(h.value,m.value)&&je(h.value,c)}return!1}return!1},Y=h=>{if(u.value.autoRange||t.weekPicker){if(m.value){if(t.hideOffsetDates&&!h.current)return!1;const c=Ht(G(m.value),t.weekStart);return t.weekPicker?Se(c[0],h.value):Se(m.value,h.value)}return!1}return!1},z=h=>za(e.value,m.value,h.value),le=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,X=()=>t.modelAuto?dr(t.internalModelValue):!0,L=h=>{if(t.weekPicker)return!1;const c=u.value.enabled?!I(h)&&!I(h,!1):!0;return!T(h.value)&&!$(h)&&!(!h.current&&t.hideOffsetDates)&&c},re=h=>u.value.enabled?t.modelAuto?le()&&$(h):!1:$(h),me=h=>r.value?_i(h.value,p.value.highlight):!1,be=h=>{const c=T(h.value);return c&&(typeof r.value=="function"?!r.value(h.value,c):!r.value.options.highlightDisabled)},k=h=>typeof r.value=="function"?r.value(h.value):r.value.weekdays?.includes(h.value.getDay()),A=h=>(u.value.enabled||t.weekPicker)&&(!(n.value.count>0)||h.current)&&X()&&!(!h.current&&t.hideOffsetDates)&&!$(h)?z(h):!1,x=h=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:c,after:K}=Sl(+u.value.maxRange,e.value[0]);return Ta(h.value,c)||ca(h.value,K)}return!1},Q=h=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:c,after:K}=Sl(+u.value.minRange,e.value[0]);return za([c,K],e.value[0],h.value)}return!1},oe=h=>u.value.enabled&&(u.value.maxRange||u.value.minRange)?u.value.maxRange&&u.value.minRange?x(h)||Q(h):u.value.maxRange?x(h):Q(h):!1,W=h=>{const{isRangeStart:c,isRangeEnd:K}=y(h),$e=u.value.enabled?c||K:!1;return{dp__cell_offset:!h.current,dp__pointer:!t.disabled&&!(!h.current&&t.hideOffsetDates)&&!T(h.value)&&!oe(h),dp__cell_disabled:T(h.value)||oe(h),dp__cell_highlight:!be(h)&&(me(h)||k(h))&&!re(h)&&!$e&&!Y(h)&&!(A(h)&&t.weekPicker)&&!K,dp__cell_highlight_active:!be(h)&&(me(h)||k(h))&&re(h),dp__today:!t.noToday&&Se(h.value,f.value)&&h.current,"dp--past":je(h.value,f.value),"dp--future":Ke(h.value,f.value)}},te=h=>({dp__active_date:re(h),dp__date_hover:L(h)}),S=h=>{if(e.value&&!Array.isArray(e.value)){const c=Ht(e.value,t.weekStart);return{...C(h),dp__range_start:Se(c[0],h.value),dp__range_end:Se(c[1],h.value),dp__range_between_week:Ke(h.value,c[0])&&je(h.value,c[1])}}return{...C(h)}},de=h=>{if(e.value&&Array.isArray(e.value)){const c=Ht(e.value[0],t.weekStart),K=e.value[1]?Ht(e.value[1],t.weekStart):[];return{...C(h),dp__range_start:Se(c[0],h.value)||Se(K[0],h.value),dp__range_end:Se(c[1],h.value)||Se(K[1],h.value),dp__range_between_week:Ke(h.value,c[0])&&je(h.value,c[1])||Ke(h.value,K[0])&&je(h.value,K[1]),dp__range_between:Ke(h.value,c[1])&&je(h.value,K[0])}}return{...C(h)}},y=h=>{const c=n.value.count>0?h.current&&I(h)&&X():I(h)&&X(),K=n.value.count>0?h.current&&I(h,!1)&&X():I(h,!1)&&X();return{isRangeStart:c,isRangeEnd:K}},q=h=>{const{isRangeStart:c,isRangeEnd:K}=y(h);return{dp__range_start:c,dp__range_end:K,dp__range_between:A(h),dp__date_hover:Se(h.value,m.value)&&!c&&!K&&!t.weekPicker,dp__date_hover_start:E(h,!0),dp__date_hover_end:E(h,!1)}},C=h=>({...q(h),dp__cell_auto_range:J(h),dp__cell_auto_range_start:Y(h),dp__cell_auto_range_end:U(h)}),ie=h=>u.value.enabled?u.value.autoRange?C(h):t.modelAuto?{...te(h),...q(h)}:t.weekPicker?de(h):q(h):t.weekPicker?S(h):te(h);return{setHoverDate:g,clearHoverDate:P,getDayClassData:h=>t.hideOffsetDates&&!h.current?{}:{...W(h),...ie(h),[t.dayClass?t.dayClass(h.value,t.internalModelValue):""]:!0,...l.value.calendarCell??{}}}},na=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:a,defaultedMultiDates:l}=ze(e),r=k=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(G(k)):!!on(k,a.value.disabledDates):!1,s=k=>a.value.maxDate?e.yearPicker?_e(k)>_e(a.value.maxDate):Ke(k,a.value.maxDate):!1,p=k=>a.value.minDate?e.yearPicker?_e(k)<_e(a.value.minDate):je(k,a.value.minDate):!1,u=k=>{const A=s(k),x=p(k),Q=r(k),oe=t.value.months.map(y=>+y).includes(Oe(k)),W=e.disabledWeekDays.length?e.disabledWeekDays.some(y=>+y===uo(k)):!1,te=P(k),S=_e(k),de=xr(e.yearRange,S);return!(A||x||Q||oe||de||W||te)},T=(k,A)=>je(...Gt(a.value.minDate,k,A))||Se(...Gt(a.value.minDate,k,A)),m=(k,A)=>Ke(...Gt(a.value.maxDate,k,A))||Se(...Gt(a.value.maxDate,k,A)),f=(k,A,x)=>{let Q=!1;return a.value.maxDate&&x&&m(k,A)&&(Q=!0),a.value.minDate&&!x&&T(k,A)&&(Q=!0),Q},g=(k,A,x,Q)=>{let oe=!1;return Q&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?oe=f(k,A,x):(a.value.minDate&&T(k,A)||a.value.maxDate&&m(k,A))&&(oe=!0):oe=!0,oe},P=k=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!on(k,a.value.allowedDates,vr(e.monthPicker,e.yearPicker)):!1,_=k=>!u(k),O=k=>n.value.noDisabledRange?!jl({start:k[0],end:k[1]}).some(A=>_(A)):!0,R=k=>{if(k){const A=_e(k);return A>=+e.yearRange[0]&&A<=e.yearRange[1]}return!0},I=(k,A)=>!!(Array.isArray(k)&&k[A]&&(n.value.maxRange||n.value.minRange)&&R(k[A])),E=(k,A,x=0)=>{if(I(A,x)&&R(k)){const Q=zl(k,A[x]),oe=hr(A[x],k),W=oe.length===1?0:oe.filter(S=>_(S)).length,te=Math.abs(Q)-(n.value.minMaxRawRange?0:W);if(n.value.minRange&&n.value.maxRange)return te>=+n.value.minRange&&te<=+n.value.maxRange;if(n.value.minRange)return te>=+n.value.minRange;if(n.value.maxRange)return te<=+n.value.maxRange}return!0},$=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,U=k=>Array.isArray(k)?[k[0]?An(k[0]):null,k[1]?An(k[1]):null]:An(k),J=(k,A,x)=>k.find(Q=>+Q.hours===jt(A)&&Q.minutes==="*"?!0:+Q.minutes===ta(A)&&+Q.hours===jt(A))&&x,Y=(k,A,x)=>{const[Q,oe]=k,[W,te]=A;return!J(Q,W,x)&&!J(oe,te,x)&&x},z=(k,A)=>{const x=Array.isArray(A)?A:[A];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?Y(e.disabledTimes,x,k):!x.some(Q=>J(e.disabledTimes,Q,k)):k},le=(k,A)=>{const x=Array.isArray(A)?[da(A[0]),A[1]?da(A[1]):void 0]:da(A),Q=!e.disabledTimes(x);return k&&Q},X=(k,A)=>e.disabledTimes?Array.isArray(e.disabledTimes)?z(A,k):le(A,k):A,L=k=>{let A=!0;if(!k||$())return!0;const x=!a.value.minDate&&!a.value.maxDate?U(k):k;return(e.maxTime||a.value.maxDate)&&(A=Ol(e.maxTime,a.value.maxDate,"max",lt(x),A)),(e.minTime||a.value.minDate)&&(A=Ol(e.minTime,a.value.minDate,"min",lt(x),A)),X(k,A)},re=k=>{if(!e.monthPicker)return!0;let A=!0;const x=G(Ot(k));if(a.value.minDate&&a.value.maxDate){const Q=G(Ot(a.value.minDate)),oe=G(Ot(a.value.maxDate));return Ke(x,Q)&&je(x,oe)||Se(x,Q)||Se(x,oe)}if(a.value.minDate){const Q=G(Ot(a.value.minDate));A=Ke(x,Q)||Se(x,Q)}if(a.value.maxDate){const Q=G(Ot(a.value.maxDate));A=je(x,Q)||Se(x,Q)}return A},me=H(()=>k=>!e.enableTimePicker||e.ignoreTimeValidation?!0:L(k)),be=H(()=>k=>e.monthPicker?Array.isArray(k)&&(n.value.enabled||l.value.enabled)?!k.filter(A=>!re(A)).length:re(k):!0);return{isDisabled:_,validateDate:u,validateMonthYearInRange:g,isDateRangeAllowed:O,checkMinMaxRange:E,isValidTime:L,isTimeValid:me,isMonthValid:be}},mn=()=>{const e=H(()=>(a,l)=>a?.includes(l)),t=H(()=>(a,l)=>a.count?a.solo?!0:l===0:!0),n=H(()=>(a,l)=>a.count?a.solo?!0:l===a.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},rd=(e,t,n)=>{const a=F(0),l=qa({[ua.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[ua.calendar]:!1,[ua.header]:!1}),r=H(()=>e.monthPicker||e.timePicker),s=f=>{if(e.flow?.length){if(!f&&r.value)return m();l[f]=!0,Object.keys(l).filter(g=>!l[g]).length||m()}},p=()=>{e.flow?.length&&a.value!==-1&&(a.value+=1,t("flow-step",a.value),m()),e.flow?.length===a.value&&xt().then(()=>u())},u=()=>{a.value=-1},T=(f,g,...P)=>{e.flow[a.value]===f&&n.value&&n.value[g]?.(...P)},m=(f=0)=>{f&&(a.value+=f),T(ct.month,"toggleMonthPicker",!0),T(ct.year,"toggleYearPicker",!0),T(ct.calendar,"toggleTimePicker",!1,!0),T(ct.time,"toggleTimePicker",!0,!0);const g=e.flow[a.value];(g===ct.hours||g===ct.minutes||g===ct.seconds)&&T(g,"toggleTimePicker",!0,!0,g)};return{childMount:s,updateFlowStep:p,resetFlow:u,handleFlow:m,flowStep:a}},sd={key:1,class:"dp__input_wrap"},od=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],id={key:2,class:"dp--clear-btn"},ud=["aria-label"],dd=Xe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...cn},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const a=n,l=e,{defaultedTextInput:r,defaultedAriaLabels:s,defaultedInline:p,defaultedConfig:u,defaultedRange:T,defaultedMultiDates:m,defaultedUI:f,getDefaultPattern:g,getDefaultStartTime:P}=ze(l),{checkMinMaxRange:_}=na(l),O=F(),R=F(null),I=F(!1),E=F(!1),$=H(()=>({dp__pointer:!l.disabled&&!l.readonly&&!r.value.enabled,dp__disabled:l.disabled,dp__input_readonly:!r.value.enabled,dp__input:!0,dp__input_not_clearable:!l.clearable,dp__input_icon_pad:!l.hideInputIcon,dp__input_valid:typeof l.state=="boolean"?l.state:!1,dp__input_invalid:typeof l.state=="boolean"?!l.state:!1,dp__input_focus:I.value||l.isMenuOpen,dp__input_reg:!r.value.enabled,...f.value.input??{}})),U=()=>{a("set-input-date",null),l.clearable&&l.autoApply&&(a("set-empty-date"),O.value=null)},J=S=>{const de=P();return Ti(S,r.value.format??g(),de??yr({},l.enableSeconds),l.inputValue,E.value,l.formatLocale)},Y=S=>{const{rangeSeparator:de}=r.value,[y,q]=S.split(`${de}`);if(y){const C=J(y.trim()),ie=q?J(q.trim()):void 0;if(ca(C,ie))return;const h=C&&ie?[C,ie]:[C];_(ie,h,0)&&(O.value=C?h:null)}},z=()=>{E.value=!0},le=S=>{if(T.value.enabled)Y(S);else if(m.value.enabled){const de=S.split(";");O.value=de.map(y=>J(y.trim())).filter(y=>y)}else O.value=J(S)},X=S=>{const de=typeof S=="string"?S:S.target?.value;de!==""?(r.value.openMenu&&!l.isMenuOpen&&a("open"),le(de),a("set-input-date",O.value)):U(),E.value=!1,a("update:input-value",de),a("text-input",S,O.value)},L=S=>{r.value.enabled?(le(S.target.value),r.value.enterSubmit&&Hn(O.value)&&l.inputValue!==""?(a("set-input-date",O.value,!0),O.value=null):r.value.enterSubmit&&l.inputValue===""&&(O.value=null,a("clear"))):be(S)},re=(S,de)=>{r.value.enabled&&r.value.tabSubmit&&!de&&le(S.target.value),r.value.tabSubmit&&Hn(O.value)&&l.inputValue!==""?(a("set-input-date",O.value,!0,!0),O.value=null):r.value.tabSubmit&&l.inputValue===""&&(O.value=null,a("clear",!0))},me=()=>{I.value=!0,a("focus"),xt().then(()=>{r.value.enabled&&r.value.selectOnFocus&&R.value?.select()})},be=S=>{if(Jt(S,u.value,!0),r.value.enabled&&r.value.openMenu&&!p.value.input){if(r.value.openMenu==="open"&&!l.isMenuOpen)return a("open");if(r.value.openMenu==="toggle")return a("toggle")}else r.value.enabled||a("toggle")},k=()=>{a("real-blur"),I.value=!1,(!l.isMenuOpen||p.value.enabled&&p.value.input)&&a("blur"),l.autoApply&&r.value.enabled&&O.value&&!l.isMenuOpen&&(a("set-input-date",O.value),a("select-date"),O.value=null)},A=S=>{Jt(S,u.value,!0),a("clear")},x=()=>{a("close")},Q=S=>{if(S.key==="Tab"&&re(S),S.key==="Enter"&&L(S),S.key==="Escape"&&r.value.escClose&&x(),!r.value.enabled){if(S.code==="Tab")return;S.preventDefault()}},oe=()=>{R.value?.focus({preventScroll:!0})},W=S=>{O.value=S},te=S=>{S.key===He.tab&&re(S,!0)};return t({focusInput:oe,setParsedDate:W}),(S,de)=>(b(),M("div",{onClick:be},[S.$slots.trigger&&!S.$slots["dp-input"]&&!v(p).enabled?pe(S.$slots,"trigger",{key:0}):j("",!0),!S.$slots.trigger&&(!v(p).enabled||v(p).input)?(b(),M("div",sd,[S.$slots["dp-input"]&&!S.$slots.trigger&&(!v(p).enabled||v(p).enabled&&v(p).input)?pe(S.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:X,onEnter:L,onTab:re,onClear:A,onBlur:k,onKeypress:Q,onPaste:z,onFocus:me,openMenu:()=>S.$emit("open"),closeMenu:()=>S.$emit("close"),toggleMenu:()=>S.$emit("toggle")}):j("",!0),S.$slots["dp-input"]?j("",!0):(b(),M("input",{key:1,id:S.uid?`dp-input-${S.uid}`:void 0,ref_key:"inputRef",ref:R,"data-test-id":"dp-input",name:S.name,class:se($.value),inputmode:v(r).enabled?"text":"none",placeholder:S.placeholder,disabled:S.disabled,readonly:S.readonly,required:S.required,value:e.inputValue,autocomplete:S.autocomplete,"aria-label":v(s)?.input,"aria-disabled":S.disabled||void 0,"aria-invalid":S.state===!1?!0:void 0,onInput:X,onBlur:k,onFocus:me,onKeypress:Q,onKeydown:de[0]||(de[0]=y=>Q(y)),onPaste:z},null,42,od)),o("div",{onClick:de[3]||(de[3]=y=>a("toggle"))},[S.$slots["input-icon"]&&!S.hideInputIcon?(b(),M("span",{key:0,class:"dp__input_icon",onClick:de[1]||(de[1]=y=>a("toggle"))},[pe(S.$slots,"input-icon")])):j("",!0),!S.$slots["input-icon"]&&!S.hideInputIcon&&!S.$slots["dp-input"]?(b(),Re(v($a),{key:1,"aria-label":v(s)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:de[2]||(de[2]=y=>a("toggle"))},null,8,["aria-label"])):j("",!0)]),S.$slots["clear-icon"]&&(S.alwaysClearable||e.inputValue&&S.clearable&&!S.disabled&&!S.readonly)?(b(),M("span",id,[pe(S.$slots,"clear-icon",{clear:A})])):j("",!0),!S.$slots["clear-icon"]&&(S.alwaysClearable||S.clearable&&e.inputValue&&!S.disabled&&!S.readonly)?(b(),M("button",{key:3,"aria-label":v(s)?.clearInput,class:"dp--clear-btn",type:"button",onKeydown:de[4]||(de[4]=y=>v(ft)(y,()=>A(y),!0,te)),onClick:de[5]||(de[5]=At(y=>A(y),["prevent"]))},[Ee(v(ir),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,ud)):j("",!0)])):j("",!0)]))}}),cd=typeof window<"u"?window:void 0,Fn=()=>{},vd=e=>Jr()?(Zr(e),!0):!1,pd=(e,t,n,a)=>{if(!e)return Fn;let l=Fn;const r=Ze(()=>v(e),p=>{l(),p&&(p.removeEventListener(t,n),p.addEventListener(t,n,a),l=()=>{p.removeEventListener(t,n,a),l=Fn})},{immediate:!0,flush:"post"}),s=()=>{r(),l()};return vd(s),s},md=(e,t,n,a={})=>{const{window:l=cd,event:r="pointerdown"}=a;return l?pd(l,r,s=>{const p=et(e),u=et(t);!p||!u||p===s.target||s.composedPath().includes(p)||s.composedPath().includes(u)||n(s)},{passive:!0}):void 0},fd=["data-dp-mobile"],hd=Xe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...cn},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const a=n,l=e,r=va(),s=F(!1),p=La(l,"modelValue"),u=La(l,"timezone"),T=F(null),m=F(null),f=F(null),g=F(!1),P=F(null),_=F(!1),O=F(!1),R=F(!1),I=F(!1),{setMenuFocused:E,setShiftKey:$}=kr(),{clearArrowNav:U}=aa(),{validateDate:J,isValidTime:Y}=na(l),{defaultedTransitions:z,defaultedTextInput:le,defaultedInline:X,defaultedConfig:L,defaultedRange:re,defaultedMultiDates:me}=ze(l),{menuTransition:be,showTransition:k}=Ua(z),{isMobile:A}=Ar(L),x=Xr();it(()=>{h(l.modelValue),xt().then(()=>{X.value.enabled||(y(P.value)?.addEventListener("scroll",B),window?.addEventListener("resize",Ce))}),X.value.enabled&&(s.value=!0),window?.addEventListener("keyup",ye),window?.addEventListener("keydown",nt)}),Aa(()=>{X.value.enabled||(y(P.value)?.removeEventListener("scroll",B),window?.removeEventListener("resize",Ce)),window?.removeEventListener("keyup",ye),window?.removeEventListener("keydown",nt)});const Q=wt(r,"all",l.presetDates),oe=wt(r,"input");Ze([p,u],()=>{h(p.value)},{deep:!0});const{openOnTop:W,menuStyle:te,xCorrect:S,setMenuPosition:de,getScrollableParent:y,shadowRender:q}=td({menuRef:T,menuRefInner:m,inputRef:f,pickerWrapperRef:P,inline:X,emit:a,props:l,slots:r}),{inputValue:C,internalModelValue:ie,parseExternalModelValue:h,emitModelValue:c,formatInputValue:K,checkBeforeEmit:$e}=Ki(a,l,{isInputFocused:g,isTextInputDate:I}),Z=H(()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:X.value.enabled,"dp--flex-display-collapsed":R.value,dp__flex_display_with_input:X.value.input})),Pe=H(()=>l.dark?"dp__theme_dark":"dp__theme_light"),ae=H(()=>l.teleport?{to:typeof l.teleport=="boolean"?"body":l.teleport,disabled:!l.teleport||X.value.enabled}:{}),ue=H(()=>({class:"dp__outer_menu_wrap"})),i=H(()=>X.value.enabled&&(l.timePicker||l.monthPicker||l.yearPicker||l.quarterPicker)),ve=()=>f.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},B=()=>{s.value&&(L.value.closeOnScroll?ot():de())},Ce=()=>{s.value&&de();const ee=m.value?.$el.getBoundingClientRect().width??0;R.value=document.body.offsetWidth<=ee},ye=ee=>{ee.key==="Tab"&&!X.value.enabled&&!l.teleport&&L.value.tabOutClosesMenu&&(P.value.contains(document.activeElement)||ot()),O.value=ee.shiftKey},nt=ee=>{O.value=ee.shiftKey},qe=()=>{!l.disabled&&!l.readonly&&(q(x,Il,l),de(!1),s.value=!0,s.value&&a("open"),s.value||kt(),h(l.modelValue))},bt=()=>{C.value="",kt(),m.value?.onValueCleared(),f.value?.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),L.value.closeOnClearValue&&ot()},N=()=>{const ee=ie.value;return!ee||!Array.isArray(ee)&&J(ee)?!0:Array.isArray(ee)?me.value.enabled||ee.length===2&&J(ee[0])&&J(ee[1])?!0:re.value.partialRange&&!l.timePicker?J(ee[0]):!1:!1},ce=()=>{$e()&&N()?(c(),ot()):a("invalid-select",ie.value)},fe=ee=>{ht(),c(),L.value.closeOnAutoApply&&!ee&&ot()},ht=()=>{f.value&&le.value.enabled&&f.value.setParsedDate(ie.value)},tt=(ee=!1)=>{l.autoApply&&Y(ie.value)&&N()&&(re.value.enabled&&Array.isArray(ie.value)?(re.value.partialRange||ie.value.length===2)&&fe(ee):fe(ee))},kt=()=>{le.value.enabled||(ie.value=null)},ot=(ee=!1)=>{ee&&ie.value&&L.value.setDateOnMenuClose&&ce(),X.value.enabled||(s.value&&(s.value=!1,S.value=!1,E(!1),$(!1),U(),a("closed"),C.value&&h(p.value)),kt(),a("blur"),m.value?.$el?.remove())},Oa=(ee,he,ge=!1)=>{if(!ee){ie.value=null;return}const Tt=Array.isArray(ee)?!ee.some(Lt=>!J(Lt)):J(ee),_t=Y(ee);Tt&&_t?(I.value=!0,ie.value=ee,he?(_.value=ge,ce(),a("text-submit")):l.autoApply&&tt(!0),xt().then(()=>{I.value=!1})):a("invalid-date",ee)},la=()=>{l.autoApply&&Y(ie.value)&&c(),ht()},ra=()=>s.value?ot():qe(),Et=ee=>{ie.value=ee},ma=()=>{le.value.enabled&&(g.value=!0,K()),a("focus")},Sa=()=>{le.value.enabled&&(g.value=!1,h(l.modelValue),_.value&&ki(P.value,O.value)?.focus()),a("blur")},Ra=ee=>{m.value&&m.value.updateMonthYear(0,{month:Cl(ee.month),year:Cl(ee.year)})},Ut=ee=>{h(ee??l.modelValue)},D=(ee,he)=>{m.value?.switchView(ee,he)},ne=(ee,he)=>L.value.onClickOutside?L.value.onClickOutside(ee,he):ot(!0),we=(ee=0)=>{m.value?.handleFlow(ee)},Ae=()=>T;return md(T,f,ee=>ne(N,ee)),t({closeMenu:ot,selectDate:ce,clearValue:bt,openMenu:qe,onScroll:B,formatInputValue:K,updateInternalModelValue:Et,setMonthYear:Ra,parseModel:Ut,switchView:D,toggleMenu:ra,handleFlow:we,getDpWrapMenuRef:Ae}),(ee,he)=>(b(),M("div",{ref_key:"pickerWrapperRef",ref:P,class:se(Z.value),"data-datepicker-instance":"","data-dp-mobile":v(A)},[Ee(dd,st({ref_key:"inputRef",ref:f,"input-value":v(C),"onUpdate:inputValue":he[0]||(he[0]=ge=>fl(C)?C.value=ge:null),"is-menu-open":s.value},ee.$props,{onClear:bt,onOpen:qe,onSetInputDate:Oa,onSetEmptyDate:v(c),onSelectDate:ce,onToggle:ra,onClose:ot,onFocus:ma,onBlur:Sa,onRealBlur:he[1]||(he[1]=ge=>g.value=!1),onTextInput:he[2]||(he[2]=ge=>ee.$emit("text-input",ge))}),pt({_:2},[Be(v(oe),(ge,Tt)=>({name:ge,fn:De(_t=>[pe(ee.$slots,ge,rt(yt(_t)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(b(),Re(dn(ee.teleport?Bl:"div"),rt(yt(ae.value)),{default:De(()=>[Ee(ea,{name:v(be)(v(W)),css:v(k)&&!v(X).enabled},{default:De(()=>[s.value?(b(),M("div",st({key:0,ref_key:"dpWrapMenuRef",ref:T},ue.value,{class:{"dp--menu-wrapper":!v(X).enabled},style:v(X).enabled?void 0:v(te)}),[Ee(Il,st({ref_key:"dpMenuRef",ref:m},ee.$props,{"internal-model-value":v(ie),"onUpdate:internalModelValue":he[3]||(he[3]=ge=>fl(ie)?ie.value=ge:null),class:{[Pe.value]:!0,"dp--menu-wrapper":ee.teleport},"open-on-top":v(W),"no-overlay-focus":i.value,collapse:R.value,"get-input-rect":ve,"is-text-input-date":I.value,onClosePicker:ot,onSelectDate:ce,onAutoApply:tt,onTimeUpdate:la,onFlowStep:he[4]||(he[4]=ge=>ee.$emit("flow-step",ge)),onUpdateMonthYear:he[5]||(he[5]=ge=>ee.$emit("update-month-year",ge)),onInvalidSelect:he[6]||(he[6]=ge=>ee.$emit("invalid-select",v(ie))),onAutoApplyInvalid:he[7]||(he[7]=ge=>ee.$emit("invalid-select",ge)),onInvalidFixedRange:he[8]||(he[8]=ge=>ee.$emit("invalid-fixed-range",ge)),onRecalculatePosition:v(de),onTooltipOpen:he[9]||(he[9]=ge=>ee.$emit("tooltip-open",ge)),onTooltipClose:he[10]||(he[10]=ge=>ee.$emit("tooltip-close",ge)),onTimePickerOpen:he[11]||(he[11]=ge=>ee.$emit("time-picker-open",ge)),onTimePickerClose:he[12]||(he[12]=ge=>ee.$emit("time-picker-close",ge)),onAmPmChange:he[13]||(he[13]=ge=>ee.$emit("am-pm-change",ge)),onRangeStart:he[14]||(he[14]=ge=>ee.$emit("range-start",ge)),onRangeEnd:he[15]||(he[15]=ge=>ee.$emit("range-end",ge)),onDateUpdate:he[16]||(he[16]=ge=>ee.$emit("date-update",ge)),onInvalidDate:he[17]||(he[17]=ge=>ee.$emit("invalid-date",ge)),onOverlayToggle:he[18]||(he[18]=ge=>ee.$emit("overlay-toggle",ge)),onMenuBlur:he[19]||(he[19]=ge=>ee.$emit("blur"))}),pt({_:2},[Be(v(Q),(ge,Tt)=>({name:ge,fn:De(_t=>[pe(ee.$slots,ge,rt(yt({..._t})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):j("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,fd))}}),ul=(()=>{const e=hd;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),yd=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"}));Object.entries(yd).forEach(([e,t])=>{e!=="default"&&(ul[e]=t)});const gd={key:0,class:"fixed inset-0 z-[80]"},bd={key:0,class:"absolute inset-x-0 bottom-0 mx-auto w-full max-w-md rounded-t-[28px] bg-white px-5 pb-[calc(18px+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_60px_-40px_rgba(15,23,42,0.55)] md:max-w-xl",role:"dialog","aria-modal":"true"},wd={class:"relative mt-4 flex items-center justify-center"},xd={class:"mt-5 grid grid-cols-2 gap-3"},kd={class:"mt-6 rounded-2xl bg-white ring-1 ring-slate-200/60"},_d={class:"flex items-center justify-between px-4 py-3 text-sm font-semibold text-slate-700"},Md={class:"capitalize"},Td=Xe({__name:"DatePickerSheet",props:{open:{type:Boolean},modelValue:{}},emits:["close","update:modelValue","select-today"],setup(e,{emit:t}){const n=e,a=t,l=F(null),r=m=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(m),s=m=>{const f=String(m??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!f)return null;const[,g,P,_]=f,O=new Date(Number(_),Number(P)-1,Number(g));return Number.isFinite(O.getTime())?O:null},p=H(()=>l.value?new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}).format(l.value):"");Ze(()=>n.open,m=>{m&&(l.value=s(n.modelValue)??new Date)});const u=m=>{m&&(l.value=m,a("update:modelValue",r(m)))},T=()=>{const m=new Date;m.setDate(m.getDate()-1),l.value=m,a("update:modelValue",r(m))};return(m,f)=>(b(),Re(Bl,{to:"body"},[Ee(ea,{"enter-active-class":"transition duration-200","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:De(()=>[e.open?(b(),M("div",gd,[o("button",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm",type:"button",onClick:f[0]||(f[0]=g=>a("close")),"aria-label":"Fechar"}),Ee(ea,{"enter-active-class":"transition duration-250 ease-out","enter-from-class":"translate-y-8 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-8 opacity-0"},{default:De(()=>[e.open?(b(),M("div",bd,[f[5]||(f[5]=o("div",{class:"mx-auto h-1.5 w-12 rounded-full bg-slate-200"},null,-1)),o("div",wd,[f[4]||(f[4]=o("div",{class:"text-lg font-semibold text-slate-900"},"Quando foi?",-1)),o("button",{type:"button",class:"absolute right-0 flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-500","aria-label":"Fechar",onClick:f[1]||(f[1]=g=>a("close"))},[...f[3]||(f[3]=[o("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M18 6L6 18"}),o("path",{d:"M6 6l12 12"})],-1)])])]),o("div",xd,[o("button",{type:"button",class:se(["h-12 rounded-2xl text-sm font-semibold shadow-sm ring-1 ring-slate-200/60",n.modelValue?"bg-slate-50 text-slate-700":"bg-[#14B8A6] text-white ring-transparent"]),onClick:f[2]||(f[2]=g=>a("select-today"))}," Hoje ",2),o("button",{type:"button",class:"h-12 rounded-2xl bg-slate-50 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-slate-200/60",onClick:T}," Ontem ")]),o("div",kd,[o("div",_d,[o("div",Md,Te(p.value),1)]),Ee(v(ul),{"model-value":l.value,"onUpdate:modelValue":u,inline:!0,"enable-time-picker":!1,"auto-apply":!0,"week-start":0,locale:"pt-BR"},null,8,["model-value"])])])):j("",!0)]),_:1})])):j("",!0)]),_:1})]))}}),Dd=Nl(Td,[["__scopeId","data-v-bf4d257b"]]),un=Xe({__name:"CategoryIcon",props:{icon:{},class:{}},setup(e){const t=e,n=H(()=>(t.icon??"").toString().toLowerCase().trim());return(a,l)=>n.value==="food"?(b(),M("svg",{key:0,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[0]||(l[0]=[Ct('<path d="M4 3v7"></path><path d="M8 3v7"></path><path d="M6 3v7"></path><path d="M14 3v7c0 2 1 3 3 3v8"></path><path d="M20 3v7"></path>',5)])],2)):n.value==="home"?(b(),M("svg",{key:1,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[1]||(l[1]=[o("path",{d:"M3 10.5L12 3l9 7.5"},null,-1),o("path",{d:"M5 10v10h14V10"},null,-1)])],2)):n.value==="car"?(b(),M("svg",{key:2,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[2]||(l[2]=[o("path",{d:"M5 16l1-5 1-3h10l1 3 1 5"},null,-1),o("path",{d:"M7 16h10"},null,-1),o("circle",{cx:"8",cy:"17",r:"1.5"},null,-1),o("circle",{cx:"16",cy:"17",r:"1.5"},null,-1)])],2)):n.value==="cart"?(b(),M("svg",{key:3,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[3]||(l[3]=[o("path",{d:"M6 6h15l-2 7H7L6 6Z"},null,-1),o("path",{d:"M6 6l-2-2H2"},null,-1),o("circle",{cx:"9",cy:"18",r:"1.5"},null,-1),o("circle",{cx:"17",cy:"18",r:"1.5"},null,-1)])],2)):n.value==="gym"?(b(),M("svg",{key:4,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[4]||(l[4]=[Ct('<path d="M6 8v8"></path><path d="M18 8v8"></path><path d="M8 10h8"></path><path d="M8 14h8"></path><path d="M4 10v4"></path><path d="M20 10v4"></path>',6)])],2)):n.value==="game"?(b(),M("svg",{key:5,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[5]||(l[5]=[o("path",{d:"M6 7h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2Z"},null,-1),o("path",{d:"M8 13h2"},null,-1),o("path",{d:"M9 12v2"},null,-1),o("path",{d:"M15 13h2"},null,-1)])],2)):n.value==="pill"?(b(),M("svg",{key:6,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[6]||(l[6]=[o("path",{d:"M10 14 8 16a4 4 0 0 1-6-6l2-2a4 4 0 0 1 6 6Z"},null,-1),o("path",{d:"M14 10l2-2a4 4 0 0 1 6 6l-2 2a4 4 0 0 1-6-6Z"},null,-1),o("path",{d:"M8 16l8-8"},null,-1)])],2)):n.value==="briefcase"?(b(),M("svg",{key:7,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[7]||(l[7]=[o("rect",{x:"3",y:"7",width:"18",height:"13",rx:"3"},null,-1),o("path",{d:"M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"},null,-1),o("path",{d:"M3 12h18"},null,-1)])],2)):n.value==="heart"?(b(),M("svg",{key:8,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[8]||(l[8]=[o("path",{d:"M20 8c0 5-8 10-8 10S4 13 4 8a4 4 0 0 1 8 0 4 4 0 0 1 8 0Z"},null,-1)])],2)):n.value==="shirt"?(b(),M("svg",{key:9,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[9]||(l[9]=[o("path",{d:"M15 3H9l-2 4h10l-2-4Z"},null,-1),o("path",{d:"M7 7v14"},null,-1),o("path",{d:"M17 7v14"},null,-1)])],2)):n.value==="bolt"?(b(),M("svg",{key:10,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[10]||(l[10]=[o("path",{d:"M13 2 3 14h8l-1 8 10-12h-8l1-8Z"},null,-1)])],2)):n.value==="money"?(b(),M("svg",{key:11,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[11]||(l[11]=[o("rect",{x:"3",y:"6",width:"18",height:"12",rx:"2"},null,-1),o("path",{d:"M7 10h0"},null,-1),o("path",{d:"M17 14h0"},null,-1),o("path",{d:"M12 10a2 2 0 1 0 0 4a2 2 0 1 0 0-4"},null,-1)])],2)):n.value==="trend"?(b(),M("svg",{key:12,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[12]||(l[12]=[o("path",{d:"M3 17l6-6 4 4 8-8"},null,-1),o("path",{d:"M17 7h4v4"},null,-1)])],2)):n.value==="sparkles"?(b(),M("svg",{key:13,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[13]||(l[13]=[o("path",{d:"M12 2l1.6 5.2L19 9l-5.4 1.8L12 16l-1.6-5.2L5 9l5.4-1.8L12 2Z"},null,-1)])],2)):(b(),M("svg",{key:14,class:se(t.class||"h-6 w-6"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...l[14]||(l[14]=[o("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4"},null,-1),o("path",{d:"M8 12h8"},null,-1)])],2))}}),Pd={key:0,class:"pb-4 pt-2 text-center"},Cd={key:1,class:"grid grid-cols-3 gap-4 pb-2"},Ad=["onClick"],$d={class:"text-xs font-semibold text-slate-700"},Od=Xe({__name:"CategoryPickerSheet",props:{open:{type:Boolean},options:{},kind:{}},emits:["close","select","create"],setup(e,{emit:t}){const n=e,a=t,l=s=>s==="amber"?"bg-amber-100 text-amber-600":s==="blue"?"bg-blue-100 text-blue-600":s==="purple"?"bg-purple-100 text-purple-600":s==="red"?"bg-red-100 text-red-600":s==="green"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",r=H(()=>n.kind?(n.options??[]).filter(s=>!s.kind||s.kind===n.kind):n.options??[]);return(s,p)=>(b(),Re(rs,{open:e.open,title:"Selecione a Categoria",onClose:p[1]||(p[1]=u=>a("close"))},{default:De(()=>[r.value.length===0?(b(),M("div",Pd,[p[2]||(p[2]=o("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-100 text-slate-400"},[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M4 7h16v12H4z"}),o("path",{d:"M4 7V5h12v2"}),o("path",{d:"M8 12h8"})])],-1)),p[3]||(p[3]=o("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Nenhuma categoria encontrada",-1)),p[4]||(p[4]=o("div",{class:"mt-1 text-xs font-semibold text-slate-500"},"Crie uma categoria para continuar.",-1)),o("button",{type:"button",class:"mt-4 inline-flex items-center justify-center rounded-2xl bg-teal-500 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-teal-500/20",onClick:p[0]||(p[0]=u=>a("create"))}," Criar categoria ")])):(b(),M("div",Cd,[(b(!0),M(Me,null,Be(r.value,u=>(b(),M("button",{key:u.key,type:"button",class:"flex flex-col items-center gap-2 rounded-2xl px-2 py-2",onClick:T=>a("select",u.key)},[o("span",{class:se(["flex h-14 w-14 items-center justify-center rounded-full text-lg font-semibold",u.customColor?"":l(u.tone)]),style:vt(u.customColor?{backgroundColor:u.customColor,color:"white"}:{})},[Ee(un,{icon:u.icon,class:"h-7 w-7"},null,8,["icon"])],6),o("span",$d,Te(u.label),1)],8,Ad))),128))]))]),_:1},8,["open"]))}}),Sd={key:0,class:"fixed inset-0 z-[90] bg-white"},Rd={class:"mx-auto w-full max-w-md px-5 pb-[calc(6rem+env(safe-area-inset-bottom))]"},Yd={class:"flex justify-center pt-2"},Fd={class:"mt-6 space-y-5"},Id={class:"grid grid-cols-2 gap-3"},Bd={class:"-mx-1 flex gap-4 overflow-x-auto pb-2 px-1"},Nd=["onClick","aria-label"],Vd={class:"fixed inset-x-0 bottom-0 bg-white px-5 pb-[calc(1rem+env(safe-area-inset-bottom))] pt-3 shadow-[0_-18px_40px_-32px_rgba(15,23,42,0.45)]"},Ed={class:"mx-auto w-full max-w-md"},Ld=["disabled"],Hd=Xe({__name:"NewCategoryModal",props:{open:{type:Boolean},initialType:{}},emits:["close","save"],setup(e,{emit:t}){const n=e,a=t,l=F(""),r=F("expense"),s=F("cart"),p=H(()=>s.value),u=H(()=>r.value==="expense"?"#EF4444":"#10B981"),T=H(()=>l.value.trim().length>0),m=[{key:"cart",label:"Compras"},{key:"food",label:"Alimentação"},{key:"home",label:"Moradia"},{key:"car",label:"Transporte"},{key:"sparkles",label:"Lazer"},{key:"game",label:"Games"},{key:"pill",label:"Saúde"},{key:"briefcase",label:"Trabalho"},{key:"heart",label:"Bem-estar"},{key:"shirt",label:"Roupas"},{key:"bolt",label:"Energia"},{key:"money",label:"Dinheiro"},{key:"trend",label:"Investimentos"},{key:"gym",label:"Academia"}],f=()=>a("close"),g=()=>a("save",{name:l.value,type:r.value,icon:s.value});return Ze(()=>n.open,P=>{P&&(l.value="",r.value=n.initialType??"expense",s.value="cart")}),(P,_)=>e.open?(b(),M("div",Sd,[o("header",{class:"flex items-center gap-3 px-5 pb-4 pt-[calc(1rem+env(safe-area-inset-top))]"},[o("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600","aria-label":"Voltar",onClick:f},[..._[3]||(_[3]=[o("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M15 18l-6-6 6-6"})],-1)])]),_[4]||(_[4]=o("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Nova categoria",-1))]),o("main",Rd,[o("div",Yd,[o("div",{class:"flex h-16 w-16 items-center justify-center rounded-full text-white shadow-lg shadow-black/10",style:vt({backgroundColor:u.value})},[Ee(un,{icon:p.value,class:"h-7 w-7 text-white"},null,8,["icon"])],4)]),o("div",Fd,[o("div",null,[_[5]||(_[5]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Nome da categoria",-1)),zt(o("input",{"onUpdate:modelValue":_[0]||(_[0]=O=>l.value=O),type:"text",placeholder:"Ex: Alimentação...",class:"w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700 placeholder:text-slate-400 focus:border-teal-400 focus:outline-none"},null,512),[[ln,l.value]])]),o("div",null,[_[6]||(_[6]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Tipo",-1)),o("div",Id,[o("button",{type:"button",class:se(["rounded-2xl px-4 py-3 text-sm font-semibold",r.value==="expense"?"bg-red-50 text-red-500 ring-1 ring-red-100":"bg-white text-slate-500 ring-1 ring-slate-200"]),onClick:_[1]||(_[1]=O=>r.value="expense")}," Despesa ",2),o("button",{type:"button",class:se(["rounded-2xl px-4 py-3 text-sm font-semibold",r.value==="income"?"bg-emerald-50 text-emerald-600 ring-1 ring-emerald-100":"bg-white text-slate-500 ring-1 ring-slate-200"]),onClick:_[2]||(_[2]=O=>r.value="income")}," Receita ",2)])]),o("div",null,[_[7]||(_[7]=o("div",{class:"mb-2 text-sm font-semibold text-slate-700"},"Ícone",-1)),o("div",Bd,[(b(),M(Me,null,Be(m,O=>o("button",{key:O.key,type:"button",class:se(["flex h-12 w-[38px] shrink-0 items-center justify-center rounded-2xl bg-slate-50 ring-1 ring-slate-200",s.value===O.key?"ring-2 ring-teal-400":""]),onClick:R=>s.value=O.key,"aria-label":O.label},[Ee(un,{icon:O.key,class:"h-6 w-6 text-slate-600"},null,8,["icon"])],10,Nd)),64))]),_[8]||(_[8]=o("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Arraste para o lado para ver mais ícones.",-1))])])]),o("footer",Vd,[o("div",Ed,[o("button",{type:"button",class:se(["w-full rounded-2xl py-4 text-base font-semibold text-white transition-all",T.value?"bg-teal-500 shadow-lg shadow-teal-500/25":"bg-slate-300 shadow-none cursor-not-allowed opacity-60"]),disabled:!T.value,onClick:g}," Salvar categoria ",10,Ld)])])])):j("",!0)}}),zd={key:0,class:"transaction-modal fixed inset-0 z-[60] bg-white md:flex md:items-center md:justify-center md:bg-black/40 md:backdrop-blur-sm",role:"dialog","aria-modal":"true"},qd={class:"flex h-full flex-col md:h-auto md:max-h-[92vh] md:w-full md:max-w-[680px] md:overflow-hidden md:rounded-[28px] md:bg-white md:shadow-2xl md:ring-1 md:ring-slate-200/60"},Wd={class:"flex-1 overflow-y-auto"},jd={class:"px-5 pt-4 md:px-8"},Ud={class:"rounded-2xl bg-slate-50 p-2 ring-1 ring-slate-200/70"},Xd={class:"grid grid-cols-3 gap-2"},Qd=["disabled"],Kd=["disabled"],Gd={class:"mt-6 px-5 md:px-8"},Jd={class:"mt-2 flex items-center justify-center gap-3"},Zd=["value"],ec={class:"mt-6 space-y-4 px-5 md:px-8"},tc={key:0,class:"rounded-2xl bg-slate-50 px-4 py-4 ring-1 ring-slate-200/70"},ac={class:"flex items-center gap-3"},nc={key:1,class:"grid grid-cols-2 gap-3"},lc={class:"flex items-center gap-3"},rc={class:"min-w-0 flex-1"},sc={class:"truncate text-sm font-semibold text-slate-900"},oc={class:"flex items-center gap-3"},ic={class:"min-w-0 flex-1"},uc={class:"truncate text-sm font-semibold text-slate-900"},dc={key:2,class:"grid grid-cols-2 gap-3"},cc={class:"flex items-center gap-3"},vc={class:"min-w-0 flex-1"},pc={class:"truncate text-sm font-semibold text-slate-900"},mc={class:"rounded-2xl bg-slate-50 px-4 py-4 ring-1 ring-slate-200/70"},fc={class:"flex items-center justify-between gap-3"},hc={class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},yc={class:"text-sm font-semibold text-slate-900"},gc=["aria-label"],bc={key:3,class:"space-y-4 pb-4"},wc={key:0,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},xc={class:"flex items-center justify-between"},kc=["disabled"],_c={key:0,class:"mt-3 text-xs font-semibold text-slate-500"},Mc={key:1,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Tc={class:"flex items-center justify-between"},Dc=["disabled"],Pc={key:0,class:"mt-4 grid grid-cols-2 gap-3"},Cc={class:"mt-2 flex h-11 overflow-hidden rounded-xl bg-slate-50 ring-1 ring-slate-200/60"},Ac=["value"],$c={class:"mt-2 flex h-11 items-center justify-center rounded-xl bg-slate-50 text-sm font-bold text-slate-400 ring-1 ring-slate-200/60"},Oc={key:1,class:"mt-4 rounded-xl bg-slate-50 p-3 text-slate-600 ring-1 ring-slate-200/60"},Sc={class:"flex items-center gap-2 text-xs font-semibold"},Rc={class:"mt-3 space-y-2 text-sm"},Yc={class:"tabular-nums"},Fc={class:"tabular-nums"},Ic={key:0,class:"text-xs font-semibold text-slate-400"},Bc={class:"mt-2 border-t border-slate-200/70 pt-2"},Nc={class:"flex items-center justify-between gap-3 font-bold text-slate-700"},Vc={class:"tabular-nums"},Ec={class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Lc={class:"flex items-center justify-between"},Hc=["disabled"],zc={key:0,class:"mt-4"},qc={class:"grid grid-cols-2 items-end gap-4"},Wc=["value"],jc=["value"],Uc={class:"mt-3 text-xs font-semibold text-slate-500"},Xc={key:2,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},Qc={class:"flex items-center justify-between"},Kc=["disabled"],Gc={class:"mt-4 flex flex-wrap gap-2"},Jc=["onClick"],Zc={key:0,class:"text-xs font-semibold text-slate-400"},ev={key:0,class:"mt-4 rounded-xl bg-slate-50 p-3 ring-1 ring-slate-200/60"},tv={class:"mt-2 flex items-center gap-2"},av=["disabled","onKeydown"],nv=["disabled"],lv={key:3,class:"rounded-2xl bg-white p-4 ring-1 ring-slate-200/60"},rv={class:"flex items-center justify-between"},sv=["onKeydown"],ov={key:1,class:"mt-4 overflow-hidden rounded-xl bg-slate-50 p-3 ring-1 ring-slate-200/60"},iv={class:"flex items-center justify-between gap-3"},uv={class:"flex min-w-0 items-center gap-3"},dv={key:0,class:"h-12 w-12 overflow-hidden rounded-xl bg-white ring-1 ring-slate-200/60"},cv=["src"],vv={key:1,class:"flex h-12 w-12 items-center justify-center rounded-xl bg-white text-slate-400 ring-1 ring-slate-200/60"},pv={class:"min-w-0"},mv={class:"truncate text-sm font-semibold text-slate-700"},fv={class:"mt-0.5 text-xs font-semibold text-slate-400"},hv={class:"flex items-center gap-2"},yv=["href"],gv={key:0,class:"mt-6 space-y-4 px-5 pb-6 md:px-8"},bv={class:"space-y-3"},wv={class:"flex items-start gap-3"},xv={class:"min-w-0"},kv={class:"truncate text-sm font-semibold text-slate-900"},_v={class:"mt-1 text-xs font-semibold text-slate-400"},Mv={class:"flex items-start gap-3"},Tv={class:"min-w-0"},Dv={class:"truncate text-sm font-semibold text-slate-900"},Pv={class:"mt-1 text-xs font-semibold text-slate-400"},Cv={class:"px-6 pt-4 pb-[calc(24px+env(safe-area-inset-bottom))] md:px-8 md:pb-8"},Av=["disabled"],$v={key:0,class:"fixed inset-0 z-[90]"},Ov={class:"absolute left-1/2 top-1/2 w-full max-w-sm -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white p-6 shadow-xl",role:"dialog","aria-modal":"true"},Sv={class:"text-center"},Rv={class:"mt-2 text-sm text-slate-600"},Yv={class:"mt-6 space-y-3"},Fv=Xe({__name:"TransactionModal",props:{open:{type:Boolean},kind:{},initial:{},categories:{},accounts:{},tags:{},lockKind:{type:Boolean}},emits:["close","save"],setup(e,{emit:t}){const n=e,a=t,l=()=>{Et(null),a("close")},r=F(n.kind),s=F(void 0),p=F(""),u=F(""),T=F("Alimentação"),m=F("Carteira"),f=F("Banco Inter"),g=F("Carteira"),P=F(""),_=F("today"),O=F(""),R=F(!1),I=F(!1),E=F(!1),$=F(!1),U=F(!1),J=F(!1),Y=F(!1),z=F(1),le=F(!1),X=F(!1),L=F(!1),re=F(2),me=F(1),be=F(!1);F(null);const k=F(""),A=F(null);Ze(Y,w=>{w&&(X.value=!1,L.value=!1)}),Ze(X,w=>{w&&(Y.value=!1,L.value=!1)}),Ze(L,w=>{w&&(Y.value=!1,X.value=!1)}),H(()=>r.value==="expense");const x=H(()=>r.value==="transfer"),Q=H(()=>r.value==="income"?"Recebido?":"Pago?"),oe=H(()=>r.value==="income"?"Recebido":"Pago"),W=F(!1),te=F([]),S=F(!1),de=F(""),y=F(!1),q=F([]),C=F(null),ie=F(null),h=F(null),c=F(null),K=F(!1),$e=F(null),Z=F(!1),Pe=H(()=>r.value==="expense"?"text-[#EF4444]":r.value==="transfer"?"text-[#3B82F6]":"text-[#14B8A6]"),ae=H(()=>p.value?"text-slate-900":"text-slate-200"),ue=H(()=>{const w=String(p.value??"").length;return w<=6?"text-[56px]":w<=9?"text-[44px]":w<=12?"text-[36px]":"text-[30px]"}),i=w=>r.value!==w?"bg-transparent text-[#9CA3AF] border border-[#E5E7EB]":w==="expense"?"bg-[#FEE2E2] text-[#EF4444] border border-transparent":w==="transfer"?"bg-[#DBEAFE] text-[#2563EB] border border-transparent":"bg-[#E6FFFB] text-[#14B8A6] border border-transparent",ve=w=>{const d=w.target;p.value=ns(d.value)},B=H(()=>as(p.value)),Ce=H(()=>!(B.value<=0||!u.value.trim()||!T.value||!m.value||r.value==="transfer"&&(!f.value||!g.value||f.value===g.value))),ye=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(w),nt=w=>{const d=String(w.getDate()).padStart(2,"0"),V=String(w.getMonth()+1).padStart(2,"0"),xe=String(w.getFullYear());return`${d}/${V}/${xe}`},qe=w=>{const d=String(w??"").trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!d)return null;const[,V,xe,Fe]=d,ut=new Date(Number(Fe),Number(xe)-1,Number(V));return Number.isNaN(ut.getTime())?null:ut},bt=(w,d)=>new Date(w,d+1,0).getDate(),N=(w,d)=>{const V=w.getDate(),xe=w.getMonth(),Fe=w.getFullYear(),ut=xe+d,Za=Fe+Math.floor(ut/12),fa=(ut%12+12)%12,Fa=bt(Za,fa);return new Date(Za,fa,Math.min(V,Fa))},ce=H(()=>{const w=Math.max(1,Math.floor(z.value||1));return B.value/w}),fe=H(()=>{if(_.value==="other"){const d=qe(O.value);if(d)return d}const w=new Date;return new Date(w.getFullYear(),w.getMonth(),w.getDate())}),ht=H(()=>{const w=Math.max(1,Math.floor(z.value||1)),d=5,V=Math.min(w,d),xe=Array.from({length:V},(Fe,ut)=>({date:nt(N(fe.value,ut)),amount:ye(ce.value)}));return{count:w,total:ye(B.value),rows:xe,hasMore:w>d,remainingCount:Math.max(0,w-d)}}),tt=w=>String(w??"").trim().replace(/^#\s*/g,"").slice(0,50),kt=w=>{const d=new Map;for(const V of w){const xe=tt(V);if(!xe)continue;const Fe=xe.toLowerCase();d.has(Fe)||d.set(Fe,xe)}te.value=Array.from(d.values())},ot=H(()=>new Set(te.value.map(w=>tt(w).toLowerCase()).filter(Boolean))),Oa=w=>{const d=tt(w);if(!d)return;const V=d.toLowerCase();if(ot.value.has(V)){kt(te.value.filter(xe=>tt(xe).toLowerCase()!==V));return}kt([...te.value,d])},la=H(()=>{const w=new Map,d=V=>{const xe=tt(V?.nome);if(!xe)return;const Fe=xe.toLowerCase();w.has(Fe)||w.set(Fe,{id:V.id,nome:xe,cor:V.cor||"#64748B"})};for(const V of n.tags??[])d(V);for(const V of q.value)d(V);for(const V of te.value){const xe=tt(V);if(!xe)continue;const Fe=xe.toLowerCase();w.has(Fe)||d({id:`custom:${Fe}`,nome:xe,cor:"#64748B"})}return Array.from(w.values()).sort((V,xe)=>V.nome.localeCompare(xe.nome,"pt-BR"))}),ra=()=>{ie.value&&(URL.revokeObjectURL(ie.value),ie.value=null)},Et=w=>{ra(),C.value=w,w&&w.type.startsWith("image/")&&(ie.value=URL.createObjectURL(w)),w&&(K.value=!1)},ma=H(()=>!!C.value||!!h.value&&!K.value),Sa=H(()=>C.value?.name||c.value||"Comprovante"),Ra=H(()=>!!C.value?.type?.startsWith("image/")),Ut=()=>$e.value?.click(),D=w=>{const d=w.target,V=d.files?.[0]??null;if(V&&V.size>10*1024*1024){window.alert("Arquivo muito grande. Máximo 10MB."),d.value="";return}if(V&&!(V.type==="application/pdf"||V.type.startsWith("image/"))){window.alert("Formato inválido. Envie PDF ou imagem."),d.value="";return}Et(V),d.value=""},ne=w=>{w.preventDefault(),Z.value=!1;const d=w.dataTransfer?.files?.[0]??null;if(d){if(d.size>10*1024*1024){window.alert("Arquivo muito grande. Máximo 10MB.");return}if(!(d.type==="application/pdf"||d.type.startsWith("image/"))){window.alert("Formato inválido. Envie PDF ou imagem.");return}Et(d)}},we=()=>{if(C.value){Et(null);return}h.value&&(h.value=null,c.value=null,K.value=!0)},Ae=async()=>{const w=tt(de.value);if(!w)return;const d=la.value.find(V=>V.nome.toLowerCase()===w.toLowerCase());if(d){kt([...te.value,d.nome]),S.value=!1,de.value="";return}y.value=!0;try{const V=await In("/api/tags",{method:"POST",body:JSON.stringify({nome:w,cor:"#64748B"})}),xe={id:V.id,nome:V.nome,cor:V.cor};q.value=[...q.value,xe],kt([...te.value,xe.nome]),S.value=!1,de.value=""}catch{window.alert("Não foi possível criar a tag. Tente novamente.")}finally{y.value=!1}},ee=w=>{const d=w.trim().match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!d)return"";const[,V,xe,Fe]=d;return`${Fe}-${xe}-${V}`},he=w=>{const d=w.trim().match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!d)return w;const[,V,xe,Fe]=d;return`${Fe}/${xe}/${V}`},ge=w=>{const d=String(w??"").trim().match(/^(\d{4})-(\d{2})-(\d{2})$/);if(!d)return null;const[,V,xe,Fe]=d,ut=new Date(Number(V),Number(xe)-1,Number(Fe));return Number.isFinite(ut.getTime())?ut:null},Tt=()=>{const w=n.initial??null,d=w?.isInstallment??!1;let V=!!(w?.despesaFixa??w?.isFixed??!1),xe=!!(w?.repetir??(!V&&!!w?.recurrenceEndsAt));d&&(V||xe)&&(V=!1,xe=!1),s.value=w?.id,r.value=w?.kind??n.kind,p.value=w?ls(w.amount):"",u.value=w?.description??"",T.value=w?.category??"Alimentação";{const Xt=Ja.value[0]?.key??"",ml=(w?.account??Xt).trim();m.value=Ja.value.some(Ur=>Ur.key===ml)?ml:Xt}_.value=w?.dateKind??"today",O.value=w?.dateOther?he(w.dateOther):"",Y.value=d,z.value=w?.installmentCount??1,le.value=w?.isPaid??!1,kt(w?.tags??[]),Et(null),h.value=w?.receiptUrl??null,c.value=w?.receiptName??null,K.value=!1,W.value=!!(w?.isInstallment||V||xe||(w?.tags?.length??0)||w?.receiptUrl);const Fe=sa.value.map(Xt=>Xt.key),ut=Fe[0]??"Carteira",Za=Fe.find(Xt=>Xt!==ut)??ut;f.value=w?.transferFrom??ut,g.value=w?.transferTo??Za,g.value===f.value&&(g.value=Fe.find(Xt=>Xt!==f.value)??g.value),P.value=w?.transferDescription??"",X.value=!x.value&&V;const fa=Number(w?.repetirMeses??w?.recurrenceEveryMonths??1);me.value=Number.isFinite(fa)&&fa>0?Math.floor(fa):1;const Fa=w?.dateOther??null,vl=Fa&&Fa!==""?Fa:null,wn=vl?ge(vl):w?.transactionDate?ge(w.transactionDate):null,xn=w?.recurrenceEndsAt?ge(w.recurrenceEndsAt):null,pl=wn&&xn?(xn.getFullYear()-wn.getFullYear())*12+(xn.getMonth()-wn.getMonth()):null,jr=pl!=null?Math.max(2,Math.floor(pl/Math.max(1,me.value))+1):2,kn=Number(w?.repetirVezes??jr);re.value=Number.isFinite(kn)&&kn>=2?Math.floor(kn):2,L.value=!x.value&&!X.value&&xe,R.value=!1,I.value=!1,$.value=!1,U.value=!1,J.value=!1,E.value=!1,S.value=!1,de.value="",y.value=!1,ra()},_t=()=>{R.value=!0},Lt=()=>{_.value="today",O.value=""},Ft=w=>{_.value="other",O.value=w},It=(w,d,V)=>{const xe=String(w??"").replace(/[^\d]/g,"");if(!xe)return d;const Fe=Number(xe);return Number.isFinite(Fe)?Math.min(V,Math.max(d,Fe)):d},fn=w=>{const d=w.target;re.value=It(d.value,2,120)},$r=()=>{z.value=Math.max(1,Math.floor(z.value||1)-1)},Or=()=>{z.value=Math.min(999,Math.floor(z.value||1)+1)},hn=w=>{if(w==="expense"||w==="income")return w},dl=w=>{const d=new Map;for(const V of w){const xe=d.get(V.key);if(!xe){d.set(V.key,{...V,kind:hn(V.kind)});continue}const Fe=hn(V.kind),ut=xe.kind&&Fe&&xe.kind!==Fe?void 0:xe.kind??Fe;d.set(V.key,{...xe,...V,customColor:xe.customColor??V.customColor,tone:xe.tone??V.tone,icon:(xe.icon&&xe.icon!=="other"?xe.icon:V.icon)??xe.icon,kind:ut})}return Array.from(d.values())},yn=F([]),Qa=H(()=>{const w=[{key:"Alimentação",label:"Alimentação",icon:"cart",tone:"amber",kind:"expense"},{key:"Moradia",label:"Moradia",icon:"home",tone:"blue",kind:"expense"},{key:"Transporte",label:"Transporte",icon:"car",tone:"slate",kind:"expense"},{key:"Lazer",label:"Lazer",icon:"sparkles",tone:"purple",kind:"expense"},{key:"Saúde",label:"Saúde",icon:"heart",tone:"red",kind:"expense"},{key:"Estudos",label:"Estudos",icon:"trend",tone:"green",kind:"expense"},{key:"Salário",label:"Salário",icon:"money",tone:"green",kind:"income"},{key:"Freelance",label:"Freelance",icon:"briefcase",tone:"blue",kind:"income"},{key:"Investimentos",label:"Investimentos",icon:"trend",tone:"purple",kind:"income"},{key:"Outros",label:"Outros",icon:"other",tone:"slate"}],d=n.categories?.length?n.categories:w;return dl([...d,...yn.value])}),gn=w=>String(w??"").trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),Ya=H(()=>{const w=gn(T.value);return Qa.value.find(d=>gn(d.key)===w)??Qa.value.find(d=>gn(d.label)===w)??null}),Sr=w=>w==="amber"?"bg-amber-100 text-amber-600":w==="blue"?"bg-blue-100 text-blue-600":w==="purple"?"bg-purple-100 text-purple-600":w==="red"?"bg-red-100 text-red-600":w==="green"?"bg-emerald-100 text-emerald-600":"bg-slate-200 text-slate-600",Ka=H(()=>{if(r.value==="expense")return"expense";if(r.value==="income")return"income"}),Ga=H(()=>Ka.value?Qa.value.filter(w=>!w.kind||w.kind===Ka.value):[]),Ja=H(()=>{const w=[{key:"Nubank",label:"Nubank",subtitle:"Conta Corrente",tone:"purple"},{key:"Inter",label:"Inter",subtitle:"Conta Digital",tone:"amber"},{key:"Dinheiro",label:"Dinheiro",subtitle:"Carteira Física",tone:"emerald"}];return n.accounts?.length?n.accounts:w}),sa=H(()=>Ja.value.filter(w=>w.type!=="credit_card")),cl=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(w),Rr=H(()=>{const w=sa.value.find(d=>d.key===f.value)??null;return!w||w.balance==null?"":`Saldo: ${cl(Number(w.balance)||0)}`}),Yr=H(()=>{const w=sa.value.find(d=>d.key===g.value)??null;return!w||w.balance==null?"":`Saldo: ${cl(Number(w.balance)||0)}`}),Fr=()=>{U.value=!0},Ir=()=>{J.value=!0},Br=w=>{if(f.value=w,U.value=!1,g.value===w){const d=sa.value.find(V=>V.key!==w)?.key??"";d&&(g.value=d)}},Nr=w=>{if(g.value=w,J.value=!1,f.value===w){const d=sa.value.find(V=>V.key!==w)?.key??"";d&&(f.value=d)}},Vr=()=>{I.value=!0},Er=()=>{$.value=!0},Lr=()=>{E.value=!0},Hr=async w=>{const d=w.name.trim();if(d)try{const V=await In("/api/categories",{method:"POST",body:JSON.stringify({name:d,type:w.type,icon:w.icon,color:"#6B7280"})});yn.value=dl([...yn.value,{key:V.name,label:V.name,icon:V.icon??w.icon??"other",customColor:V.color??void 0,kind:hn(V.type)}]),T.value=V.name,E.value=!1}catch{window.alert("Não foi possível criar a categoria. Tente novamente.")}},zr=()=>{const w=_.value==="other"?ee(O.value):"";return{id:s.value,kind:r.value,amount:B.value,description:u.value.trim(),category:T.value,account:m.value,dateKind:_.value,dateOther:w,transactionDate:w||void 0,isInstallment:Y.value,installmentCount:z.value,isPaid:le.value,tags:te.value,receiptFile:C.value,removeReceipt:K.value,transferFrom:f.value,transferTo:g.value,transferDescription:P.value.trim(),repetir:!x.value&&L.value,repetirVezes:!x.value&&L.value?It(re.value,2,120):void 0,repetirMeses:!x.value&&L.value?It(me.value,1,120):void 0,despesaFixa:!x.value&&X.value,recurrenceGroupId:n.initial?.recurrenceGroupId??null,isFixed:n.initial?.isFixed??!1,recurrenceEveryMonths:n.initial?.recurrenceEveryMonths??null,recurrenceEndsAt:n.initial?.recurrenceEndsAt??null}},qr=H(()=>!!s.value&&!!n.initial?.recurrenceGroupId&&!x.value),bn=w=>{A.value&&(a("save",{...A.value,editarEscopo:w}),A.value=null,be.value=!1,l())},Wr=()=>{const w=zr();if(w.repetir){const d=It(w.repetirVezes??2,2,120),V=It(w.repetirMeses??1,1,120);if(!Number.isFinite(d)||d<2||!Number.isFinite(V)||V<1)return}if(qr.value){A.value=w,k.value=n.initial?.isFixed??!1?"Essa é uma despesa/entrada fixa. Como você quer aplicar as alterações?":"Essa movimentação faz parte de uma repetição. Como você quer aplicar as alterações?",be.value=!0;return}a("save",w),l()};return Ze([r,Ga],()=>{if(r.value==="transfer"||!Ga.value.length)return;Ga.value.some(d=>d.key===T.value)||(T.value=Ga.value[0].key)},{immediate:!0}),Ze(r,w=>{w==="transfer"&&(Y.value=!1,X.value=!1,L.value=!1)}),Ze(()=>n.open,w=>{w&&Tt()}),(w,d)=>e.open?(b(),M("div",zd,[o("div",qd,[o("header",{class:"relative flex h-14 items-center px-4 pt-[env(safe-area-inset-top)] md:h-16 md:px-6 md:pt-0"},[o("button",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-[#6B7280]",type:"button",onClick:l,"aria-label":"Fechar"},[...d[35]||(d[35]=[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M18 6L6 18"}),o("path",{d:"M6 6l12 12"})],-1)])]),d[36]||(d[36]=o("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[o("div",{class:"text-[18px] font-bold text-[#1F2937]"},"Nova movimentação")],-1))]),o("div",Wd,[o("div",jd,[o("div",Ud,[o("div",Xd,[o("button",{type:"button",class:se(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold",i("expense")]),onClick:d[0]||(d[0]=V=>r.value="expense")}," Gasto ",2),o("button",{type:"button",class:se(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold disabled:opacity-40 disabled:cursor-not-allowed",i("income")]),disabled:n.lockKind,onClick:d[1]||(d[1]=V=>!n.lockKind&&(r.value="income"))}," Receita ",10,Qd),o("button",{type:"button",class:se(["flex h-11 items-center justify-center rounded-xl text-sm font-semibold disabled:opacity-40 disabled:cursor-not-allowed",i("transfer")]),disabled:n.lockKind,onClick:d[2]||(d[2]=V=>!n.lockKind&&(r.value="transfer"))}," Transferência ",10,Kd)])])]),o("div",Gd,[d[37]||(d[37]=o("div",{class:"text-center text-xs font-bold uppercase tracking-wide text-slate-300"},"Valor da transação",-1)),o("div",Jd,[o("div",{class:se(["text-2xl font-bold",Pe.value])},"R$",2),o("input",{class:se(["amount-input w-full max-w-[340px] bg-transparent text-center font-bold leading-none tracking-tight placeholder:text-slate-200 focus:outline-none focus:ring-0",[ae.value,ue.value]]),inputmode:"numeric",autocomplete:"off",spellcheck:"false",value:p.value,onInput:ve,onKeydown:d[3]||(d[3]=(...V)=>v(ha)&&v(ha)(...V)),placeholder:"0,00","aria-label":"Valor"},null,42,Zd)])]),o("div",ec,[x.value?j("",!0):(b(),M("div",tc,[o("div",ac,[d[38]||(d[38]=Ct('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-white text-slate-400 ring-1 ring-slate-200/60" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M4 7h16" data-v-6d651ce9></path><path d="M4 12h10" data-v-6d651ce9></path><path d="M4 17h14" data-v-6d651ce9></path></svg></span>',1)),zt(o("input",{"onUpdate:modelValue":d[4]||(d[4]=V=>u.value=V),type:"text",placeholder:"Descrição (ex: Almoço de domingo)",class:"w-full appearance-none border-0 bg-transparent text-sm font-semibold text-slate-700 placeholder:text-slate-300 outline-none focus:outline-none focus:ring-0"},null,512),[[ln,u.value]])])])),x.value?j("",!0):(b(),M("div",nc,[o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:Vr},[o("div",lc,[o("span",{class:se(["flex h-10 w-10 items-center justify-center rounded-2xl",Ya.value?.customColor?"":Sr(Ya.value?.tone)]),style:vt(Ya.value?.customColor?{backgroundColor:Ya.value.customColor,color:"white"}:{})},[Ee(un,{icon:Ya.value?.icon??"other",class:"h-5 w-5"},null,8,["icon"])],6),o("div",rc,[d[39]||(d[39]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Categoria",-1)),o("div",sc,Te(T.value),1)]),d[40]||(d[40]=o("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M6 9l6 6 6-6"})],-1))])]),o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:Er},[o("div",oc,[d[42]||(d[42]=Ct('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-purple-100 text-purple-600" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M3 10h18" data-v-6d651ce9></path><path d="M5 10V8l7-5 7 5v2" data-v-6d651ce9></path><path d="M6 10v9" data-v-6d651ce9></path><path d="M18 10v9" data-v-6d651ce9></path></svg></span>',1)),o("div",ic,[d[41]||(d[41]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Conta",-1)),o("div",uc,Te(m.value),1)]),d[43]||(d[43]=o("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M6 9l6 6 6-6"})],-1))])])])),x.value?j("",!0):(b(),M("div",dc,[o("button",{type:"button",class:"rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/70",onClick:_t},[o("div",cc,[d[45]||(d[45]=Ct('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-200 text-slate-500" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><rect x="3" y="4" width="18" height="18" rx="3" data-v-6d651ce9></rect><path d="M8 2v4" data-v-6d651ce9></path><path d="M16 2v4" data-v-6d651ce9></path><path d="M3 10h18" data-v-6d651ce9></path></svg></span>',1)),o("div",vc,[d[44]||(d[44]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Data",-1)),o("div",pc,Te(_.value==="today"?"Hoje":O.value||"Selecione"),1)])])]),o("div",mc,[o("div",fc,[o("div",null,[o("div",hc,Te(Q.value),1),o("div",yc,Te(le.value?"Sim":"Não"),1)]),o("button",{type:"button",class:se(["relative inline-flex h-7 w-12 items-center rounded-full transition",le.value?"bg-[#14B8A6]":"bg-slate-300"]),onClick:d[5]||(d[5]=V=>le.value=!le.value),"aria-label":oe.value},[o("span",{class:se(["inline-block h-6 w-6 transform rounded-full bg-white transition",le.value?"translate-x-5":"translate-x-1"])},null,2)],10,gc)])])])),o("button",{type:"button",class:se(["flex w-full items-center justify-between rounded-2xl bg-white px-4 py-4 text-left text-sm font-bold tracking-wide ring-1 ring-slate-200/60",r.value==="transfer"?"text-blue-600":"text-emerald-600"]),onClick:d[6]||(d[6]=V=>W.value=!W.value)},[d[47]||(d[47]=o("span",null,"OPÇÕES AVANÇADAS",-1)),(b(),M("svg",{class:se(["h-5 w-5 transition-transform",W.value?"rotate-180":""]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[...d[46]||(d[46]=[o("path",{d:"M6 9l6 6 6-6"},null,-1)])],2))],2),W.value?(b(),M("div",bc,[x.value?j("",!0):(b(),M("div",wc,[o("div",xc,[d[48]||(d[48]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"📌"),o("div",{class:"text-sm font-semibold text-slate-900"},"Despesa fixa")],-1)),o("button",{type:"button",class:se(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",X.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:Y.value||L.value,onClick:d[7]||(d[7]=V=>!(Y.value||L.value)&&(X.value=!X.value)),"aria-label":"Despesa fixa"},[o("span",{class:se(["inline-block h-6 w-6 transform rounded-full bg-white transition",X.value?"translate-x-5":"translate-x-1"])},null,2)],10,kc)]),X.value?(b(),M("div",_c," Vai aparecer em todos os meses a partir desta data. ")):j("",!0)])),x.value?j("",!0):(b(),M("div",Mc,[o("div",Tc,[d[49]||(d[49]=Ct('<div class="flex items-center gap-3" data-v-6d651ce9><span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M12 2l7 7-7 7-7-7 7-7Z" data-v-6d651ce9></path><path d="M12 16l7 7H5l7-7Z" data-v-6d651ce9></path></svg></span><div class="text-sm font-semibold text-slate-900" data-v-6d651ce9>Parcelamento</div></div>',1)),o("button",{type:"button",class:se(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",Y.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:X.value||L.value,onClick:d[8]||(d[8]=V=>!(X.value||L.value)&&(Y.value=!Y.value)),"aria-label":"Parcelado"},[o("span",{class:se(["inline-block h-6 w-6 transform rounded-full bg-white transition",Y.value?"translate-x-5":"translate-x-1"])},null,2)],10,Dc)]),Y.value?(b(),M("div",Pc,[o("div",null,[d[52]||(d[52]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Qtd.",-1)),o("div",Cc,[o("input",{value:z.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",class:"w-full appearance-none border-0 bg-transparent px-4 text-center text-sm font-bold text-slate-900 outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",onKeydown:d[9]||(d[9]=(...V)=>v(ha)&&v(ha)(...V)),onInput:d[10]||(d[10]=V=>{z.value=It(V.target.value,1,999)}),"aria-label":"Quantidade de parcelas"},null,40,Ac),o("div",{class:"grid w-12 grid-rows-2 border-l border-slate-200/70"},[o("button",{type:"button",class:"flex items-center justify-center text-slate-500","aria-label":"Aumentar",onClick:Or},[...d[50]||(d[50]=[o("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M6 15l6-6 6 6"})],-1)])]),o("button",{type:"button",class:"flex items-center justify-center text-slate-500","aria-label":"Diminuir",onClick:$r},[...d[51]||(d[51]=[o("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[o("path",{d:"M6 9l6 6 6-6"})],-1)])])])])]),o("div",null,[d[53]||(d[53]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Valor parcela",-1)),o("div",$c,Te(ye(ce.value)),1)])])):j("",!0),Y.value?(b(),M("div",Oc,[o("div",Sc,[d[54]||(d[54]=o("span",{"aria-hidden":"true"},"📋",-1)),o("span",null,"Serão criadas "+Te(ht.value.count)+" parcelas:",1)]),o("div",Rc,[(b(!0),M(Me,null,Be(ht.value.rows,V=>(b(),M("div",{key:V.date,class:"flex items-center justify-between gap-3 font-semibold"},[o("span",Yc,Te(V.date),1),o("span",Fc,Te(V.amount),1)]))),128)),ht.value.hasMore?(b(),M("div",Ic," … +"+Te(ht.value.remainingCount)+" parcelas ",1)):j("",!0),o("div",Bc,[o("div",Nc,[d[55]||(d[55]=o("span",null,"Total",-1)),o("span",Vc,Te(ht.value.total),1)])])])])):j("",!0)])),o("div",Ec,[o("div",Lc,[d[56]||(d[56]=Ct('<div class="flex items-center gap-3" data-v-6d651ce9><span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M21 12a9 9 0 0 1-9 9" data-v-6d651ce9></path><path d="M3 12a9 9 0 0 1 9-9" data-v-6d651ce9></path><path d="M8 12h8" data-v-6d651ce9></path></svg></span><div class="text-sm font-semibold text-slate-900" data-v-6d651ce9>Repetir</div></div>',1)),o("button",{type:"button",class:se(["relative inline-flex h-7 w-12 items-center rounded-full transition disabled:cursor-not-allowed disabled:opacity-60",L.value?"bg-[#14B8A6]":"bg-slate-300"]),disabled:Y.value||X.value||x.value,onClick:d[11]||(d[11]=V=>!(Y.value||X.value||x.value)&&(L.value=!L.value)),"aria-label":"Repetir"},[o("span",{class:se(["inline-block h-6 w-6 transform rounded-full bg-white transition",L.value?"translate-x-5":"translate-x-1"])},null,2)],10,Hc)]),L.value?(b(),M("div",zc,[o("div",qc,[o("div",null,[d[57]||(d[57]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Vezes",-1)),o("input",{value:re.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",class:"mt-2 h-10 w-full border-b border-slate-200 bg-transparent text-left text-2xl font-semibold text-slate-900 outline-none focus:border-[#14B8A6]",onKeydown:d[12]||(d[12]=(...V)=>v(ha)&&v(ha)(...V)),onInput:fn,"aria-label":"Repetir vezes"},null,40,Wc)]),o("div",null,[d[58]||(d[58]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Meses",-1)),zt(o("select",{"onUpdate:modelValue":d[13]||(d[13]=V=>me.value=V),class:"mt-2 h-10 w-full border-b border-slate-200 bg-transparent text-left text-lg font-semibold text-slate-900 outline-none focus:border-[#14B8A6]","aria-label":"Intervalo em meses"},[(b(),M(Me,null,Be(24,V=>o("option",{key:V,value:V},Te(V),9,jc)),64))],512),[[ts,me.value]])])]),o("div",Uc," Vai repetir a cada "+Te(me.value)+" "+Te(me.value===1?"mês":"meses")+". ",1)])):j("",!0)]),x.value?j("",!0):(b(),M("div",Xc,[o("div",Qc,[d[59]||(d[59]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"🏷️"),o("div",{class:"text-sm font-semibold text-slate-900"},"Tags")],-1)),o("button",{type:"button",class:"text-sm font-semibold text-slate-500 hover:text-slate-700 disabled:opacity-50",disabled:y.value,onClick:d[14]||(d[14]=V=>S.value=!S.value)},Te(S.value?"- Tag":"+ Tag"),9,Kc)]),o("div",Gc,[(b(!0),M(Me,null,Be(la.value,V=>(b(),M("button",{key:V.id,type:"button",class:se(["inline-flex items-center gap-2 rounded-full px-3 py-2 text-xs font-semibold ring-1 transition",ot.value.has(V.nome.toLowerCase())?"bg-slate-900 text-white ring-slate-900":"bg-slate-50 text-slate-600 ring-slate-200/70 hover:bg-slate-100"]),onClick:xe=>Oa(V.nome)},[o("span",{class:"h-2 w-2 rounded-full",style:vt({backgroundColor:V.cor}),"aria-hidden":"true"},null,4),o("span",null,"# "+Te(V.nome),1)],10,Jc))),128)),la.value.length===0?(b(),M("div",Zc,"Nenhuma tag ainda.")):j("",!0)]),S.value?(b(),M("div",ev,[d[60]||(d[60]=o("div",{class:"text-[10px] font-bold uppercase tracking-wide text-slate-400"},"Nova tag",-1)),o("div",tv,[zt(o("input",{"onUpdate:modelValue":d[15]||(d[15]=V=>de.value=V),type:"text",maxlength:"50",placeholder:"Ex: Essencial",class:"h-11 w-full rounded-xl bg-white px-4 text-sm font-semibold text-slate-900 ring-1 ring-slate-200/70 focus:outline-none",disabled:y.value,onKeydown:nn(At(Ae,["prevent"]),["enter"])},null,40,av),[[ln,de.value]]),o("button",{type:"button",class:"inline-flex h-11 items-center justify-center rounded-xl bg-slate-900 px-4 text-sm font-semibold text-white disabled:opacity-50",disabled:y.value||!de.value.trim(),onClick:Ae}," Criar ",8,nv)])])):j("",!0)])),x.value?j("",!0):(b(),M("div",lv,[o("div",rv,[d[61]||(d[61]=o("div",{class:"flex items-center gap-3"},[o("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-500","aria-hidden":"true"},"📎"),o("div",{class:"text-sm font-semibold text-slate-900"},"Comprovante")],-1)),ma.value?(b(),M("button",{key:0,type:"button",class:"text-sm font-semibold text-slate-500 hover:text-slate-700",onClick:Ut}," Trocar ")):j("",!0)]),o("input",{ref_key:"receiptFileInput",ref:$e,class:"hidden",type:"file",accept:"application/pdf,image/*",onChange:D},null,544),ma.value?(b(),M("div",ov,[o("div",iv,[o("div",uv,[Ra.value&&ie.value?(b(),M("div",dv,[o("img",{src:ie.value,alt:"",class:"h-full w-full object-cover"},null,8,cv)])):(b(),M("div",vv,[...d[63]||(d[63]=[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("rect",{x:"4",y:"5",width:"16",height:"14",rx:"2"}),o("path",{d:"M8 9h8"}),o("path",{d:"M8 13h6"})],-1)])])),o("div",pv,[o("div",mv,Te(Sa.value),1),o("div",fv,Te(h.value&&!C.value&&!K.value?"Salvo":"Será anexado ao salvar"),1)])]),o("div",hv,[h.value&&!C.value&&!K.value?(b(),M("a",{key:0,href:h.value,target:"_blank",rel:"noopener noreferrer",class:"flex h-10 items-center justify-center rounded-xl bg-white px-4 text-xs font-semibold text-slate-600 ring-1 ring-slate-200/60"}," Ver ",8,yv)):j("",!0),o("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-white text-slate-500 ring-1 ring-slate-200/60","aria-label":"Remover",onClick:we},[...d[64]||(d[64]=[Ct('<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M3 6h18" data-v-6d651ce9></path><path d="M8 6V4h8v2" data-v-6d651ce9></path><path d="M19 6l-1 16H6L5 6" data-v-6d651ce9></path><path d="M10 11v6" data-v-6d651ce9></path><path d="M14 11v6" data-v-6d651ce9></path></svg>',1)])])])])])):(b(),M("div",{key:0,class:se(["mt-4 rounded-2xl border-2 border-dashed bg-slate-50 px-4 py-6 text-center transition",Z.value?"border-[#14B8A6] bg-[#E6FFFB]":"border-slate-200"]),role:"button",tabindex:"0",onClick:Ut,onKeydown:[nn(At(Ut,["prevent"]),["enter"]),nn(At(Ut,["prevent"]),["space"])],onDragenter:d[16]||(d[16]=At(V=>Z.value=!0,["prevent"])),onDragover:d[17]||(d[17]=At(V=>Z.value=!0,["prevent"])),onDragleave:d[18]||(d[18]=At(V=>Z.value=!1,["prevent"])),onDrop:ne,"aria-label":"Adicionar comprovante"},[...d[62]||(d[62]=[Ct('<div class="mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60" data-v-6d651ce9><svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M12 16V4" data-v-6d651ce9></path><path d="M8 8l4-4 4 4" data-v-6d651ce9></path><path d="M4 20h16" data-v-6d651ce9></path></svg></div><div class="mt-3 text-sm font-semibold text-slate-900" data-v-6d651ce9>Arraste ou clique para adicionar</div><div class="mt-1 text-xs font-semibold text-slate-400" data-v-6d651ce9>PDF ou imagem (até 10MB).</div>',3)])],42,sv))]))])):j("",!0)]),x.value?(b(),M("div",gv,[o("div",bv,[o("div",null,[d[66]||(d[66]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"De (Origem)",-1)),o("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-4 text-left shadow-sm",onClick:Fr},[o("div",wv,[d[65]||(d[65]=Ct('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M3 10h18" data-v-6d651ce9></path><path d="M5 10V8l7-5 7 5v2" data-v-6d651ce9></path><path d="M6 10v9" data-v-6d651ce9></path><path d="M18 10v9" data-v-6d651ce9></path></svg></span>',1)),o("div",xv,[o("div",kv,Te(f.value),1),o("div",_v,Te(Rr.value||"Saldo: -"),1)])])])]),d[69]||(d[69]=o("div",{class:"flex items-center justify-center py-1 text-slate-300"},[o("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[o("path",{d:"M12 5v14"}),o("path",{d:"M5 12l7 7 7-7"})])],-1)),o("div",null,[d[68]||(d[68]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Para (Destino)",-1)),o("button",{type:"button",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-4 text-left shadow-sm",onClick:Ir},[o("div",Mv,[d[67]||(d[67]=Ct('<span class="flex h-10 w-10 items-center justify-center rounded-2xl bg-amber-50 text-amber-600" data-v-6d651ce9><svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-6d651ce9><path d="M4 7h16v12H4z" data-v-6d651ce9></path><path d="M4 7V5h12v2" data-v-6d651ce9></path><path d="M16 12h4" data-v-6d651ce9></path></svg></span>',1)),o("div",Tv,[o("div",Dv,Te(g.value),1),o("div",Pv,Te(Yr.value||"Saldo: -"),1)])])])])]),o("div",null,[d[70]||(d[70]=o("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Descrição (opcional)",-1)),zt(o("input",{"onUpdate:modelValue":d[19]||(d[19]=V=>P.value=V),type:"text",placeholder:"Ex: Saque...",class:"h-11 w-full rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 text-base text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#3B82F6] focus:outline-none focus:ring-0"},null,512),[[ln,P.value]])])])):j("",!0)]),o("footer",Cv,[o("button",{class:se(["h-[52px] w-full rounded-xl text-base font-bold text-white transition-all",Ce.value?r.value==="transfer"?"bg-[#3B82F6] shadow-[0_2px_8px_rgba(59,130,246,0.25)]":"bg-[#14B8A6] shadow-[0_2px_8px_rgba(20,184,166,0.25)]":"bg-slate-300 shadow-none cursor-not-allowed opacity-60"]),type:"button",disabled:!Ce.value,onClick:Wr},Te(r.value==="transfer"?"Transferir":"Salvar"),11,Av)])]),Ee(Dd,{open:R.value,"model-value":_.value==="today"?"":O.value,onClose:d[20]||(d[20]=V=>R.value=!1),onSelectToday:d[21]||(d[21]=()=>{Lt(),R.value=!1}),"onUpdate:modelValue":d[22]||(d[22]=V=>{Ft(V),R.value=!1})},null,8,["open","model-value"]),Ee(Od,{open:I.value,options:Qa.value,kind:Ka.value,onClose:d[23]||(d[23]=V=>I.value=!1),onSelect:d[24]||(d[24]=V=>{T.value=V,I.value=!1}),onCreate:d[25]||(d[25]=()=>{I.value=!1,Lr()})},null,8,["open","options","kind"]),Ee(Hd,{open:E.value,"initial-type":Ka.value??"expense",onClose:d[26]||(d[26]=V=>E.value=!1),onSave:Hr},null,8,["open","initial-type"]),Ee(_n,{open:$.value,options:Ja.value,onClose:d[27]||(d[27]=V=>$.value=!1),onSelect:d[28]||(d[28]=V=>{m.value=V,$.value=!1})},null,8,["open","options"]),Ee(_n,{open:U.value,title:"Transferir de",options:sa.value,onClose:d[29]||(d[29]=V=>U.value=!1),onSelect:Br},null,8,["open","options"]),Ee(_n,{open:J.value,title:"Transferir para",options:sa.value,onClose:d[30]||(d[30]=V=>J.value=!1),onSelect:Nr},null,8,["open","options"]),be.value?(b(),M("div",$v,[o("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:d[31]||(d[31]=V=>be.value=!1),"aria-label":"Fechar"}),o("div",Ov,[o("div",Sv,[d[71]||(d[71]=o("div",{class:"text-4xl"},"🧩",-1)),d[72]||(d[72]=o("h2",{class:"mt-4 text-lg font-semibold text-slate-900"},"Aplicar alterações",-1)),o("p",Rv,Te(k.value),1)]),o("div",Yv,[o("button",{type:"button",class:"w-full rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:d[32]||(d[32]=V=>bn("este"))}," Só esta movimentação "),o("button",{type:"button",class:"w-full rounded-xl border border-slate-200 py-3 text-sm font-semibold text-slate-700 hover:bg-slate-50",onClick:d[33]||(d[33]=V=>bn("proximos"))}," Esta e as próximas "),o("button",{type:"button",class:"w-full rounded-xl bg-[#14B8A6] py-3 text-sm font-semibold text-white shadow-lg shadow-teal-600/20",onClick:d[34]||(d[34]=V=>bn("todos"))}," Todas (antes e depois) ")])])])):j("",!0)])):j("",!0)}}),jv=Nl(Fv,[["__scopeId","data-v-6d651ce9"]]);export{jv as T,un as _,Hv as a,qv as b,Wv as e,zv as h,ul as q};
