import{d as $,h as a,c as h,p as j,g as i,i as z,e,t as v,x as T,I as K,F as p,r as x,b as f,n as C,j as R,o as r}from"./app-DvJ-vTb0.js";import{m as U,p as F,f as q,n as G}from"./inputGuards-BTKUKM9N.js";const H={key:0,class:"fixed inset-0 z-[60]"},J={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},O={class:"flex h-full flex-col"},P={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},Q={class:"pointer-events-none absolute inset-0 flex items-center justify-center"},W={class:"text-[18px] font-bold text-[#1F2937]"},X={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},Y={class:"mt-6"},Z={class:"mt-6"},ee={class:"grid grid-cols-4 gap-3"},te=["onClick"],oe={class:"text-2xl"},se={class:"mt-6"},le={class:"flex h-11 items-center gap-1 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3"},ne=["value"],ae={class:"mt-6"},ie={class:"grid grid-cols-2 gap-3"},re={class:"relative"},de=["value"],ue=["value"],ce={class:"relative"},ve=["value"],be=["value"],me={class:"mt-6"},pe={class:"flex gap-2"},xe=["onClick","aria-label"],fe={class:"shrink-0 border-t border-slate-100 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))]"},ge={class:"flex gap-3"},he=["disabled"],ye=$({__name:"CreditCardModal",props:{open:{type:Boolean},initial:{}},emits:["close","save"],setup(B,{emit:E}){const _=B,y=E,g=()=>y("close"),b=a(void 0),d=a(""),u=a("visa"),c=a(""),l=a(null),n=a(null),m=a("#8B5CF6"),A=[{id:"visa",nome:"Visa",logo:"üí≥"},{id:"mastercard",nome:"Mastercard",logo:"üí≥"},{id:"elo",nome:"Elo",logo:"üí≥"},{id:"amex",nome:"Amex",logo:"üí≥"}],M=["#8B5CF6","#3B82F6","#10B981","#F59E0B","#EF4444","#1F2937"],k=Array.from({length:31},(s,t)=>t+1),N=s=>{const t=s.target;c.value=q(t.value)},D=h(()=>U(c.value)),I=h(()=>b.value?"Editar cart√£o":"Adicionar cart√£o de cr√©dito"),V=()=>{const s=_.initial??null;b.value=s?.id,d.value=s?.nome??"",u.value=s?.bandeira??"visa",c.value=s?G(s.limite):"",l.value=s?.dia_fechamento??null,n.value=s?.dia_vencimento??null,m.value=s?.cor??"#8B5CF6"},w=h(()=>d.value.trim()!==""&&u.value!==null&&c.value.trim()!==""&&l.value!=null&&n.value!=null&&l.value>=1&&l.value<=31&&n.value>=1&&n.value<=31),L=()=>{w.value&&y("save",{id:b.value,nome:d.value.trim(),bandeira:u.value,limite:D.value,dia_fechamento:l.value,dia_vencimento:n.value,cor:m.value})};return j(()=>_.open,s=>{s&&V()}),(s,t)=>B.open?(r(),i("div",H,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:g,"aria-label":"Fechar"}),e("div",J,[e("div",O,[e("header",P,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:g,"aria-label":"Fechar"},[...t[4]||(t[4]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])]),e("div",Q,[e("div",W,v(I.value),1)])]),e("div",X,[e("div",Y,[t[5]||(t[5]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Nome do cart√£o",-1)),T(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),type:"text",placeholder:"Ex: Nubank Roxo",maxlength:"50",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 text-base text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[K,d.value]])]),e("div",Z,[t[6]||(t[6]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Bandeira",-1)),e("div",ee,[(r(),i(p,null,x(A,o=>e("button",{key:o.id,type:"button",class:C(["flex h-14 items-center justify-center rounded-xl border-2 font-semibold transition",u.value===o.id?"border-[#14B8A6] bg-teal-50 text-[#14B8A6]":"border-[#E5E7EB] bg-white text-[#6B7280]"]),onClick:S=>u.value=o.id},[e("span",oe,v(o.logo),1)],10,te)),64))])]),e("div",se,[t[8]||(t[8]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Limite total",-1)),e("div",le,[t[7]||(t[7]=e("span",{class:"text-base text-[#6B7280]"},"R$",-1)),e("input",{class:"h-full w-full flex-1 appearance-none border-0 bg-transparent text-center text-base text-[#374151] outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"off",value:c.value,onInput:N,onKeydown:t[1]||(t[1]=(...o)=>f(F)&&f(F)(...o)),placeholder:"0,00","aria-label":"Limite"},null,40,ne)])]),e("div",ae,[t[15]||(t[15]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Datas",-1)),e("div",ie,[e("div",null,[t[11]||(t[11]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Fechamento",-1)),e("div",re,[e("select",{value:l.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus:ring-0",onChange:t[2]||(t[2]=o=>{l.value=Number(o.target.value)||null})},[t[9]||(t[9]=e("option",{value:"",disabled:""},"Dia",-1)),(r(!0),i(p,null,x(f(k),o=>(r(),i("option",{key:o,value:o},v(o),9,ue))),128))],40,de),t[10]||(t[10]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])]),e("div",null,[t[14]||(t[14]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Vencimento",-1)),e("div",ce,[e("select",{value:n.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus:ring-0",onChange:t[3]||(t[3]=o=>{n.value=Number(o.target.value)||null})},[t[12]||(t[12]=e("option",{value:"",disabled:""},"Dia",-1)),(r(!0),i(p,null,x(f(k),o=>(r(),i("option",{key:o,value:o},v(o),9,be))),128))],40,ve),t[13]||(t[13]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])])]),e("div",me,[t[16]||(t[16]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Cor do cart√£o",-1)),e("div",pe,[(r(),i(p,null,x(M,o=>e("button",{key:o,type:"button",class:C(["h-10 w-10 rounded-lg border-2 transition",m.value===o?"border-gray-800":"border-transparent"]),style:R({backgroundColor:o}),onClick:S=>m.value=o,"aria-label":`Cor ${o}`},null,14,xe)),64))])])]),e("footer",fe,[e("div",ge,[e("button",{class:"flex-1 rounded-xl border border-[#E5E7EB] py-3 text-sm font-semibold text-[#6B7280] transition hover:bg-slate-50",type:"button",onClick:g}," Cancelar "),e("button",{disabled:!w.value,class:"flex-1 rounded-xl bg-[#14B8A6] py-3 text-sm font-semibold text-white shadow-lg shadow-teal-500/20 transition hover:bg-[#0D9488] disabled:opacity-50 disabled:cursor-not-allowed",type:"button",onClick:L},v(b.value?"Salvar altera√ß√µes":"Adicionar"),9,he)])])])])])):z("",!0)}});export{ye as _};
