import{d as Tt,h as c,c as u,p as Ge,g as i,i as w,e as t,f as y,t as d,F as R,r as J,x as H,k as G,N as ht,I as ne,b as S,K as ie,m as mt,n as P,o as n,s as pe,u as Je,z as Ye,a as Jt,w as V,l as Q,j as nt,A as We,B as Qe,C as Ze}from"./app-BblmX-k6.js";import{r as E,_ as Xe,a as ts}from"./DesktopShell.vue_vue_type_script_setup_true_lang-CbAI3--o.js";import{T as es,e as ss,h as re,b as ls,a as os}from"./TransactionModal-BtEOqaMR.js";import{g as Dt,_ as Bt}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-DLJShT1j.js";import{u as as,_ as ns}from"./useIsMobile-DqUvSeEk.js";import{_ as is}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-DTT4Pqof.js";import{_ as rs}from"./MobileToast.vue_vue_type_script_setup_true_lang-CJtZ6XEl.js";import{a as Yt,_ as ds}from"./CreditCardModal.vue_vue_type_script_setup_true_lang-CC6PATu4.js";import{A as us}from"./ApplicationLogo-7eZ-Onov.js";import{a as de,p as ue,b as ce,m as me}from"./inputGuards-BV9ov3X1.js";import{_ as cs}from"./CreateAccountFlowModal.vue_vue_type_script_setup_true_lang-yAKeyAww.js";import{_ as ms}from"./CreateCreditCardFlowModal.vue_vue_type_script_setup_true_lang-DlE-GSKx.js";import{_ as vs}from"./Modal.vue_vue_type_script_setup_true_lang-Cic36vAP.js";import{_ as ps}from"./HomeWidgetsManager.vue_vue_type_script_setup_true_lang-BD1rXEVl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AccountPickerSheet.vue_vue_type_script_setup_true_lang-BA27uhS1.js";const xs={key:0,class:"fixed inset-0 z-[95] bg-white"},fs={class:"flex items-center justify-between px-5 pt-[calc(1rem+env(safe-area-inset-top))]"},bs={key:1,class:"h-6"},gs={class:"flex items-center gap-3"},hs={key:0,class:"text-xs font-bold text-slate-400"},ys=["disabled"],ws={class:"mx-auto flex h-[calc(100vh-5rem)] w-full max-w-md min-h-0 flex-col px-6 pb-[calc(2rem+env(safe-area-inset-bottom))]"},ks={key:0,class:"flex flex-1 min-h-0 flex-col"},_s={class:"mt-6 flex justify-center"},$s={class:"flex h-16 w-16 items-center justify-center rounded-3xl bg-slate-50 ring-1 ring-slate-200/60"},Cs={class:"mt-6 space-y-3"},Ms=["onClick"],Ds={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},Bs={class:"mt-auto pt-6"},Ss=["disabled"],As=["disabled"],Ns={key:1,class:"flex flex-1 min-h-0 flex-col"},Fs={class:"mt-6 flex-1 min-h-0 overflow-y-auto pb-6"},js={class:"space-y-5"},Ts={class:"mt-3 space-y-2"},Is={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Ls={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Ps={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Vs={key:0},Es={class:"flex min-w-0 items-center gap-3"},Rs={class:"min-w-0"},Os={class:"truncate text-sm font-semibold text-slate-900"},Us={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},zs=["value"],Ks={key:1,class:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},qs={class:"shrink-0 pt-2"},Hs=["disabled"],Gs=["disabled"],Js={key:2,class:"flex flex-1 min-h-0 flex-col"},Ys={class:"mt-6 flex-1 min-h-0 overflow-y-auto pb-6"},Ws={class:"space-y-5"},Qs={class:"space-y-2"},Zs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},Xs={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},tl={class:"flex items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-700"},el={key:0,class:"space-y-5"},sl={class:"flex min-w-0 items-center gap-3"},ll={class:"min-w-0"},ol={class:"truncate text-sm font-semibold text-slate-900"},al={class:"mt-3 grid grid-cols-4 gap-3"},nl=["onClick"],il={class:"mt-2 flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},rl=["value"],dl={class:"mt-3 grid grid-cols-2 gap-3"},ul={class:"relative rounded-2xl border border-slate-200 bg-slate-50"},cl=["value"],ml={class:"relative rounded-2xl border border-slate-200 bg-slate-50"},vl=["value"],pl={key:1,class:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},xl={class:"shrink-0 pt-2"},fl=["disabled"],bl=["disabled"],gl={key:3,class:"flex flex-1 min-h-0 flex-col justify-center text-center"},hl={class:"mt-6 rounded-3xl bg-slate-50 p-4 text-left ring-1 ring-slate-200/60"},yl={class:"mt-2 text-sm font-semibold text-slate-900"},wl={key:0,class:"mt-2 text-sm font-semibold text-slate-900"},kl={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},_l=["disabled"],$l=Tt({__name:"OnboardingModal",props:{open:{type:Boolean}},emits:["close","done","add-first-expense"],setup(Y,{emit:T}){const O=Y,I=T,b=c(1),v=c(!1),g=c(""),h=c(null),M=[{key:"debt",label:"T√¥ no vermelho (d√≠vidas)"},{key:"zero",label:"T√¥ zerado todo m√™s"},{key:"save",label:"Quero juntar grana"},{key:"organize",label:"S√≥ organizar melhor"}],$=c("checking"),A=c(null),it=c("#3B82F6"),L=c(""),W=c("0,00"),k=c(!1),_=u(()=>A.value?Dt(A.value):null),x=c("no"),F=c(null),rt=c(!1),Z=u(()=>F.value?Dt(F.value):null),D=c(""),vt=c("visa"),X=c("0,00"),tt=c(10),et=c(17),yt=c("#8B5CF6"),j=[{id:"visa",label:"Visa"},{id:"mastercard",label:"Mastercard"},{id:"elo",label:"Elo"},{id:"amex",label:"Amex"}],dt=Array.from({length:31},(C,o)=>o+1),St=u(()=>b.value===1?"1/3":b.value===2?"2/3":b.value===3?"3/3":""),pt=u(()=>h.value!=null),xt=u(()=>$.value==="wallet"?!0:!!A.value),st=u(()=>x.value!=="no"),It=u(()=>st.value?!!F.value&&D.value.trim().length>0&&X.value.trim().length>0&&Number(tt.value)>=1&&Number(et.value)>=1:!0),lt=async()=>{v.value=!0,g.value="";try{await E("/api/user/onboarding",{method:"POST"}),I("done"),I("close")}catch{g.value="N√£o foi poss√≠vel pular agora. Tente novamente."}finally{v.value=!1}},wt=C=>{A.value=C.nome,it.value=C.color,k.value=!1},Lt=C=>{F.value=C.nome,rt.value=!1},ut=()=>{g.value="",b.value===3?b.value=2:b.value===2&&(b.value=1)},kt=()=>{g.value="",b.value===1&&pt.value?b.value=2:b.value===2&&xt.value&&(b.value=3)},Pt=C=>{W.value=ce(C,!0)},At=C=>{X.value=ce(C.replace(/^-/,""),!0)},_t=()=>{const C=$.value==="wallet"?"Carteira":A.value??"",o=L.value.trim()?` - ${L.value.trim()}`:"",r=`${C}${o}`.trim(),z=me(W.value||"0,00");if($.value==="wallet")return{name:r,type:"wallet",icon:"wallet",institution:null,bank_account_type:null,initial_balance:z,color:"#14B8A6",incluir_soma:!0,is_primary:!0};const Nt=$.value==="savings"?"poupanca":"corrente";return{name:r,type:"bank",icon:"bank",institution:A.value,bank_account_type:Nt,initial_balance:z,color:it.value,incluir_soma:!0,is_primary:!0}},Vt=()=>{const C=Math.max(0,me(X.value||"0,00"));return{nome:D.value.trim(),bandeira:vt.value,limite:C,dia_fechamento:Number(tt.value)||10,dia_vencimento:Number(et.value)||17,cor:yt.value,icone:"credit-card",institution:F.value,is_primary:!1}},ot=async()=>{v.value=!0,g.value="";try{await E("/api/contas",{method:"POST",body:JSON.stringify(_t())}),st.value&&await E("/api/cartoes",{method:"POST",body:JSON.stringify(Vt())}),await E("/api/user/onboarding",{method:"POST"}),b.value=4}catch{g.value="N√£o foi poss√≠vel salvar suas configura√ß√µes. Tente novamente."}finally{v.value=!1}},ct=()=>{v.value=!0,g.value="",mt.reload({only:["bootstrap"],onFinish:()=>{I("add-first-expense"),I("done"),v.value=!1}})},$t=u(()=>{const C=$.value==="wallet"?"Carteira":A.value??"",o=L.value.trim()?` - ${L.value.trim()}`:"",r=`${C}${o}`.trim(),z=W.value.trim()||"0,00";return`${r} ¬∑ R$ ${z}`}),U=u(()=>{const C=D.value.trim(),o=X.value.trim()||"0,00";return`${C} ¬∑ Limite R$ ${o}`});return Ge(()=>O.open,C=>{C&&(b.value=1,v.value=!1,g.value="",h.value=null,$.value="checking",A.value=null,it.value="#3B82F6",L.value="",W.value="0,00",k.value=!1,x.value="no",F.value=null,rt.value=!1,D.value="",vt.value="visa",X.value="0,00",tt.value=10,et.value=17,yt.value="#8B5CF6")}),(C,o)=>Y.open?(n(),i("div",xs,[t("header",fs,[b.value>1&&b.value<4?(n(),i("button",{key:0,type:"button",class:"text-sm font-semibold text-slate-600",onClick:ut},"Voltar")):(n(),i("div",bs)),t("div",gs,[St.value?(n(),i("div",hs,d(St.value),1)):w("",!0),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600 disabled:opacity-60",disabled:v.value,onClick:lt,"aria-label":"Fechar"},[...o[18]||(o[18]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])],8,ys)])]),t("main",ws,[b.value===1?(n(),i("div",ks,[t("div",_s,[t("div",$s,[y(us,{class:"h-10 w-10 text-slate-900"})])]),o[19]||(o[19]=t("div",{class:"mt-8 text-center text-2xl font-semibold tracking-tight text-slate-900"},"Fala! Vamos come√ßar? ü§ü",-1)),o[20]||(o[20]=t("div",{class:"mt-6 text-center text-sm font-semibold text-slate-600"},"Qual seu maior desafio com dinheiro agora?",-1)),t("div",Cs,[(n(),i(R,null,J(M,r=>t("button",{key:r.key,type:"button",class:P(["w-full rounded-2xl border px-4 py-4 text-left text-sm font-semibold transition",h.value===r.key?"border-[#14B8A6] bg-[#E6FFFB] text-[#0F766E]":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"]),onClick:z=>h.value=r.key},d(r.label),11,Ms)),64))]),g.value?(n(),i("div",Ds,d(g.value),1)):w("",!0),t("div",Bs,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!pt.value,onClick:kt}," Continuar ",8,Ss),t("button",{type:"button",class:"mt-4 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:v.value,onClick:lt}," Pular ",8,As)])])):b.value===2?(n(),i("div",Ns,[o[32]||(o[32]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Qual sua conta principal?",-1)),o[33]||(o[33]=t("div",{class:"mt-1 text-sm font-semibold text-slate-500"},"(onde cai seu sal√°rio)",-1)),t("div",Fs,[t("div",js,[t("div",null,[o[24]||(o[24]=t("div",{class:"text-xs font-semibold text-slate-500"},"Tipo de conta",-1)),t("div",Ts,[t("label",Is,[H(t("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>$.value=r),type:"radio",value:"checking",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,$.value]]),o[21]||(o[21]=G(" Conta corrente ",-1))]),t("label",Ls,[H(t("input",{"onUpdate:modelValue":o[1]||(o[1]=r=>$.value=r),type:"radio",value:"savings",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,$.value]]),o[22]||(o[22]=G(" Poupan√ßa ",-1))]),t("label",Ps,[H(t("input",{"onUpdate:modelValue":o[2]||(o[2]=r=>$.value=r),type:"radio",value:"wallet",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,$.value]]),o[23]||(o[23]=G(" Carteira (dinheiro f√≠sico) ",-1))])])]),$.value!=="wallet"?(n(),i("div",Vs,[o[27]||(o[27]=t("div",{class:"mb-2 text-xs font-semibold text-slate-500"},"Institui√ß√£o financeira",-1)),t("button",{type:"button",class:"flex h-14 w-full items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 text-left",onClick:o[3]||(o[3]=r=>k.value=!0)},[t("div",Es,[y(Bt,{institution:A.value,"svg-path":_.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),t("div",Rs,[t("div",Os,d(A.value??"Selecione o banco"),1),o[25]||(o[25]=t("div",{class:"text-xs font-semibold text-slate-400"},"Toque para escolher",-1))])]),o[26]||(o[26]=t("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))])])):w("",!0),t("div",null,[o[28]||(o[28]=t("label",{class:"text-xs font-semibold text-slate-500"},"Descri√ß√£o (opcional)",-1)),H(t("input",{"onUpdate:modelValue":o[4]||(o[4]=r=>L.value=r),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:"Ex: Conta sal√°rio, Conta pessoal...",maxlength:"80",autocomplete:"off"},null,512),[[ne,L.value]])]),t("div",null,[o[30]||(o[30]=t("label",{class:"text-xs font-semibold text-slate-500"},"Quanto tem nela AGORA?",-1)),t("div",Us,[o[29]||(o[29]=t("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),t("input",{value:W.value,type:"text",inputmode:"decimal",placeholder:"0,00",class:"w-full bg-transparent text-right text-base font-semibold text-slate-900 outline-none",onKeydown:o[5]||(o[5]=(...r)=>S(de)&&S(de)(...r)),onInput:o[6]||(o[6]=r=>Pt(r.target.value))},null,40,zs)]),o[31]||(o[31]=t("div",{class:"mt-2 text-xs font-semibold text-slate-400"},"(pode ser negativo se t√° no cheque especial)",-1))]),g.value?(n(),i("div",Ks,d(g.value),1)):w("",!0)])]),t("div",qs,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!xt.value,onClick:kt}," Continuar ",8,Hs),t("button",{type:"button",class:"mt-3 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:v.value,onClick:lt}," Pular ",8,Gs)])])):b.value===3?(n(),i("div",Js,[o[49]||(o[49]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Voc√™ usa cart√£o de cr√©dito?",-1)),t("div",Ys,[t("div",Ws,[t("div",Qs,[t("label",Zs,[H(t("input",{"onUpdate:modelValue":o[7]||(o[7]=r=>x.value=r),type:"radio",value:"problem",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,x.value]]),o[34]||(o[34]=G(" Sim, e √© meu maior problema ",-1))]),t("label",Xs,[H(t("input",{"onUpdate:modelValue":o[8]||(o[8]=r=>x.value=r),type:"radio",value:"controlled",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,x.value]]),o[35]||(o[35]=G(" Sim, mas t√° controlado ",-1))]),t("label",tl,[H(t("input",{"onUpdate:modelValue":o[9]||(o[9]=r=>x.value=r),type:"radio",value:"no",class:"h-4 w-4 text-[#14B8A6]"},null,512),[[ht,x.value]]),o[36]||(o[36]=G(" N√£o uso ",-1))])]),st.value?(n(),i("div",el,[t("div",null,[o[39]||(o[39]=t("div",{class:"mb-2 text-xs font-semibold text-slate-500"},"Institui√ß√£o financeira",-1)),t("button",{type:"button",class:"flex h-14 w-full items-center justify-between rounded-2xl border border-slate-200 bg-slate-50 px-4 text-left",onClick:o[10]||(o[10]=r=>rt.value=!0)},[t("div",sl,[y(Bt,{institution:F.value,"svg-path":Z.value,"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),t("div",ll,[t("div",ol,d(F.value??"Selecione o banco"),1),o[37]||(o[37]=t("div",{class:"text-xs font-semibold text-slate-400"},"Toque para escolher",-1))])]),o[38]||(o[38]=t("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))])]),t("div",null,[o[40]||(o[40]=t("label",{class:"text-xs font-semibold text-slate-500"},"Apelido do cart√£o",-1)),H(t("input",{"onUpdate:modelValue":o[11]||(o[11]=r=>D.value=r),type:"text",class:"mt-2 h-12 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 text-sm font-semibold text-slate-700 focus:border-emerald-200 focus:outline-none focus:ring-2 focus:ring-emerald-100",placeholder:'Ex: "Nubank Roxo"',maxlength:"60",autocomplete:"off"},null,512),[[ne,D.value]])]),t("div",null,[o[41]||(o[41]=t("div",{class:"text-xs font-semibold text-slate-500"},"Bandeira",-1)),t("div",al,[(n(),i(R,null,J(j,r=>t("button",{key:r.id,type:"button",class:P(["flex h-14 items-center justify-center rounded-xl border-2 text-xs font-semibold transition",vt.value===r.id?"border-[#14B8A6] bg-teal-50 text-[#14B8A6]":"border-[#E5E7EB] bg-white text-[#6B7280]"]),onClick:z=>vt.value=r.id},d(r.label),11,nl)),64))])]),t("div",null,[o[43]||(o[43]=t("label",{class:"text-xs font-semibold text-slate-500"},"Limite total",-1)),t("div",il,[o[42]||(o[42]=t("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),t("input",{value:X.value,type:"text",inputmode:"numeric",pattern:"[0-9]*",placeholder:"0,00",class:"w-full bg-transparent text-right text-base font-semibold text-slate-900 outline-none",onKeydown:o[12]||(o[12]=(...r)=>S(ue)&&S(ue)(...r)),onInput:o[13]||(o[13]=r=>At(r.target.value))},null,40,rl)])]),t("div",null,[o[48]||(o[48]=t("div",{class:"text-xs font-semibold text-slate-500"},"Datas",-1)),t("div",dl,[t("div",null,[o[45]||(o[45]=t("label",{class:"mb-2 block text-xs font-semibold text-slate-400"},"Fechamento",-1)),t("div",ul,[H(t("select",{"onUpdate:modelValue":o[14]||(o[14]=r=>tt.value=r),class:"h-12 w-full appearance-none rounded-2xl border-0 bg-transparent bg-none px-4 pr-10 text-sm font-semibold text-slate-700 focus:outline-none focus-visible:outline-none focus:ring-0"},[(n(!0),i(R,null,J(S(dt),r=>(n(),i("option",{key:r,value:r},d(r),9,cl))),128))],512),[[ie,tt.value]]),o[44]||(o[44]=t("span",{class:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-slate-400"},[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 9l6 6 6-6"})])],-1))])]),t("div",null,[o[47]||(o[47]=t("label",{class:"mb-2 block text-xs font-semibold text-slate-400"},"Vencimento",-1)),t("div",ml,[H(t("select",{"onUpdate:modelValue":o[15]||(o[15]=r=>et.value=r),class:"h-12 w-full appearance-none rounded-2xl border-0 bg-transparent bg-none px-4 pr-10 text-sm font-semibold text-slate-700 focus:outline-none focus-visible:outline-none focus:ring-0"},[(n(!0),i(R,null,J(S(dt),r=>(n(),i("option",{key:r,value:r},d(r),9,vl))),128))],512),[[ie,et.value]]),o[46]||(o[46]=t("span",{class:"pointer-events-none absolute inset-y-0 right-4 flex items-center text-slate-400"},[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 9l6 6 6-6"})])],-1))])])])])])):w("",!0),g.value?(n(),i("div",pl,d(g.value),1)):w("",!0)])]),t("div",xl,[t("button",{type:"button",class:"w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value||!It.value,onClick:ot},d(v.value?"Salvando‚Ä¶":"Concluir"),9,fl),t("button",{type:"button",class:"mt-3 w-full text-center text-sm font-semibold text-slate-400 transition hover:text-slate-600 disabled:opacity-50",disabled:v.value,onClick:lt}," Pular ",8,bl)])])):(n(),i("div",gl,[o[53]||(o[53]=t("div",{class:"mx-auto flex h-14 w-14 items-center justify-center rounded-3xl bg-emerald-50 text-emerald-700 ring-1 ring-emerald-100"}," ‚úÖ ",-1)),o[54]||(o[54]=t("div",{class:"mt-5 text-2xl font-semibold tracking-tight text-slate-900"},"Pronto!",-1)),t("div",hl,[o[50]||(o[50]=t("div",{class:"text-xs font-bold uppercase tracking-wide text-slate-400"},"Resumo",-1)),t("div",yl,d($t.value),1),st.value?(n(),i("div",wl,d(U.value),1)):w("",!0),o[51]||(o[51]=t("div",{class:"my-4 h-px bg-slate-200/70"},null,-1)),o[52]||(o[52]=t("div",{class:"text-sm font-semibold text-slate-700"}," Agora bora lan√ßar seus gastos pra gente te mostrar se vai dar at√© o fim do m√™s! ",-1))]),g.value?(n(),i("div",kl,d(g.value),1)):w("",!0),t("button",{type:"button",class:"mt-6 w-full rounded-2xl bg-[#14B8A6] py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:v.value,onClick:ct},d(v.value?"Carregando‚Ä¶":"Adicionar meu primeiro gasto"),9,_l)]))]),y(Yt,{open:k.value,title:"Escolher banco",selected:A.value,onClose:o[16]||(o[16]=r=>k.value=!1),onSelect:wt},null,8,["open","selected"]),y(Yt,{open:rt.value,title:"Escolher banco do cart√£o",selected:F.value,onClose:o[17]||(o[17]=r=>rt.value=!1),onSelect:Lt},null,8,["open","selected"])])):w("",!0)}}),Cl={key:0,class:"rounded-2xl border-l-4 border-amber-500 bg-amber-50 p-4 shadow-sm ring-1 ring-amber-100"},Ml={class:"flex items-start gap-3"},Dl={class:"flex-1 min-w-0"},Bl={class:"mt-1 text-sm text-amber-800"},Sl={class:"mt-3 flex flex-wrap gap-2"},Al=Tt({__name:"InstitutionMissingAlert",props:{items:{}},emits:["fix-items","dismiss"],setup(Y,{emit:T}){const O=Y,I=T,b=u(()=>O.items.filter(h=>h.type==="account").length),v=u(()=>O.items.filter(h=>h.type==="card").length),g=u(()=>{const h=[];return b.value>0&&h.push(`${b.value} conta${b.value>1?"s":""}`),v.value>0&&h.push(`${v.value} cart√£o${v.value>1?"es":""}`),h.join(" e ")});return(h,M)=>Y.items.length>0?(n(),i("div",Cl,[t("div",Ml,[M[5]||(M[5]=pe('<div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-amber-100"><svg class="h-5 w-5 text-amber-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 9v4"></path><path d="M12 17h.01"></path><path d="M12 3c4.97 0 9 4.03 9 9s-4.03 9-9 9-9-4.03-9-9 4.03-9 9-9Z"></path></svg></div>',1)),t("div",Dl,[M[3]||(M[3]=t("h3",{class:"text-sm font-bold text-amber-900"}," A√ß√£o necess√°ria ",-1)),t("p",Bl," Voc√™ tem "+d(g.value)+" sem institui√ß√£o configurada. Configure agora para ver as logos dos bancos! ",1),t("div",Sl,[t("button",{type:"button",class:"rounded-lg bg-amber-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-amber-700",onClick:M[0]||(M[0]=$=>I("fix-items"))}," Configurar agora "),t("button",{type:"button",class:"rounded-lg border border-amber-300 bg-white px-4 py-2 text-sm font-semibold text-amber-900 transition hover:bg-amber-50",onClick:M[1]||(M[1]=$=>I("dismiss"))}," Lembrar depois ")])]),t("button",{type:"button",class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-amber-600 transition hover:bg-amber-100",onClick:M[2]||(M[2]=$=>I("dismiss")),"aria-label":"Fechar"},[...M[4]||(M[4]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])])])):w("",!0)}}),Nl={key:0,class:"fixed inset-0 z-[70]"},Fl={class:"absolute inset-0 w-full bg-white md:inset-auto md:left-1/2 md:top-1/2 md:max-h-[90vh] md:w-[600px] md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-3xl md:shadow-2xl"},jl={class:"flex h-full flex-col md:max-h-[90vh]"},Tl={class:"flex items-center justify-between border-b border-slate-100 px-6 py-4"},Il={class:"mt-1 text-sm text-slate-500"},Ll={class:"flex-1 overflow-y-auto px-6 py-4"},Pl={key:0,class:"flex h-full items-center justify-center py-12"},Vl={class:"text-center"},El={key:1,class:"space-y-3"},Rl={class:"flex items-start gap-3"},Ol=["innerHTML"],Ul={class:"flex-1 min-w-0"},zl={class:"text-sm font-semibold text-slate-900"},Kl={class:"mt-1 text-xs text-slate-500"},ql={class:"mt-3"},Hl=["onClick"],Gl={class:"flex min-w-0 items-center gap-3"},Jl={class:"min-w-0"},Yl={class:"truncate text-sm font-semibold text-slate-900"},Wl=["disabled","onClick"],Ql=Tt({__name:"FixInstitutionModal",props:{open:{type:Boolean},items:{}},emits:["close","updated"],setup(Y,{emit:T}){const O=Y,I=T,b=c({}),v=c(new Set),g=c(new Set),h=c(null),M=u(()=>O.items.filter(k=>!g.value.has(k.id))),$=async k=>{const _=b.value[k.id];if(_){v.value.add(k.id);try{const x=k.type==="account"?`/api/contas/${k.id}`:`/api/cartoes/${k.id}`;await E(x,{method:"PATCH",body:JSON.stringify({institution:_})}),g.value.add(k.id),I("updated")}catch(x){console.error("Erro ao salvar institui√ß√£o:",x)}finally{v.value.delete(k.id)}}},A=k=>k==="card"?`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="3" y="5" width="18" height="14" rx="3" />
      <path d="M3 10h18" />
    </svg>`:`<svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <path d="M3 10h18" />
    <path d="M5 10V8l7-5 7 5v2" />
    <path d="M6 10v9" />
    <path d="M18 10v9" />
  </svg>`,it=k=>{h.value=k},L=()=>{h.value=null},W=u(()=>h.value?b.value[h.value]??null:null);return(k,_)=>(n(),i(R,null,[Y.open?(n(),i("div",Nl,[t("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:_[0]||(_[0]=x=>k.$emit("close")),"aria-label":"Fechar"}),t("div",Fl,[t("div",jl,[t("header",Tl,[t("div",null,[_[4]||(_[4]=t("h2",{class:"text-lg font-bold text-slate-900"},"Configurar Institui√ß√µes",-1)),t("p",Il,d(M.value.length)+" "+d(M.value.length===1?"item pendente":"itens pendentes"),1)]),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl bg-slate-50 text-slate-600 transition hover:bg-slate-100",onClick:_[1]||(_[1]=x=>k.$emit("close")),"aria-label":"Fechar"},[..._[5]||(_[5]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",Ll,[M.value.length===0?(n(),i("div",Pl,[t("div",Vl,[_[6]||(_[6]=pe('<div class="mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-emerald-50"><svg class="h-8 w-8 text-emerald-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6 9 17l-5-5"></path></svg></div><h3 class="mt-4 text-lg font-semibold text-slate-900">Tudo configurado!</h3><p class="mt-2 text-sm text-slate-500">Todas as institui√ß√µes foram configuradas.</p>',3)),t("button",{type:"button",class:"mt-6 rounded-xl bg-emerald-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-emerald-700",onClick:_[2]||(_[2]=x=>k.$emit("close"))}," Fechar ")])])):(n(),i("div",El,[(n(!0),i(R,null,J(M.value,x=>(n(),i("div",{key:x.id,class:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm"},[t("div",Rl,[t("div",{class:P(["flex h-10 w-10 shrink-0 items-center justify-center rounded-xl",x.type==="card"?"bg-purple-50 text-purple-600":"bg-blue-50 text-blue-600"]),innerHTML:A(x.type)},null,10,Ol),t("div",Ul,[t("div",zl,d(x.name),1),t("div",Kl,d(x.type==="card"?"Cart√£o de cr√©dito":"Conta banc√°ria"),1),t("div",ql,[_[8]||(_[8]=t("label",{class:"block text-xs font-semibold uppercase tracking-wide text-slate-500"}," Institui√ß√£o ",-1)),t("button",{type:"button",class:"mt-2 flex w-full items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-3 text-left",onClick:F=>it(x.id)},[t("div",Gl,[y(Bt,{institution:b.value[x.id]??null,"svg-path":S(Dt)(b.value[x.id]??null),"fallback-icon":"account","container-class":"flex h-10 w-10 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-500"},null,8,["institution","svg-path"]),t("div",Jl,[t("div",Yl,d(b.value[x.id]||"Selecione o banco"),1)])]),_[7]||(_[7]=t("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1))],8,Hl)]),t("button",{type:"button",class:P(["mt-3 w-full rounded-xl py-2 text-sm font-semibold transition",b.value[x.id]&&!v.value.has(x.id)?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-400 cursor-not-allowed"]),disabled:!b.value[x.id]||v.value.has(x.id),onClick:F=>$(x)},d(v.value.has(x.id)?"Salvando...":"Salvar"),11,Wl)])])]))),128))]))])])])])):w("",!0),y(Yt,{open:!!h.value,title:"Institui√ß√£o financeira",selected:W.value,onClose:L,onSelect:_[3]||(_[3]=x=>{h.value&&(b.value[h.value]=x.nome),L()})},null,8,["open","selected"])],64))}}),Zl={key:0,class:"flex items-center justify-between pt-2"},Xl={class:"flex h-11 w-11 items-center justify-center overflow-hidden rounded-full bg-slate-200 text-sm font-semibold text-slate-700"},to=["src"],eo={key:1},so={class:"leading-tight"},lo={class:"text-xs font-semibold text-slate-400"},oo={class:"flex items-center gap-2"},ao={key:0,class:"absolute -right-0.5 -top-0.5 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-500 px-1.5 text-[10px] font-bold text-white"},no={class:"mt-6 rounded-3xl bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-5 shadow-lg ring-1 ring-slate-900/10"},io={class:"flex items-start justify-between gap-4"},ro={class:"mt-2 text-4xl font-semibold tracking-tight text-emerald-400"},uo={class:"flex items-center gap-2"},co=["aria-label"],mo={key:0,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},vo={key:1,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},po={class:"mt-4 grid grid-cols-2 gap-3"},xo={class:"mt-1 text-base font-semibold text-white"},fo={class:"mt-1 text-base font-semibold text-white"},bo={key:1,class:"mt-5"},go={key:2,class:"mt-5 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},ho={class:"flex items-center justify-between"},yo={key:0,class:"rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-500"},wo={key:1,class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600"},ko={key:0,class:"mt-4 rounded-lg border-l-4 border-red-500 bg-red-50 p-4 flex items-start gap-3"},_o={class:"flex-1"},$o={class:"mb-1 font-semibold text-red-900"},Co={class:"text-sm text-red-700"},Mo={key:1,class:"mt-4 rounded-lg border-l-4 border-emerald-500 bg-emerald-50 p-4 flex items-start gap-3"},Do={class:"flex-1"},Bo={class:"text-sm text-emerald-700"},So={key:2,class:"mt-4"},Ao={class:"relative mx-auto h-24"},No={class:"grid h-24 grid-cols-6 items-end gap-3"},Fo={class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-6 text-[10px] font-semibold text-slate-400"},jo={key:3,class:"mt-4"},To={class:"grid grid-cols-6 items-end gap-3"},Io={class:"text-[10px] font-semibold text-slate-400"},Lo={key:4,class:"mt-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},Po={key:3,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Vo={class:"flex items-center justify-between"},Eo={class:"mt-0.5 text-xs font-semibold text-slate-400"},Ro={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},Oo={key:1,class:"mt-4 space-y-3"},Uo={class:"flex items-center gap-3"},zo={class:"text-sm font-semibold text-slate-900"},Ko={class:"text-xs text-slate-500"},qo={class:"text-sm font-semibold text-slate-900"},Ho={key:4,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Go={class:"flex items-center justify-between"},Jo={class:"mt-0.5 text-xs font-semibold text-slate-400"},Yo={key:0,class:"mt-4 inline-flex w-full rounded-full bg-slate-50 p-1 ring-1 ring-slate-200/70"},Wo={key:1,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},Qo={key:2,class:"mt-4"},Zo={key:0,class:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},Xo={key:1,class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},ta={class:"relative z-10 flex h-full flex-col justify-between text-white",style:{"min-height":"180px"}},ea={class:"flex items-start justify-between"},sa={class:"flex items-center gap-3"},la={class:"text-sm font-semibold"},oa={key:0,class:"rounded bg-white/20 px-2 py-0.5 text-[9px] font-bold uppercase tracking-wide"},aa={class:"mt-4"},na={class:"mt-1 text-3xl font-bold tracking-tight"},ia={class:"mt-4 h-1.5 overflow-hidden rounded-full bg-white/30"},ra={class:"mt-2 flex items-center justify-between text-[11px] font-semibold"},da={class:"opacity-90"},ua={class:"opacity-90"},ca={key:0,class:"mt-3 flex items-center gap-1.5 text-[11px] font-semibold opacity-90"},ma={class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700"},va={class:"flex items-center justify-between"},pa={class:"text-slate-900"},xa={key:5,class:"mt-6"},fa={class:"flex items-center justify-between"},ba={key:0,class:"mt-4 space-y-3"},ga=["onClick"],ha={class:"flex h-14 w-14 flex-col items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/70"},ya={class:"text-[10px] font-semibold uppercase text-slate-400"},wa={class:"text-base font-semibold"},ka={class:"min-w-0 flex-1"},_a={class:"truncate text-sm font-semibold text-slate-900"},$a={class:"truncate text-xs text-slate-400"},Ca={class:"flex flex-col items-end gap-2 text-right"},Ma=["aria-label","onClick"],Da={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},Ba={class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Sa={class:"p-5"},Aa={class:"flex items-center justify-between"},Na={class:"mt-4"},Fa="kitamo:home_widgets",ve="kitamo:institution_alert_dismissed:v1",Wa=Tt({__name:"Dashboard",setup(Y){const T=Je(),O=u(()=>T.props.auth?.user?.name??"Gabriel"),I=u(()=>String(O.value).trim().split(/\s+/)[0]??O.value),b=u(()=>T.props?.auth?.user?.avatar_url??T.props?.auth?.user?.profile_photo_url??null),v=u(()=>T.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),g=as(),h=c({accounts:!0,creditCards:!0,projection:!0,upcomingBills:!0}),M=()=>{try{const e=localStorage.getItem(Fa);if(!e)return;const s=JSON.parse(e);h.value={...h.value,...s}}catch{}},$=c(0),A=async()=>{try{const e=await E(route("api.notifications.count-unread"));$.value=Number(e.count??0)}catch{}},it=u(()=>h.value.accounts),L=u(()=>h.value.creditCards),W=u(()=>h.value.projection),k=u(()=>h.value.upcomingBills),_=u(()=>{const e=String(O.value).trim().split(/\s+/).filter(Boolean),s=e[0]?.[0]??"G",l=e.length>1?e[e.length-1]?.[0]:"F";return`${s}${l}`.toUpperCase()}),x=u(()=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(new Date)),F=u(()=>g.value?ns:Xe),rt=u(()=>g.value?{showNav:!0}:{title:"Vis√£o Geral",subtitle:x.value,searchPlaceholder:"Buscar transa√ß√£o‚Ä¶",newActionLabel:"Nova Transa√ß√£o"}),Z=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),D=c(v.value.entries??[]),vt=c(v.value.goals??[]),X=e=>{let s=0,l=0;for(const a of e)a.kind==="income"?s+=a.amount:l+=a.amount;return{income:s,expense:l,balance:s-l}},tt=c(0),et=c(0),yt=c(0),j=c(!1),dt=c(!1);c(!1);const St=u(()=>{const e=T.props?.auth?.user??null;if(!e)return!1;const s=e.onboarding_completed_at;if(s)return!1;const l=e.created_at,a=l?new Date(l):null,f=new Date("2026-01-29T00:00:00");return s==null&&a&&Number.isFinite(a.getTime())&&a<f?!1:s==null}),pt=c(St.value),xt=c(!1),st=c(!1),It=()=>(v.value.accounts??[]).filter(e=>e.type!=="credit_card").filter(e=>e.incluir_soma??!0).reduce((e,s)=>e+Number(s.current_balance??0),0),lt=()=>{const e=X(D.value);tt.value=It(),et.value=e.income,yt.value=e.expense};lt();const wt=e=>j.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":Z(e),Lt=e=>{j.value=e;try{localStorage.setItem("kitamo_hide_values",e?"1":"0")}catch{}};try{j.value=localStorage.getItem("kitamo_hide_values")==="1"}catch{}const ut=e=>{if(!e)return null;const s=String(e).split("-").map(p=>Number(p));if(s.length!==3)return null;const[l,a,f]=s;if(!Number.isFinite(l)||!Number.isFinite(a)||!Number.isFinite(f))return null;const m=new Date(l,a-1,f);return Number.isFinite(m.getTime())?m:null},kt=u(()=>{const e=D.value;if(!e.length)return[];const s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],l=new Date,a=Array.from({length:6},(m,p)=>{const B=new Date(l.getFullYear(),l.getMonth()-(5-p),1);return{key:`${B.getFullYear()}-${B.getMonth()+1}`,label:s[B.getMonth()],total:0,highlight:p===5}});for(const m of e){if(!m.transactionDate)continue;const p=ut(m.transactionDate)??new Date(m.transactionDate),B=`${p.getFullYear()}-${p.getMonth()+1}`,K=a.find(Gt=>Gt.key===B);K&&(K.total+=m.kind==="income"?m.amount:-m.amount)}const f=Math.max(...a.map(m=>Math.abs(m.total)),1);return a.map(m=>{const p=Math.abs(m.total)/f,B=Math.round(70+p*90),K=p>.66?"bg-[#14B8A6]":p>.33?"bg-[#34D399]":"bg-[#A7F3D0]";return{label:m.label,height:B,amount:Math.abs(m.total),tone:K,highlight:m.highlight}})}),Pt=e=>{const s=new Intl.DateTimeFormat("pt-BR",{month:"short"});return e.filter(l=>l.kind==="expense").filter(l=>!!l.transactionDate).filter(l=>l.status!=="paid").map(l=>{const a=ut(l.transactionDate)??new Date,f=s.format(a).replace(".","").toLowerCase(),m=String(a.getDate()).padStart(2,"0");return{id:l.id,month:f,day:m,title:l.title,subtitle:l.categoryLabel,amountLabel:Z(l.amount),paid:l.status==="paid",_date:a}}).sort((l,a)=>l._date.getTime()-a._date.getTime()).slice(0,3)},At=u(()=>Pt(D.value));u(()=>D.value.filter(e=>!!e.transactionDate).sort((e,s)=>{const l=ut(e.transactionDate)??new Date;return(ut(s.transactionDate)??new Date).getTime()-l.getTime()}).slice(0,5));const _t=u(()=>(v.value.accounts??[]).filter(e=>e.type!=="credit_card").map(e=>{const s=e.institution??null,l=e.svgPath??null;return{id:e.id,label:e.name,subtitle:"Saldo atual",amount:e.current_balance,color:e.color??(e.type==="wallet"?"#14B8A6":"#3B82F6"),institution:s,svgPath:l??(s?Dt(s):null),type:e.type,icon:e.icon??(e.type==="wallet"?"wallet":"bank")}})),Vt=u(()=>{const e=_t.value.length||0;return`${e}¬†conta${e===1?"":"s"}`}),ot=u(()=>(v.value.accounts??[]).filter(e=>e.type==="credit_card").map(e=>{const s=e.institution??null,l=e.svgPath??null,a=s??e.name??null;return{id:e.id,label:e.name,brand:e.card_brand??"visa",color:e.color??"#8B5CF6",limit:Number(e.credit_limit??0),used:Math.max(0,Number(e.current_balance??0)),closingDay:Number(e.closing_day??0)||null,dueDay:Number(e.due_day??0)||null,institution:s,svgPath:l??(a?Dt(a):null),is_primary:!!(e.is_primary??!1)}})),ct=c([]),$t=async()=>{if(!(ot.value.length>0))try{const e=await E("/api/cartoes",{method:"GET"});ct.value=e.cartoes??[]}catch{ct.value=[]}},U=c("all"),C=e=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(e),o=(e,s)=>{const l=s.getFullYear(),a=s.getMonth(),m=s.getDate()<=e?a:a+1,p=new Date(l,m+1,0).getDate(),B=Math.min(e,p);return new Date(l,m,B)},r=(e,s)=>e?s.getDate()>e:!1,z=u(()=>{const e=new Date;return(ot.value.length>0?ot.value.map(l=>({id:l.id,label:l.label,brand:l.brand,color:l.color,limit:l.limit,used:l.used,closingDay:l.closingDay,dueDay:l.dueDay,institution:l.institution??null,svgPath:l.svgPath??null,is_primary:l.is_primary??!1})):ct.value.map(l=>({id:l.id,label:l.nome,brand:l.bandeira,color:l.cor,limit:l.limite,used:l.limite_usado??0,closingDay:l.dia_fechamento??null,dueDay:l.dia_vencimento??null,institution:l.banco??null,svgPath:l.svgPath??null,is_primary:l.is_primary??!1}))).map(l=>{const a=l.limit>0?Math.min(100,Math.max(0,l.used/l.limit*100)):0,f=l.limit>0?Math.max(0,l.limit-l.used):0,m=r(l.closingDay,e),p=l.closingDay?o(l.closingDay,e):null;return{...l,percent:a,available:f,closed:m,closingDateLabel:p?C(p):null,percentLabel:`${a.toFixed(2)}%`,brandLabel:l.brand==="mastercard"?"Mastercard":l.brand==="elo"?"Elo":l.brand==="amex"?"Amex":"Visa"}}).filter(l=>U.value==="all"?!0:U.value==="open"?!l.closed:l.closed)}),Nt=u(()=>{const e=ot.value.length>0?ot.value.length:0,s=ct.value.length>0?ct.value.length:0;return e>0?e:s}),xe=u(()=>{const e=Nt.value||0;return`${e}¬†cart√£o${e===1?"":"s"}`}),fe=u(()=>z.value.reduce((e,s)=>e+(s.used||0),0));u(()=>(v.value.accounts??[]).slice(0,3).map(e=>({id:e.id,name:e.name,subtitle:e.type==="credit_card"?"Fatura aberta":"Saldo atual",amount:e.current_balance??0,type:e.type})));const N=u(()=>T.props.projecao??null),be=u(()=>!!N.value?.projecao_diaria?.length),ge=e=>{const[s,l,a]=e.split("-");return!s||!l||!a?e:`${a}/${l}`},he=e=>{const[s,l,a]=e.split("-").map(B=>B.trim()),f=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],m=Number(l)-1,p=f[m]??l;return`${a}/${p}`},ye=e=>{const s=String(e??"").trim().match(/^(\d{2})\/(\d{2})$/);if(!s)return"";const[,l,a]=s,f=Number(a)-1;if(!Number.isFinite(f)||f<0||f>11)return"";const m=new Date(new Date().getFullYear(),f,Number(l)||1),p=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(m);return p?p.charAt(0).toUpperCase()+p.slice(1):""},Wt=u(()=>{const e=N.value?.primeiro_dia_negativo;return e?ye(e):""}),Ft=u(()=>{if(!N.value)return null;const e=N.value.projecao_diaria??[];if(!e.length)return null;const s=6,a=(e.length<=s?e.map((q,bt)=>bt):Array.from({length:s},(q,bt)=>Math.round(bt*(e.length-1)/(s-1)))).map(q=>e[q]).filter(Boolean),f=a.map(q=>q.saldo),m=Math.max(0,...f),p=Math.min(0,...f),B=96,K=Math.round(m===0&&p===0?B/2:m/(m-p)*B),Gt=m>0?K/m:0,ze=p<0?(B-K)/Math.abs(p):0,oe=N.value.primeiro_dia_negativo;return{bars:a.map(q=>{const bt=ge(q.data),Ke=!!(oe&&bt===oe),gt=q.saldo,qe=gt<0?"bg-[#EF4444]":"bg-[#14B8A6]",ae=gt>=0?Math.round(gt*Gt):Math.round(Math.abs(gt)*ze),He=gt>=0?Math.max(0,K-ae):K;return{key:q.data,label:bt,labelShort:he(q.data),saldo:gt,tone:qe,heightPx:Math.max(2,ae),topPx:He,showCriticalBadge:Ke}}),baselinePx:K,chartHeight:B}});u(()=>D.value.length>0),u(()=>vt.value.length>0);const we=u(()=>kt.value.length>0),ke=u(()=>At.value.length>0),Et=c(!1),Qt=c(""),at=e=>{Qt.value=e,Et.value=!0},Rt=c(!1),Ot=c(!1),Ut=c(!1),_e=async e=>{try{await E("/api/cartoes",{method:"POST",body:JSON.stringify({...e,icone:"credit-card"})}),at("Cart√£o adicionado com sucesso!"),Ot.value=!1,await $t(),mt.reload()}catch{at("N√£o foi poss√≠vel adicionar o cart√£o")}},$e=async()=>{await $t(),mt.reload()},Zt=e=>{const s=D.value.findIndex(l=>l.id===e.id);s>=0?D.value[s]=e:D.value.unshift(e),lt()},Ce=e=>{D.value=D.value.filter(s=>s.id!==e),lt()},Me=e=>({kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",isPaid:e.status==="paid"||e.status==="received",isInstallment:!!e.installment,installmentCount:e.installment?se(e.installment):void 0,tags:e.tags??[]}),zt=c(!1),Kt=c(null),ft=c(!1),Ct=c(null),De=e=>{if(!e)return"";const s=ut(e)??new Date(e);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(s)},Be=e=>{const s=e.toLowerCase();return s.includes("carteira")||s.includes("wallet")?"wallet":s.includes("card")||s.includes("cr√©dito")||s.includes("credito")?"card":"bank"},Se=e=>{const s=(e.icon??"").toLowerCase();if(["food","home","car","game","heart","briefcase","pill","money","trend","bolt","cart","shirt","gym","sparkles"].includes(s))return s;const l=(e.categoryLabel??"").toLowerCase();return l.includes("alimenta√ß√£o")||l.includes("comida")?"cart":l.includes("moradia")||l.includes("home")?"home":l.includes("transporte")||l.includes("carro")?"car":l.includes("lazer")||l.includes("game")?"sparkles":l.includes("sa√∫de")||l.includes("health")?"heart":l.includes("sal√°rio")||l.includes("renda")?"money":l.includes("trabalho")||l.includes("freelance")?"briefcase":"bolt"},Ae=u(()=>{const e=l=>{const a=l.toLowerCase();return a.includes("aliment")?"amber":a.includes("mora")||a.includes("casa")?"blue":a.includes("transp")||a.includes("uber")||a.includes("car")?"slate":a.includes("lazer")?"purple":a.includes("sa√∫d")||a.includes("saude")?"red":a.includes("estud")?"green":"slate"},s=new Map;for(const l of v.value.categories??[]){const a=l.name,f=l.icon??"other",m=l.type==="income"?"income":l.type==="expense"?"expense":void 0,p=s.get(a),B=p?.kind&&m&&p.kind!==m?void 0:p?.kind??m;s.set(a,{label:a,icon:p?.icon&&p.icon!=="other"?p.icon:f,kind:B,customColor:p?.customColor??(l.color||void 0),tone:p?.tone??(!l.icon||/^[a-z]+$/.test(l.icon)?e(a):void 0)})}return s.size?Array.from(s.values()).map(l=>({key:l.label,label:l.label,icon:l.icon,customColor:l.customColor,tone:l.tone,kind:l.kind})):[]}),Xt=u(()=>{const e=[];for(const s of v.value.accounts??[])s.type!=="credit_card"&&e.push({key:s.name,label:s.name,subtitle:s.type==="wallet"?"Dinheiro f√≠sico":s.type==="bank"?"Corrente":"Conta",balance:Number(s.current_balance??0),icon:s.icon??void 0,customColor:s.color,type:s.type});for(const s of v.value.accounts??[]){if(s.type!=="credit_card")continue;const l=Number(s.credit_limit??0),a=Math.max(0,Number(s.current_balance??0));e.push({key:s.name,label:s.name,subtitle:"Cart√£o de Cr√©dito",limit:l,used:a,available:l-a,icon:s.icon??void 0,customColor:s.color,type:"credit_card"})}return e}),Ne=u(()=>{const e=Ct.value;if(!e)return null;const s=new Map((v.value.categories??[]).map(m=>[`${m.type??""}|${String(m.name??"").toLowerCase()}`,m])),l=e.kind==="income"?"income":"expense",a=s.get(`${l}|${String(e.categoryLabel??"").toLowerCase()}`)??null,f=(v.value.accounts??[]).find(m=>m.name===e.accountLabel)??null;return{id:e.id,title:e.title,amount:e.amount,kind:e.kind,status:e.status,categoryLabel:e.categoryLabel,categoryIcon:a?.icon??Se(e),categoryColor:a?.color??null,accountLabel:e.accountLabel,accountIcon:Be(e.accountLabel),accountType:f?.type??null,accountInstitution:f?.institution??null,accountSvgPath:f?.svgPath??null,accountColor:f?.color??null,accountSystemIcon:f?.icon??null,dateLabel:De(e.transactionDate)||e.dateLabel,installmentLabel:e.installment??void 0,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null}}),Mt=c(!1),qt=c("expense"),jt=c(null),te=c(!1),ee=e=>{qt.value=e,jt.value=null,te.value=!1,Mt.value=!0},se=e=>{if(!e)return 3;const s=e.match(/\/\s*(\d+)/);if(!s)return 3;const l=Number(s[1]);return Number.isFinite(l)&&l>0?l:3},Fe=e=>{const s=(()=>{const a=Xt.value.filter(p=>p.type!=="credit_card").map(p=>p.key),f=a[0]??e.accountLabel??"",m=a.find(p=>p!==f)??f;return{from:f,to:m}})();qt.value=e.kind;const l={id:e.id,kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",transactionDate:e.transactionDate??"",isInstallment:!!e.installment,installmentCount:se(e.installment),isPaid:e.status==="paid"||e.status==="received",tags:e.tags??[],receiptFile:null,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null,removeReceipt:!1,transferFrom:s.from,transferTo:s.to,transferDescription:"",despesaFixa:!!e.isFixed,repetir:!!e.isRecurring&&!e.isFixed,recurrenceGroupId:e.recurrenceGroupId??null,isFixed:!!e.isFixed,recurrenceEveryMonths:e.recurrenceEveryMonths??null,recurrenceEndsAt:e.recurrenceEndsAt??null};if(g.value){jt.value=l,Mt.value=!0;return}jt.value=l,Mt.value=!0},je=e=>{if(g.value){Ct.value=e,ft.value=!0;return}Ct.value=e,ft.value=!0,Kt.value=e,zt.value=!0},le=()=>{const e=g.value?Ct.value:Kt.value;e&&(zt.value=!1,ft.value=!1,Fe(e))},Te=async()=>{const e=g.value?Ct.value:Kt.value;e&&(await E(route("transactions.destroy",e.id),{method:"DELETE"}),Ce(e.id),zt.value=!1,ft.value=!1,at("Lan√ßamento exclu√≠do"))},Ie=async e=>{if(e.kind==="transfer"){try{await ss(e),at("Transfer√™ncia realizada"),mt.reload({only:["bootstrap"]})}catch{at("N√£o foi poss√≠vel realizar a transfer√™ncia")}return}const s=e.id?route("transactions.update",e.id):route("transactions.store"),l=e.id?"PATCH":"POST",a=await(re(e)?ts:E)(s,{method:l,body:re(e)?ls(e):JSON.stringify(os(e))});Zt(a.entry),at(e.id?"Lan√ßamento atualizado":"Lan√ßamento criado")},Le=async e=>{const s=D.value.find(m=>m.id===e);if(!s||s.kind!=="expense")return;const l=s.status==="paid"?"pending":"paid",a={...Me({...s,status:l}),isPaid:l==="paid"},f=await E(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});Zt(f.entry),l==="paid"&&at("Conta marcada como paga"),mt.reload({only:["bootstrap"]})},Pe=e=>{const s=D.value.find(l=>l.id===e);s&&je(s)},Ve=()=>{mt.visit(route("settings"))},Ht=u(()=>{const e=[];for(const s of v.value.accounts??[])s.type!=="credit_card"&&s.type!=="wallet"&&!s.institution&&e.push({id:s.id,name:s.name,type:"account"});for(const s of v.value.accounts??[])s.type==="credit_card"&&!s.institution&&e.push({id:s.id,name:s.name,type:"card"});return e}),Ee=u(()=>Ht.value.length>0&&!st.value),Re=()=>{xt.value=!0},Oe=()=>{st.value=!0;try{localStorage.setItem(ve,"1")}catch{}},Ue=()=>{mt.reload()};return Ye(()=>{M(),$t(),A();try{localStorage.removeItem("kitamo:onboarding:v1")}catch{}try{st.value=localStorage.getItem(ve)==="1"}catch{}}),(e,s)=>(n(),Jt(Ze(F.value),Qe(rt.value,{onAdd:s[19]||(s[19]=l=>ee("expense"))}),{default:V(()=>[S(g)?(n(),i("header",Zl,[t("button",{type:"button",onClick:Ve,class:"flex items-center gap-3","aria-label":"Abrir perfil"},[t("span",Xl,[b.value?(n(),i("img",{key:0,src:b.value,alt:"",class:"h-full w-full object-cover"},null,8,to)):(n(),i("span",eo,d(_.value),1))]),t("div",so,[t("div",lo,"OL√Å, "+d(I.value.toUpperCase()),1),s[20]||(s[20]=t("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"Vis√£o Geral",-1))])]),t("div",oo,[y(S(Q),{href:e.route("notifications.index"),class:"relative flex h-11 w-11 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60 hover:bg-slate-50","aria-label":"Notifica√ß√µes"},{default:V(()=>[$.value>0?(n(),i("span",ao,d($.value>9?"9+":$.value),1)):w("",!0),s[21]||(s[21]=t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 7 3 7H3s3 0 3-7"}),t("path",{d:"M10 21a2 2 0 0 0 4 0"})],-1))]),_:1},8,["href"])])])):w("",!0),t("section",no,[t("div",io,[t("div",null,[s[22]||(s[22]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-300"},"Saldo Total",-1)),t("div",ro,d(wt(tt.value)),1)]),t("div",uo,[t("button",{type:"button",class:"mt-1 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/10","aria-label":j.value?"Mostrar valores":"Ocultar valores",onClick:s[0]||(s[0]=l=>Lt(!j.value))},[j.value?(n(),i("svg",mo,[...s[23]||(s[23]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("path",{d:"M12 15a3 3 0 1 0 0-6"},null,-1),t("path",{d:"M4 4l16 16"},null,-1)])])):(n(),i("svg",vo,[...s[24]||(s[24]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,co)])]),t("div",po,[y(S(Q),{href:e.route("accounts.index",{kind:"income"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver receitas"},{default:V(()=>[s[25]||(s[25]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-emerald-300"},[t("span",null,"Entrou"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",xo,d(wt(et.value)),1)]),_:1},8,["href"]),y(S(Q),{href:e.route("accounts.index",{kind:"expense"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver despesas"},{default:V(()=>[s[26]||(s[26]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-red-300"},[t("span",null,"Saiu"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",fo,d(wt(yt.value)),1)]),_:1},8,["href"])])]),Ee.value?(n(),i("section",bo,[y(Al,{items:Ht.value,onFixItems:Re,onDismiss:Oe},null,8,["items"])])):w("",!0),W.value?(n(),i("section",go,[t("div",ho,[s[27]||(s[27]=t("div",{class:"flex items-center gap-3"},[t("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-600"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])]),t("div",{class:"text-base font-semibold text-slate-900"},"Proje√ß√£o 30 dias")],-1)),N.value?.primeiro_dia_negativo?(n(),i("div",yo," ‚ö†Ô∏è "+d(Wt.value||N.value.primeiro_dia_negativo),1)):N.value&&N.value.saldo_dia_30>0?(n(),i("div",wo," ‚úÖ "+d(Z(Math.abs(N.value.saldo_dia_30))),1)):w("",!0)]),N.value?.primeiro_dia_negativo?(n(),i("div",ko,[s[29]||(s[29]=t("div",{class:"text-xl text-red-500"},"‚ö†Ô∏è",-1)),t("div",_o,[t("h3",$o," Aten√ß√£o: Seu saldo pode ficar negativo em "+d(Wt.value||"breve"),1),t("p",Co," No ritmo atual, seu saldo pode ficar negativo a partir do dia "+d(N.value.primeiro_dia_negativo)+". ",1),y(S(Q),{href:e.route("analysis"),class:"mt-2 inline-flex text-sm font-medium text-red-600 hover:underline"},{default:V(()=>[...s[28]||(s[28]=[G(" Ver an√°lise detalhada ‚Üí ",-1)])]),_:1},8,["href"])])])):N.value&&N.value.saldo_dia_30>0?(n(),i("div",Mo,[s[31]||(s[31]=t("div",{class:"text-xl text-emerald-600"},"‚úÖ",-1)),t("div",Do,[s[30]||(s[30]=t("h3",{class:"mb-1 font-semibold text-emerald-900"},"T√° tranquilo!",-1)),t("p",Bo," Voc√™ pode gastar at√© "+d(Z(Math.abs(N.value.saldo_dia_30)))+" at√© o fim do m√™s ",1)])])):w("",!0),be.value&&Ft.value?(n(),i("div",So,[t("div",Ao,[t("div",{class:"pointer-events-none absolute left-0 right-0 border-t-2 border-dashed border-[#EF4444]",style:nt({top:`${Ft.value.baselinePx}px`})},null,4),t("div",{class:"pointer-events-none absolute right-0 -translate-y-1/2 text-[10px] font-semibold text-[#EF4444]",style:nt({top:`${Ft.value.baselinePx}px`})}," Saldo zero ",4),t("div",No,[(n(!0),i(R,null,J(Ft.value.bars,l=>(n(),i("div",{key:l.key,class:"relative h-24 text-center"},[l.showCriticalBadge?(n(),i("div",{key:0,class:"absolute left-1/2 -translate-x-1/2 rounded-full bg-red-50 px-2 py-1 text-[10px] font-semibold text-red-600",style:nt({top:`${Math.max(0,l.topPx-22)}px`})}," ‚ö†Ô∏è "+d(l.labelShort),5)):w("",!0),t("div",{class:P(["mx-auto w-8 rounded-2xl",l.tone]),style:nt({height:`${l.heightPx}px`,position:"absolute",left:"50%",transform:"translateX(-50%)",top:`${l.topPx}px`})},null,6),t("div",Fo,d(l.labelShort),1)]))),128))])])])):we.value?(n(),i("div",jo,[t("div",To,[(n(!0),i(R,null,J(kt.value,l=>(n(),i("div",{key:l.label,class:"text-center"},[t("div",Io,d(j.value?"‚Ä¢‚Ä¢‚Ä¢‚Ä¢":Z(l.amount).replace("R$","").trim()),1),t("div",{class:P(["mx-auto mt-2 w-8 rounded-2xl",l.tone]),style:nt({height:`${l.height}px`})},null,6),t("div",{class:P(["mt-2 text-[10px] font-semibold",l.highlight?"text-emerald-600":"text-slate-400"])},d(l.label),3)]))),128))])])):(n(),i("div",Lo,[...s[32]||(s[32]=[t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])],-1),t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Sem proje√ß√µes ainda",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione seus primeiros lan√ßamentos para ver o fluxo.",-1)])]))])):w("",!0),it.value?(n(),i("section",Po,[t("div",Vo,[t("div",null,[s[33]||(s[33]=t("div",{class:"text-lg font-semibold text-slate-900"},"Contas",-1)),t("div",Eo,d(Vt.value),1)]),y(S(Q),{href:e.route("accounts.overview"),class:"rounded-2xl px-3 py-2 text-sm font-semibold text-emerald-600 hover:bg-slate-50"},{default:V(()=>[...s[34]||(s[34]=[G(" Ver todas ",-1)])]),_:1},8,["href"])]),_t.value.length===0?(n(),i("div",Ro,[s[35]||(s[35]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 10h18"}),t("path",{d:"M5 10V8l7-5 7 5v2"}),t("path",{d:"M6 10v9"}),t("path",{d:"M18 10v9"})])],-1)),s[36]||(s[36]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui contas cadastradas.",-1)),s[37]||(s[37]=t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione uma conta para come√ßar a planejar seu m√™s.",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[1]||(s[1]=l=>Rt.value=!0)}," Adicionar contas ")])):(n(),i("div",Oo,[(n(!0),i(R,null,J(_t.value,l=>(n(),Jt(S(Q),{key:l.id,href:e.route("accounts.show",{accountKey:l.id}),class:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},{default:V(()=>[t("div",Uo,[y(Bt,{institution:l.institution??l.label,"svg-path":l.svgPath,"is-wallet":l.type==="wallet"||l.icon==="wallet","fallback-icon":l.type==="wallet"||l.icon==="wallet"?"wallet":"account","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-8 w-8 object-contain","fallback-icon-class":"h-5 w-5 text-white",style:nt(l.svgPath?void 0:{backgroundColor:l.color})},null,8,["institution","svg-path","is-wallet","fallback-icon","style"]),t("div",null,[t("div",zo,d(l.label),1),t("div",Ko,d(l.subtitle),1)])]),t("div",qo,d(j.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${l.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)]),_:2},1032,["href"]))),128))]))])):w("",!0),L.value?(n(),i("section",Ho,[t("div",Go,[t("div",null,[s[38]||(s[38]=t("div",{class:"text-lg font-semibold text-slate-900"},"Cart√µes de cr√©dito",-1)),t("div",Jo,d(xe.value),1)]),y(S(Q),{href:e.route("credit-cards.my-cards"),class:"text-sm font-semibold text-emerald-600"},{default:V(()=>[...s[39]||(s[39]=[G("Ver todas",-1)])]),_:1},8,["href"])]),Nt.value>0?(n(),i("div",Yo,[t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",U.value==="all"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[2]||(s[2]=l=>U.value="all")}," Todas ",2),t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",U.value==="open"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[3]||(s[3]=l=>U.value="open")}," Faturas abertas ",2),t("button",{type:"button",class:P(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",U.value==="closed"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[4]||(s[4]=l=>U.value="closed")}," Faturas fechadas ",2)])):w("",!0),ot.value.length===0?(n(),i("div",Wo,[s[40]||(s[40]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),t("path",{d:"M3 10h18"})])],-1)),s[41]||(s[41]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Voc√™ ainda n√£o possui cart√µes cadastrados.",-1)),s[42]||(s[42]=t("div",{class:"mt-1 text-xs text-slate-500"},"Melhore seu controle financeiro agora!",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[5]||(s[5]=l=>Ut.value=!0)}," Adicionar cart√µes ")])):(n(),i("div",Qo,[z.value.length===0?(n(),i("div",Zo,[...s[43]||(s[43]=[t("div",{class:"text-sm font-semibold text-slate-900"},"Nada por aqui.",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Quando houver cart√µes com esse status, eles aparecem aqui.",-1)])])):(n(),i("div",Xo,[(n(!0),i(R,null,J(z.value,l=>(n(),Jt(S(Q),{key:l.id,href:e.route("credit-cards.show",{account:l.id}),class:"relative shrink-0 overflow-hidden rounded-3xl p-5 shadow-lg transition hover:shadow-xl",style:nt({backgroundColor:l.color,width:"320px"})},{default:V(()=>[t("div",ta,[t("div",ea,[t("div",sa,[y(Bt,{institution:l.institution??l.label,"svg-path":l.svgPath,"fallback-icon":"credit-card","container-class":"flex h-11 w-11 items-center justify-center overflow-hidden rounded-2xl bg-white","img-class":"h-7 w-7 object-contain","fallback-icon-class":"h-5 w-5 text-slate-600"},null,8,["institution","svg-path"]),t("span",la,d(l.label),1)]),l.is_primary?(n(),i("span",oa," PRINCIPAL ")):w("",!0)]),t("div",aa,[s[45]||(s[45]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide opacity-90"},"FATURA ATUAL",-1)),t("div",na,d(j.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":Z(l.used).replace("R$","R$")),1),t("div",ia,[t("div",{class:"h-full rounded-full bg-white",style:nt({width:`${l.percent}%`})},null,4)]),t("div",ra,[t("span",da," Limite: "+d(j.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${l.limit.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`),1),t("span",ua,d(Math.round(l.percent))+"%",1)]),l.dueDay?(n(),i("div",ca,[s[44]||(s[44]=t("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),t("path",{d:"M16 2v4"}),t("path",{d:"M8 2v4"}),t("path",{d:"M3 10h18"})],-1)),t("span",null,"Vence dia "+d(l.dueDay),1)])):w("",!0)])])]),_:2},1032,["href","style"]))),128))])),t("div",ma,[t("div",va,[s[46]||(s[46]=t("span",null,"Total (todos cart√µes)",-1)),t("span",pa,d(j.value?"R$ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢":`R$ ${fe.value.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)])])]))])):w("",!0),k.value?(n(),i("section",xa,[t("div",fa,[s[48]||(s[48]=t("div",{class:"text-lg font-semibold text-slate-900"},"A Vencer",-1)),y(S(Q),{href:e.route("accounts.index"),class:"text-sm font-semibold text-emerald-600"},{default:V(()=>[...s[47]||(s[47]=[G("Ver todas",-1)])]),_:1},8,["href"])]),ke.value?(n(),i("div",ba,[(n(!0),i(R,null,J(At.value,l=>(n(),i("div",{key:l.id,class:"flex items-center gap-4 rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60 cursor-pointer hover:bg-slate-50 active:bg-slate-100 transition-colors",onClick:a=>Pe(l.id)},[t("div",ha,[t("div",ya,d(l.month),1),t("div",wa,d(l.day),1)]),t("div",ka,[t("div",_a,d(l.title),1),t("div",$a,d(l.subtitle),1)]),t("div",Ca,[t("div",{class:P(["text-sm font-semibold",l.paid?"text-emerald-600 line-through":"text-red-500"])}," - "+d(l.amountLabel),3),t("button",{type:"button",class:P(["flex h-6 w-6 items-center justify-center rounded-full border-2",l.paid?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":l.paid?"Marcar como n√£o paga":"Marcar como paga",onClick:We(a=>Le(l.id),["stop"])},[l.paid?(n(),i("svg",Da,[...s[49]||(s[49]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):w("",!0)],10,Ma)])],8,ga))),128))])):w("",!0)])):w("",!0),t("section",Ba,[t("button",{type:"button",class:"flex w-full items-center justify-between rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/60",onClick:s[6]||(s[6]=l=>dt.value=!0)},[...s[50]||(s[50]=[t("div",{class:"flex items-center gap-4"},[t("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"8",height:"8",rx:"2"}),t("rect",{x:"13",y:"3",width:"8",height:"5",rx:"2"}),t("rect",{x:"13",y:"10",width:"8",height:"11",rx:"2"}),t("rect",{x:"3",y:"13",width:"8",height:"8",rx:"2"})])]),t("div",null,[t("div",{class:"text-sm font-semibold text-slate-900"},"Gerencie sua tela inicial aqui"),t("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Escolha o que aparece na Home.")])],-1),t("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])])]),y(es,{open:Mt.value,kind:qt.value,initial:jt.value,categories:Ae.value,accounts:Xt.value,tags:v.value.tags,"lock-kind":te.value,onClose:s[7]||(s[7]=l=>Mt.value=!1),onSave:Ie},null,8,["open","kind","initial","categories","accounts","tags","lock-kind"]),y(ds,{open:Ot.value,onClose:s[8]||(s[8]=l=>Ot.value=!1),onSave:_e},null,8,["open"]),y(cs,{open:Rt.value,onClose:s[9]||(s[9]=l=>Rt.value=!1),onToast:at},null,8,["open"]),y(ms,{open:Ut.value,onClose:s[10]||(s[10]=l=>Ut.value=!1),onSave:$e},null,8,["open"]),y(is,{open:ft.value,transaction:Ne.value,onClose:s[11]||(s[11]=l=>ft.value=!1),onEdit:le,onDelete:Te,onDuplicate:le},null,8,["open","transaction"]),y(vs,{show:dt.value,maxWidth:"md",onClose:s[13]||(s[13]=l=>dt.value=!1)},{default:V(()=>[t("div",Sa,[t("div",Aa,[s[52]||(s[52]=t("div",{class:"text-lg font-semibold text-slate-900"},"Tela inicial",-1)),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/60","aria-label":"Fechar",onClick:s[12]||(s[12]=l=>dt.value=!1)},[...s[51]||(s[51]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",Na,[y(ps)])])]),_:1},8,["show"]),y(rs,{show:Et.value,message:Qt.value,onDismiss:s[14]||(s[14]=l=>Et.value=!1)},null,8,["show","message"]),y($l,{open:pt.value,onClose:s[15]||(s[15]=l=>pt.value=!1),onDone:s[16]||(s[16]=l=>pt.value=!1),onAddFirstExpense:s[17]||(s[17]=l=>ee("expense"))},null,8,["open"]),y(Ql,{open:xt.value,items:Ht.value,onClose:s[18]||(s[18]=l=>xt.value=!1),onUpdated:Ue},null,8,["open","items"])]),_:1},16))}});export{Wa as default};
