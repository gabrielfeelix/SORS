import{d as S,g as r,i as F,e,s as q,t as f,o as d,h as x,c as h,x as j,I as D,F as C,r as A,j as V,p as O,b as E,n as _,f as N}from"./app-nPHX7zkZ.js";import{m as R,p as I,f as T}from"./inputGuards-BV9ov3X1.js";import{r as J}from"./DesktopShell.vue_vue_type_script_setup_true_lang-Dx7t6K8R.js";import{a as K}from"./InstitutionAvatar.vue_vue_type_script_setup_true_lang-WZ7dJzJM.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={key:0,class:"fixed inset-0 z-[60]"},P={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},H={class:"flex h-full flex-col"},Q={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},W={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},X={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-white p-4"},Y={class:"flex items-center gap-2"},Z={class:"text-2xl"},ee={class:"font-semibold text-slate-900"},te=S({__name:"CreateAccountStep2",props:{open:{type:Boolean},banco:{}},emits:["back","close","selectMethod"],setup(u,{emit:g}){const c=g;return(v,o)=>u.open?(d(),r("div",G,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:o[0]||(o[0]=i=>v.$emit("close")),"aria-label":"Fechar"}),e("div",P,[e("div",H,[e("header",Q,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:o[1]||(o[1]=i=>v.$emit("back")),"aria-label":"Voltar"},[...o[4]||(o[4]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),o[6]||(o[6]=e("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[e("div",{class:"text-[14px] font-bold text-[#1F2937]"},"Nova conta")],-1)),e("button",{class:"ml-auto h-6 w-6 text-[#6B7280]",type:"button",onClick:o[2]||(o[2]=i=>v.$emit("close")),"aria-label":"Fechar"},[...o[5]||(o[5]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",W,[u.banco?(d(),r("div",X,[e("div",Y,[e("span",Z,f(u.banco.logo),1),e("span",ee,f(u.banco.nome),1)])])):F("",!0),o[8]||(o[8]=q('<div class="mt-6"><div class="text-sm font-semibold text-slate-900">De que forma voc√™ quer adicionar essa conta?</div></div><button type="button" disabled class="mt-4 w-full cursor-not-allowed rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-4 text-left opacity-50"><div class="flex items-center justify-between gap-3"><div class="font-semibold text-slate-900">Autom√°tica</div><span class="rounded-full bg-slate-200 px-2 py-0.5 text-[10px] font-bold tracking-wide text-slate-700">EM BREVE</span></div><p class="mt-2 text-xs text-slate-600"> As receitas e despesas ser√£o atualizadas automaticamente uma vez ao dia, cabendo a voc√™ somente categoriz√°-las. </p></button>',2)),e("button",{type:"button",class:"mt-3 w-full rounded-2xl border border-slate-200 bg-white p-4 text-left transition hover:bg-slate-50",onClick:o[3]||(o[3]=i=>c("selectMethod","manual"))},[...o[7]||(o[7]=[e("div",{class:"font-semibold text-slate-900"},"Manual",-1),e("p",{class:"mt-2 text-xs text-slate-600"}," As receitas, despesas e categoriza√ß√µes das transa√ß√µes ter√£o que ser adicionadas manualmente. ",-1)])])])])])])):F("",!0)}}),oe={key:0,class:"fixed inset-0 z-[60]"},se={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},le={class:"flex h-full flex-col"},ne={class:"flex items-center justify-between px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-4"},ae={class:"flex-1 overflow-y-auto px-4 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},ie={class:"mb-4"},re={class:"grid grid-cols-2 gap-3"},de=["onClick"],ue={class:"flex h-full flex-col"},ce={class:"flex items-start justify-between"},ve={class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white"},be=["src","alt"],me={class:"mt-3 flex-1"},pe={class:"line-clamp-2 text-sm font-semibold leading-snug text-slate-900"},xe={class:"mt-2 h-1 w-full rounded-full bg-slate-100"},fe=S({__name:"CreateCreditCardStep1",props:{open:{type:Boolean}},emits:["close","select"],setup(u,{emit:g}){const c=g,v=x(""),o=[{nome:"Nubank",logo:"üü£",cor:"#8B10AE",svgFile:"nubank-logo-svg.png"},{nome:"Banco Inter",logo:"üü¢",cor:"#FF7A00",svgFile:"Banco Inter S.A/inter.svg"},{nome:"Ita√∫",logo:"üü†",cor:"#EC7000",svgFile:null},{nome:"Bradesco",logo:"üî¥",cor:"#CC092F",svgFile:"Bradesco S.A/bradesco com nome.svg"},{nome:"Banco do Brasil",logo:"üü°",cor:"#FFDD00",svgFile:"Banco do Brasil S.A/banco-do-brasil-com-fundo.svg"},{nome:"Caixa",logo:"üîµ",cor:"#0066B3",svgFile:"Caixa Econ√¥mica Federal/caixa-economica-federal-1.svg"},{nome:"Santander",logo:"üî¥",cor:"#EC0000",svgFile:"Banco Santander Brasil S.A/banco-santander-logo.svg"},{nome:"C6 Bank",logo:"‚ö´",cor:"#000000",svgFile:"C6 Bank/c6-bank-logo-oficial-vector.png"},{nome:"Outro",logo:"‚ãØ",cor:"#64748B",svgFile:null}],i=h(()=>{const n=v.value.toLowerCase();return n?o.filter(s=>s.nome.toLowerCase().includes(n)):o}),b=n=>{c("select",n)};return(n,s)=>u.open?(d(),r("div",oe,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:s[0]||(s[0]=a=>n.$emit("close")),"aria-label":"Fechar"}),e("div",se,[e("div",le,[e("header",ne,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:s[1]||(s[1]=a=>n.$emit("close")),"aria-label":"Fechar"},[...s[4]||(s[4]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])]),s[5]||(s[5]=e("div",{class:"text-[14px] font-bold text-[#1F2937]"},"Escolher Institui√ß√£o",-1)),s[6]||(s[6]=e("div",{class:"w-6"},null,-1))]),e("div",ae,[e("div",ie,[j(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>v.value=a),type:"text",placeholder:"Buscar banco...",class:"w-full appearance-none rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] px-4 py-3 text-sm text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,v.value]])]),e("div",re,[(d(!0),r(C,null,A(i.value,a=>(d(),r("button",{key:a.nome,type:"button",class:"h-28 w-full overflow-hidden rounded-2xl border border-slate-200 bg-white p-3 text-left shadow-sm ring-1 ring-slate-200/60 transition hover:bg-slate-50",onClick:m=>b(a)},[e("div",ue,[e("div",ce,[e("div",ve,[a.svgFile?(d(),r("img",{key:0,src:`/Bancos-em-SVG-main/${a.svgFile}`,alt:a.nome,class:"h-8 w-8 object-contain",onError:s[3]||(s[3]=m=>m.target.style.display="none")},null,40,be)):(d(),r("span",{key:1,class:"text-lg",style:V({color:a.cor}),"aria-hidden":"true"},f(a.logo),5))]),s[7]||(s[7]=e("svg",{class:"h-5 w-5 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[e("path",{d:"M9 5l7 7-7 7"})],-1))]),e("div",me,[e("div",pe,f(a.nome),1)]),e("div",xe,[e("div",{class:"h-1 rounded-full",style:V({width:"40%",backgroundColor:a.cor})},null,4)])])],8,de))),128))])])])])])):F("",!0)}}),ge={key:0,class:"fixed inset-0 z-[60]"},he={class:"absolute inset-0 w-full bg-white",role:"dialog","aria-modal":"true"},we={class:"flex h-full flex-col"},Be={class:"relative flex items-center px-4 pt-[calc(0.5rem+env(safe-area-inset-top))] pb-3"},ke={class:"flex-1 overflow-y-auto px-6 pb-[calc(1.5rem+env(safe-area-inset-bottom))]"},ye={key:0,class:"mt-6"},Ce={class:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4"},Fe={class:"flex items-center gap-3"},$e={class:"text-3xl"},Ee={class:"font-semibold text-slate-900"},_e={class:"mt-6"},Ae={class:"mt-6"},Se={class:"grid grid-cols-4 gap-3"},Me=["onClick"],Ne={class:"text-2xl"},Ve={class:"mt-6"},Ie={class:"flex h-11 items-center gap-1 rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3"},je=["value"],De={class:"mt-6"},ze={class:"grid grid-cols-2 gap-3"},Le={class:"relative"},qe=["value"],Oe=["value"],Re={class:"relative"},Te=["value"],Je=["value"],Ke={class:"mt-6 rounded-xl border border-[#E5E7EB] bg-[#F9FAFB] p-4"},Ue={class:"flex items-center justify-between"},Ge={class:"shrink-0 border-t border-slate-100 px-6 pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))]"},Pe={class:"flex gap-3"},He=["disabled"],Qe=S({__name:"CreateCreditCardStep3",props:{open:{type:Boolean},banco:{}},emits:["close","back","save"],setup(u,{emit:g}){const c=u,v=g,o=x(""),i=x("visa"),b=x(""),n=x(null),s=x(null),a=h(()=>(c.banco?K(c.banco.nome):null)??"#8B5CF6"),m=x(!1),M=[{id:"visa",nome:"Visa",logo:"üí≥"},{id:"mastercard",nome:"Mastercard",logo:"üí≥"},{id:"elo",nome:"Elo",logo:"üí≥"},{id:"amex",nome:"Amex",logo:"üí≥"}],$=Array.from({length:31},(p,t)=>t+1),w=p=>{const t=p.target;b.value=T(t.value)},B=h(()=>R(b.value)),k=h(()=>o.value.trim()!==""&&i.value!==null&&b.value.trim()!==""&&n.value!=null&&s.value!=null&&n.value>=1&&n.value<=31&&s.value>=1&&s.value<=31),z=()=>{o.value=c.banco?.nome??"",i.value="visa",b.value="",n.value=null,s.value=null,m.value=!1},y=x(!1),L=async()=>{if(k.value){y.value=!0;try{await J("/api/cartoes",{method:"POST",body:JSON.stringify({nome:o.value.trim(),bandeira:i.value,limite:B.value,dia_fechamento:n.value,dia_vencimento:s.value,cor:a.value,icone:"credit-card",institution:c.banco?.nome??null,is_primary:m.value})}),v("save")}catch(p){console.error("Erro ao salvar cart√£o:",p)}finally{y.value=!1}}};return O(()=>c.open,p=>{p&&z()}),(p,t)=>u.open?(d(),r("div",ge,[e("button",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",type:"button",onClick:t[0]||(t[0]=l=>p.$emit("close")),"aria-label":"Fechar"}),e("div",he,[e("div",we,[e("header",Be,[e("button",{class:"h-6 w-6 text-[#6B7280]",type:"button",onClick:t[1]||(t[1]=l=>p.$emit("back")),"aria-label":"Voltar"},[...t[9]||(t[9]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M15 18l-6-6 6-6"})],-1)])]),t[11]||(t[11]=e("div",{class:"pointer-events-none absolute inset-0 flex items-center justify-center"},[e("div",{class:"text-[14px] font-bold text-[#1F2937]"},"Novo Cart√£o")],-1)),e("button",{class:"ml-auto h-6 w-6 text-[#6B7280]",type:"button",onClick:t[2]||(t[2]=l=>p.$emit("close")),"aria-label":"Fechar"},[...t[10]||(t[10]=[e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)])])]),e("div",ke,[u.banco?(d(),r("div",ye,[t[12]||(t[12]=e("div",{class:"mb-2 text-xs font-semibold uppercase text-slate-500"},"Institui√ß√£o financeira",-1)),e("div",Ce,[e("div",Fe,[e("span",$e,f(u.banco.logo),1),e("span",Ee,f(u.banco.nome),1)])])])):F("",!0),e("div",_e,[t[13]||(t[13]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Nome do cart√£o",-1)),j(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value=l),type:"text",placeholder:"Ex: Nubank Roxo",maxlength:"50",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 text-base text-[#374151] placeholder:text-[#9CA3AF] focus:border-[#14B8A6] focus:outline-none focus:ring-0 focus-visible:outline-none"},null,512),[[D,o.value]])]),e("div",Ae,[t[14]||(t[14]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Bandeira",-1)),e("div",Se,[(d(),r(C,null,A(M,l=>e("button",{key:l.id,type:"button",class:_(["flex h-14 items-center justify-center rounded-xl border-2 font-semibold transition",i.value===l.id?"border-[#14B8A6] bg-teal-50 text-[#14B8A6]":"border-[#E5E7EB] bg-white text-[#6B7280]"]),onClick:Xe=>i.value=l.id},[e("span",Ne,f(l.logo),1)],10,Me)),64))])]),e("div",Ve,[t[16]||(t[16]=e("div",{class:"mb-2 text-sm font-bold text-[#374151]"},"Limite total",-1)),e("div",Ie,[t[15]||(t[15]=e("span",{class:"text-base text-[#6B7280]"},"R$",-1)),e("input",{class:"h-full w-full flex-1 appearance-none border-0 bg-transparent text-center text-base text-[#374151] outline-none focus:outline-none focus:ring-0 focus-visible:outline-none",type:"text",inputmode:"numeric",pattern:"[0-9]*",autocomplete:"off",value:b.value,onInput:w,onKeydown:t[4]||(t[4]=(...l)=>E(I)&&E(I)(...l)),placeholder:"0,00","aria-label":"Limite"},null,40,je)])]),e("div",De,[t[23]||(t[23]=e("div",{class:"mb-3 text-sm font-bold text-[#374151]"},"Datas",-1)),e("div",ze,[e("div",null,[t[19]||(t[19]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Fechamento",-1)),e("div",Le,[e("select",{value:n.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus:ring-0",onChange:t[5]||(t[5]=l=>{n.value=Number(l.target.value)||null})},[t[17]||(t[17]=e("option",{value:"",disabled:""},"Dia",-1)),(d(!0),r(C,null,A(E($),l=>(d(),r("option",{key:l,value:l},f(l),9,Oe))),128))],40,qe),t[18]||(t[18]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])]),e("div",null,[t[22]||(t[22]=e("label",{class:"mb-2 block text-xs text-[#6B7280]"},"Vencimento",-1)),e("div",Re,[e("select",{value:s.value??"",class:"h-11 w-full appearance-none rounded-lg border border-[#E5E7EB] bg-[#F9FAFB] px-3 pr-9 text-center text-base text-[#374151] focus:border-[#14B8A6] focus:outline-none focus:ring-0",onChange:t[6]||(t[6]=l=>{s.value=Number(l.target.value)||null})},[t[20]||(t[20]=e("option",{value:"",disabled:""},"Dia",-1)),(d(!0),r(C,null,A(E($),l=>(d(),r("option",{key:l,value:l},f(l),9,Je))),128))],40,Te),t[21]||(t[21]=e("span",{class:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-slate-400"},[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M6 9l6 6 6-6"})])],-1))])])])]),e("div",Ke,[e("div",Ue,[t[24]||(t[24]=e("div",{class:"text-sm text-slate-700"},"Marcar como principal",-1)),e("button",{type:"button",class:_(["relative inline-flex h-6 w-11 items-center rounded-full transition",m.value?"bg-[#14B8A6]":"bg-[#E5E7EB]"]),onClick:t[7]||(t[7]=l=>m.value=!m.value),"aria-label":"Marcar como principal"},[e("span",{class:_(["inline-block h-5 w-5 transform rounded-full bg-white transition",m.value?"translate-x-5":"translate-x-0.5"])},null,2)],2)])])]),e("footer",Ge,[e("div",Pe,[e("button",{class:"flex-1 rounded-xl border border-[#E5E7EB] py-3 text-sm font-semibold text-[#6B7280] transition hover:bg-slate-50",type:"button",onClick:t[8]||(t[8]=l=>p.$emit("close"))}," Cancelar "),e("button",{disabled:!k.value||y.value,class:_(["flex-1 rounded-xl py-3 text-sm font-semibold transition",k.value&&!y.value?"bg-[#14B8A6] text-white shadow-lg shadow-teal-500/20 hover:bg-[#0D9488]":"bg-slate-300 text-white shadow-none cursor-not-allowed opacity-60"]),type:"button",onClick:L},f(y.value?"Adicionando...":"Adicionar cart√£o"),11,He)])])])])])):F("",!0)}}),We=U(Qe,[["__scopeId","data-v-30454bf8"]]),st=S({__name:"CreateCreditCardFlowModal",props:{open:{type:Boolean}},emits:["close","save"],setup(u,{emit:g}){const c=u,v=g,o=x(1),i=x(null),b=()=>v("close"),n=w=>{i.value=w,o.value=2},s=w=>{w==="manual"&&(o.value=3)},a=()=>{v("save"),b()},m=h(()=>c.open&&o.value===1),M=h(()=>c.open&&o.value===2),$=h(()=>c.open&&o.value===3);return(w,B)=>(d(),r(C,null,[N(fe,{open:m.value,onClose:b,onSelect:n},null,8,["open"]),N(te,{open:M.value,banco:i.value,onClose:b,onBack:B[0]||(B[0]=k=>o.value=1),onSelectMethod:s},null,8,["open","banco"]),N(We,{open:$.value,banco:i.value,onClose:b,onBack:B[1]||(B[1]=k=>o.value=1),onSave:a},null,8,["open","banco"])],64))}});export{st as _,te as a};
