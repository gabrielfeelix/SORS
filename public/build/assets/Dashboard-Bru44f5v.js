import{d as Ke,u as Ge,c as m,h as v,p as Mt,z as qe,g as l,i as g,e as t,f as h,t as c,F as P,r as V,b as C,m as X,n as A,o as n,a as Be,w as $,l as T,k as re,j as I,A as $t,B as Bt,C as St}from"./app-DvJ-vTb0.js";import{r as O,_ as jt,a as Ft}from"./DesktopShell.vue_vue_type_script_setup_true_lang-BVoVaQ94.js";import{T as Nt,e as Tt,h as Ve,b as At,a as Lt}from"./TransactionModal-CAPdfSRY.js";import{u as It,_ as Rt}from"./useIsMobile-CMH_TBsk.js";import{_ as Et}from"./TransactionDetailModal.vue_vue_type_script_setup_true_lang-FdJQ2dEh.js";import{_ as Ot}from"./MobileToast.vue_vue_type_script_setup_true_lang-C8uRLjf5.js";import{_ as Pt}from"./CreditCardModal.vue_vue_type_script_setup_true_lang-BAYISiSL.js";import{m as ze,p as Ue,f as Vt}from"./inputGuards-BTKUKM9N.js";import{A as zt}from"./ApplicationLogo-C9297_82.js";import{_ as Ut}from"./CreateAccountFlowModal.vue_vue_type_script_setup_true_lang-DzQ56nH9.js";import{_ as Kt}from"./CreateCreditCardFlowModal.vue_vue_type_script_setup_true_lang-lP2gGW5r.js";import{_ as Gt}from"./Modal.vue_vue_type_script_setup_true_lang-DS33UnRY.js";import{_ as qt}from"./HomeWidgetsManager.vue_vue_type_script_setup_true_lang-B7hi6-iw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ht={key:0,class:"fixed inset-0 z-[95] bg-white"},Jt={class:"mx-auto flex h-[calc(100vh-5rem)] w-full max-w-md flex-col px-6 pb-[calc(2rem+env(safe-area-inset-bottom))]"},Yt={key:0,class:"flex flex-1 flex-col justify-center"},Wt={class:"flex justify-center"},Qt={class:"flex h-16 w-16 items-center justify-center rounded-3xl bg-slate-50 ring-1 ring-slate-200/60"},Zt={class:"mt-6 text-center text-2xl font-semibold tracking-tight text-slate-900"},Xt={key:1,class:"flex flex-1 flex-col"},es={class:"mt-6 grid grid-cols-2 gap-3"},ts=["onClick"],ss={class:"text-2xl"},os={class:"mt-2 text-sm font-semibold text-slate-900"},as={class:"mt-auto"},ns=["disabled"],ls={key:2,class:"flex flex-1 flex-col"},is={class:"mt-6 space-y-4"},rs={class:"mb-2 flex items-center justify-between"},ds={class:"text-sm font-semibold text-slate-900"},cs={class:"flex h-12 items-center gap-2 rounded-2xl bg-slate-50 px-4 ring-1 ring-slate-200/60"},us=["value","onInput"],ms={key:0,class:"mt-4 rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600"},vs={class:"mt-auto"},ps={class:"mb-3 text-xs font-semibold text-slate-400"},fs=["disabled"],xs={key:3,class:"flex flex-1 flex-col justify-center text-center"},hs="kitamo:onboarding:v1",bs=Ke({__name:"OnboardingModal",props:{open:{type:Boolean}},emits:["close","done"],setup(de,{emit:z}){const H=de,J=z,ee=Ge(),_=m(()=>String(ee.props?.auth?.user?.name??"").trim().split(" ")[0]||"Bem-vindo"),y=v(1),D=v(!1),j=v(""),R=[{key:"wallet",label:"Carteira",emoji:"ðŸ’µ",type:"wallet",icon:"wallet",color:"#14B8A6"},{key:"nubank",label:"Nubank",emoji:"ðŸŸ£",type:"bank",icon:"bank",color:"#8B5CF6"},{key:"inter",label:"Inter",emoji:"ðŸŸ ",type:"bank",icon:"bank",color:"#F59E0B"},{key:"itau",label:"ItaÃº",emoji:"ðŸŸ§",type:"bank",icon:"bank",color:"#F97316"}],M=v(new Set(["wallet"])),U=v([]),E=m(()=>{const u=U.value.map(b=>({key:b.key,label:b.label,emoji:"ðŸ¦",type:"bank",icon:"bank",color:"#64748B"}));return[...R,...u].filter(b=>M.value.has(b.key))}),F=v({}),ce=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(u),te=(u,i)=>{F.value={...F.value,[u]:Vt(i)}},ue=u=>{const i=new Set(M.value);i.has(u)?i.delete(u):i.add(u),M.value=i},me=()=>{const u=window.prompt("Qual banco? (ex: Bradesco)"),i=String(u??"").trim();if(!i)return;const p=`custom:${i.toLowerCase().replace(/\s+/g,"-")}:${Date.now()}`;U.value=[...U.value,{key:p,label:i}];const b=new Set(M.value);b.add(p),M.value=b},ve=m(()=>E.value.length>0),N=()=>{try{window.localStorage.setItem(hs,"1")}catch{}},k=()=>J("close"),pe=()=>{N(),J("done")},fe=()=>{j.value="",y.value=2},se=()=>{j.value="";for(const u of E.value)F.value[u.key]==null&&te(u.key,"");y.value=3},oe=async()=>{j.value="",D.value=!0;try{for(const u of E.value){const i=ze(F.value[u.key]??"");await O("/api/contas",{method:"POST",body:JSON.stringify({name:u.label,type:u.type,icon:u.icon,initial_balance:Math.max(0,i),color:u.color,incluir_soma:!0})})}N(),y.value=4}catch{j.value="NÃ£o foi possÃ­vel salvar suas contas. Tente novamente."}finally{D.value=!1}},ae=()=>{J("done"),X.reload({only:["bootstrap"]})};return Mt(()=>H.open,u=>{u&&(y.value=1,D.value=!1,j.value="",M.value=new Set(["wallet"]),U.value=[],F.value={})}),qe(()=>{}),(u,i)=>de.open?(n(),l("div",Ht,[t("header",{class:"flex items-center justify-between px-5 pt-[calc(1rem+env(safe-area-inset-top))]"},[t("button",{type:"button",class:"text-sm font-semibold text-slate-400",onClick:pe},"Pular"),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-100 text-slate-600",onClick:k,"aria-label":"Fechar"},[...i[1]||(i[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6L6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("main",Jt,[y.value===1?(n(),l("div",Yt,[t("div",Wt,[t("div",Qt,[h(zt,{class:"h-10 w-10 text-slate-900"})])]),t("div",Zt,"Bem-vindo, "+c(_.value)+"!",1),i[2]||(i[2]=t("div",{class:"mt-2 text-center text-sm font-semibold text-slate-500"},"Vamos configurar suas finanÃ§as em menos de 2 minutos.",-1)),t("button",{type:"button",class:"mt-8 w-full rounded-2xl bg-teal-500 py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25",onClick:fe}," ComeÃ§ar ")])):y.value===2?(n(),l("div",Xt,[i[3]||(i[3]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Por onde seu dinheiro passa?",-1)),i[4]||(i[4]=t("div",{class:"mt-1 text-sm font-semibold text-slate-500"},"Selecione as contas que vocÃª usa.",-1)),t("div",es,[(n(),l(P,null,V(R,p=>t("button",{key:p.key,type:"button",class:A(["rounded-3xl border bg-white px-4 py-5 text-left transition",M.value.has(p.key)?"border-teal-400 ring-2 ring-teal-200":"border-slate-200 hover:border-slate-300"]),onClick:b=>ue(p.key)},[t("div",ss,c(p.emoji),1),t("div",os,c(p.label),1),t("div",{class:A(["mt-1 text-xs font-semibold",M.value.has(p.key)?"text-teal-600":"text-slate-400"])},c(M.value.has(p.key)?"Selecionado":"Toque para selecionar"),3)],10,ts)),64))]),t("button",{type:"button",class:"mt-4 text-left text-sm font-semibold text-slate-600",onClick:me},"+ Outro banco"),t("div",as,[t("button",{type:"button",class:"mt-6 w-full rounded-2xl bg-teal-500 py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:!ve.value,onClick:se}," Continuar ",8,ns)])])):y.value===3?(n(),l("div",ls,[i[7]||(i[7]=t("div",{class:"mt-6 text-xl font-semibold tracking-tight text-slate-900"},"Quanto vocÃª tem hoje?",-1)),i[8]||(i[8]=t("div",{class:"mt-1 text-sm font-semibold text-slate-500"},"NÃ£o precisa ser exato, vocÃª pode ajustar depois.",-1)),t("div",is,[(n(!0),l(P,null,V(E.value,p=>(n(),l("div",{key:p.key},[t("div",rs,[t("div",ds,c(p.emoji)+" "+c(p.label),1),i[5]||(i[5]=t("div",{class:"text-xs font-semibold text-slate-400"},"Saldo inicial",-1))]),t("div",cs,[i[6]||(i[6]=t("span",{class:"text-sm font-semibold text-slate-500"},"R$",-1)),t("input",{value:F.value[p.key]??"",type:"text",inputmode:"numeric",pattern:"[0-9]*",placeholder:"0,00",class:"w-full bg-transparent text-right text-base font-semibold text-slate-900 outline-none",onKeydown:i[0]||(i[0]=(...b)=>C(Ue)&&C(Ue)(...b)),onInput:b=>te(p.key,b.target.value)},null,40,us)])]))),128))]),j.value?(n(),l("div",ms,c(j.value),1)):g("",!0),t("div",vs,[t("div",ps," Total selecionado: "+c(ce(E.value.reduce((p,b)=>p+C(ze)(F.value[b.key]??""),0))),1),t("button",{type:"button",class:"w-full rounded-2xl bg-teal-500 py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25 disabled:cursor-not-allowed disabled:opacity-50",disabled:D.value,onClick:oe},c(D.value?"Salvandoâ€¦":"Continuar"),9,fs)])])):(n(),l("div",xs,[i[9]||(i[9]=t("div",{class:"text-4xl"},"ðŸŽ‰",-1)),i[10]||(i[10]=t("div",{class:"mt-4 text-2xl font-semibold tracking-tight text-slate-900"},"Tudo pronto!",-1)),i[11]||(i[11]=t("div",{class:"mt-2 text-sm font-semibold text-slate-500"}," Agora Ã© sÃ³ registrar seus gastos e o KITAMO te avisa se vai dar pra chegar no fim do mÃªs. ",-1)),t("button",{type:"button",class:"mt-8 w-full rounded-2xl bg-teal-500 py-4 text-base font-semibold text-white shadow-lg shadow-teal-500/25",onClick:ae}," ComeÃ§ar a usar ")]))])])):g("",!0)}}),gs={key:0,class:"flex items-center justify-between pt-2"},ys={class:"flex h-11 w-11 items-center justify-center overflow-hidden rounded-full bg-slate-200 text-sm font-semibold text-slate-700"},ws=["src"],ks={key:1},_s={class:"leading-tight"},Cs={class:"text-xs font-semibold text-slate-400"},Ds={class:"flex items-center gap-2"},Ms={key:0,class:"absolute -right-0.5 -top-0.5 inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-500 px-1.5 text-[10px] font-bold text-white"},$s={class:"mt-6 rounded-3xl bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-5 shadow-lg ring-1 ring-slate-900/10"},Bs={class:"flex items-start justify-between gap-4"},Ss={class:"mt-2 text-4xl font-semibold tracking-tight text-emerald-400"},js={class:"flex items-center gap-2"},Fs=["aria-label"],Ns={key:0,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Ts={key:1,class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},As={class:"mt-4 grid grid-cols-2 gap-3"},Ls={class:"mt-1 text-base font-semibold text-white"},Is={class:"mt-1 text-base font-semibold text-white"},Rs={key:1,class:"mt-5 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Es={class:"flex items-center justify-between"},Os={key:0,class:"rounded-full bg-red-50 px-3 py-1 text-xs font-semibold text-red-500"},Ps={key:1,class:"rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600"},Vs={key:0,class:"mt-4 rounded-lg border-l-4 border-red-500 bg-red-50 p-4 flex items-start gap-3"},zs={class:"flex-1"},Us={class:"mb-1 font-semibold text-red-900"},Ks={class:"text-sm text-red-700"},Gs={key:1,class:"mt-4 rounded-lg border-l-4 border-emerald-500 bg-emerald-50 p-4 flex items-start gap-3"},qs={class:"flex-1"},Hs={class:"text-sm text-emerald-700"},Js={key:2,class:"mt-4"},Ys={class:"relative mx-auto h-24"},Ws={class:"grid h-24 grid-cols-6 items-end gap-3"},Qs={class:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-6 text-[10px] font-semibold text-slate-400"},Zs={key:3,class:"mt-4"},Xs={class:"grid grid-cols-6 items-end gap-3"},eo={class:"text-[10px] font-semibold text-slate-400"},to={key:4,class:"mt-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},so={key:2,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},oo={class:"flex items-center justify-between"},ao={key:0,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},no={key:1,class:"mt-4 space-y-3"},lo={class:"flex items-center gap-3"},io={class:"text-sm font-semibold text-slate-900"},ro={class:"text-xs text-slate-500"},co={class:"text-sm font-semibold text-slate-900"},uo={key:3,class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},mo={class:"flex items-center justify-between"},vo={key:0,class:"mt-4 inline-flex w-full rounded-full bg-slate-50 p-1 ring-1 ring-slate-200/70"},po={key:1,class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-6 text-center"},fo={key:2,class:"mt-4"},xo={key:0,class:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-6 text-center"},ho={key:1,class:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide"},bo={class:"relative z-10 flex h-full flex-col justify-between text-white",style:{"min-height":"180px"}},go={class:"flex items-start justify-between"},yo={class:"flex items-center gap-2"},wo={class:"text-sm font-semibold"},ko={key:0,class:"rounded bg-white/20 px-2 py-0.5 text-[9px] font-bold uppercase tracking-wide"},_o={class:"mt-4"},Co={class:"mt-1 text-3xl font-bold tracking-tight"},Do={class:"mt-4 h-1.5 overflow-hidden rounded-full bg-white/30"},Mo={class:"mt-2 flex items-center justify-between text-[11px] font-semibold"},$o={class:"opacity-90"},Bo={class:"opacity-90"},So={key:0,class:"mt-3 flex items-center gap-1.5 text-[11px] font-semibold opacity-90"},jo={class:"mt-4 rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4 text-sm font-semibold text-slate-700"},Fo={class:"flex items-center justify-between"},No={class:"text-slate-900"},To={key:4,class:"mt-6"},Ao={class:"flex items-center justify-between"},Lo={key:0,class:"mt-4 space-y-3"},Io=["onClick"],Ro={class:"flex h-14 w-14 flex-col items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/70"},Eo={class:"text-[10px] font-semibold uppercase text-slate-400"},Oo={class:"text-base font-semibold"},Po={class:"min-w-0 flex-1"},Vo={class:"truncate text-sm font-semibold text-slate-900"},zo={class:"truncate text-xs text-slate-400"},Uo={class:"flex flex-col items-end gap-2 text-right"},Ko=["aria-label","onClick"],Go={key:0,class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3"},qo={class:"mt-6 rounded-3xl bg-white p-4 shadow-sm ring-1 ring-slate-200/60"},Ho={class:"p-5"},Jo={class:"flex items-center justify-between"},Yo={class:"mt-4"},Wo="kitamo:home_widgets",Qo="kitamo:onboarding:v1",va=Ke({__name:"Dashboard",setup(de){const z=Ge(),H=m(()=>z.props.auth?.user?.name??"Gabriel"),J=m(()=>String(H.value).trim().split(/\s+/)[0]??H.value),ee=m(()=>z.props?.auth?.user?.profile_photo_url??null),_=m(()=>z.props.bootstrap??{entries:[],goals:[],accounts:[],categories:[],tags:[]}),y=It(),D=v({accounts:!0,creditCards:!0,projection:!0,upcomingBills:!0}),j=()=>{try{const e=localStorage.getItem(Wo);if(!e)return;const s=JSON.parse(e);D.value={...D.value,...s}}catch{}},R=v(0),M=async()=>{try{const e=await O(route("api.notifications.count-unread"));R.value=Number(e.count??0)}catch{}},U=m(()=>D.value.accounts),E=m(()=>D.value.creditCards),F=m(()=>D.value.projection),ce=m(()=>D.value.upcomingBills),te=m(()=>{const e=String(H.value).trim().split(/\s+/).filter(Boolean),s=e[0]?.[0]??"G",o=e.length>1?e[e.length-1]?.[0]:"F";return`${s}${o}`.toUpperCase()}),ue=m(()=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(new Date)),me=m(()=>y.value?Rt:jt),ve=m(()=>y.value?{showNav:!0}:{title:"VisÃ£o Geral",subtitle:ue.value,searchPlaceholder:"Buscar transaÃ§Ã£oâ€¦",newActionLabel:"Nova TransaÃ§Ã£o"}),N=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),k=v(_.value.entries??[]),pe=v(_.value.goals??[]),fe=e=>{let s=0,o=0;for(const a of e)a.kind==="income"?s+=a.amount:o+=a.amount;return{income:s,expense:o,balance:s-o}},se=v(0),oe=v(0),ae=v(0),u=v(!1),i=v(!1);v(!1);const p=v(!1),b=()=>(_.value.accounts??[]).filter(e=>e.type!=="credit_card").filter(e=>e.incluir_soma??!0).reduce((e,s)=>e+Number(s.current_balance??0),0),xe=()=>{const e=fe(k.value);se.value=b(),oe.value=e.income,ae.value=e.expense};xe();const he=e=>u.value?"R$ â€¢â€¢â€¢â€¢":N(e),He=e=>{u.value=e;try{localStorage.setItem("kitamo_hide_values",e?"1":"0")}catch{}};try{u.value=localStorage.getItem("kitamo_hide_values")==="1"}catch{}const Se=m(()=>{const e=k.value;if(!e.length)return[];const s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],o=new Date,a=Array.from({length:6},(d,r)=>{const x=new Date(o.getFullYear(),o.getMonth()-(5-r),1);return{key:`${x.getFullYear()}-${x.getMonth()+1}`,label:s[x.getMonth()],total:0,highlight:r===5}});for(const d of e){if(!d.transactionDate)continue;const r=new Date(d.transactionDate),x=`${r.getFullYear()}-${r.getMonth()+1}`,B=a.find($e=>$e.key===x);B&&(B.total+=d.kind==="income"?d.amount:-d.amount)}const f=Math.max(...a.map(d=>Math.abs(d.total)),1);return a.map(d=>{const r=Math.abs(d.total)/f,x=Math.round(70+r*90),B=r>.66?"bg-[#14B8A6]":r>.33?"bg-[#34D399]":"bg-[#A7F3D0]";return{label:d.label,height:x,amount:Math.abs(d.total),tone:B,highlight:d.highlight}})}),Je=e=>{const s=new Intl.DateTimeFormat("pt-BR",{month:"short"});return e.filter(o=>o.kind==="expense").filter(o=>!!o.transactionDate).filter(o=>o.status!=="paid").map(o=>{const a=o.transactionDate?new Date(o.transactionDate):new Date,f=s.format(a).replace(".","").toLowerCase(),d=String(a.getDate()).padStart(2,"0");return{id:o.id,month:f,day:d,title:o.title,subtitle:o.categoryLabel,amountLabel:N(o.amount),paid:o.status==="paid"}}).sort((o,a)=>o.day>a.day?1:-1).slice(0,3)},je=m(()=>Je(k.value));m(()=>k.value.filter(e=>!!e.transactionDate).sort((e,s)=>{const o=new Date(e.transactionDate);return new Date(s.transactionDate).getTime()-o.getTime()}).slice(0,5));const Fe=m(()=>(_.value.accounts??[]).filter(e=>e.type!=="credit_card").map(e=>({id:e.id,label:e.name,subtitle:"Saldo atual",amount:e.current_balance,color:e.color??(e.type==="wallet"?"#14B8A6":"#3B82F6")}))),Y=m(()=>(_.value.accounts??[]).filter(e=>e.type==="credit_card").map(e=>({id:e.id,label:e.name,brand:e.card_brand??"visa",color:e.color??"#8B5CF6",limit:Number(e.credit_limit??0),used:Math.max(0,Number(e.current_balance??0)),closingDay:Number(e.closing_day??0)||null,dueDay:Number(e.due_day??0)||null}))),be=v([]),ge=async()=>{if(!(Y.value.length>0))try{const e=await O("/api/cartoes",{method:"GET"});be.value=e.cartoes??[]}catch{be.value=[]}},W=v("open"),Ye=e=>new Intl.DateTimeFormat("pt-BR",{day:"numeric",month:"long",year:"numeric"}).format(e),We=(e,s)=>{const o=s.getFullYear(),a=s.getMonth(),d=s.getDate()<=e?a:a+1,r=new Date(o,d+1,0).getDate(),x=Math.min(e,r);return new Date(o,d,x)},Qe=(e,s)=>e?s.getDate()>e:!1,ne=m(()=>{const e=new Date;return(Y.value.length>0?Y.value.map(o=>({id:o.id,label:o.label,brand:o.brand,color:o.color,limit:o.limit,used:o.used,closingDay:o.closingDay,dueDay:o.dueDay,is_primary:!1})):be.value.map(o=>({id:o.id,label:o.nome,brand:o.bandeira,color:o.cor,limit:o.limite,used:o.limite_usado??0,closingDay:o.dia_fechamento??null,dueDay:o.dia_vencimento??null,is_primary:o.is_primary??!1}))).map(o=>{const a=o.limit>0?Math.min(100,Math.max(0,o.used/o.limit*100)):0,f=o.limit>0?Math.max(0,o.limit-o.used):0,d=Qe(o.closingDay,e),r=o.closingDay?We(o.closingDay,e):null;return{...o,percent:a,available:f,closed:d,closingDateLabel:r?Ye(r):null,percentLabel:`${a.toFixed(2)}%`,brandLabel:o.brand==="mastercard"?"Mastercard":o.brand==="elo"?"Elo":o.brand==="amex"?"Amex":"Visa"}}).filter(o=>W.value==="open"?!o.closed:o.closed)}),Ze=m(()=>ne.value.reduce((e,s)=>e+(s.used||0),0));m(()=>(_.value.accounts??[]).slice(0,3).map(e=>({id:e.id,name:e.name,subtitle:e.type==="credit_card"?"Fatura aberta":"Saldo atual",amount:e.current_balance??0,type:e.type})));const w=m(()=>z.props.projecao??null),Xe=m(()=>!!w.value?.projecao_diaria?.length),et=e=>{const[s,o,a]=e.split("-");return!s||!o||!a?e:`${a}/${o}`},tt=e=>{const[s,o,a]=e.split("-").map(x=>x.trim()),f=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],d=Number(o)-1,r=f[d]??o;return`${a}/${r}`},st=e=>{const s=String(e??"").trim().match(/^(\d{2})\/(\d{2})$/);if(!s)return"";const[,o,a]=s,f=Number(a)-1;if(!Number.isFinite(f)||f<0||f>11)return"";const d=new Date(new Date().getFullYear(),f,Number(o)||1),r=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(d);return r?r.charAt(0).toUpperCase()+r.slice(1):""},Ne=m(()=>{const e=w.value?.primeiro_dia_negativo;return e?st(e):""}),le=m(()=>{if(!w.value)return null;const e=w.value.projecao_diaria??[];if(!e.length)return null;const s=6,a=(e.length<=s?e.map((S,G)=>G):Array.from({length:s},(S,G)=>Math.round(G*(e.length-1)/(s-1)))).map(S=>e[S]).filter(Boolean),f=a.map(S=>S.saldo),d=Math.max(0,...f),r=Math.min(0,...f),x=96,B=Math.round(d===0&&r===0?x/2:d/(d-r)*x),$e=d>0?B/d:0,kt=r<0?(x-B)/Math.abs(r):0,Oe=w.value.primeiro_dia_negativo;return{bars:a.map(S=>{const G=et(S.data),_t=!!(Oe&&G===Oe),q=S.saldo,Ct=q<0?"bg-[#EF4444]":"bg-[#14B8A6]",Pe=q>=0?Math.round(q*$e):Math.round(Math.abs(q)*kt),Dt=q>=0?Math.max(0,B-Pe):B;return{key:S.data,label:G,labelShort:tt(S.data),saldo:q,tone:Ct,heightPx:Math.max(2,Pe),topPx:Dt,showCriticalBadge:_t}}),baselinePx:B,chartHeight:x}});m(()=>k.value.length>0),m(()=>pe.value.length>0);const ot=m(()=>Se.value.length>0),at=m(()=>je.value.length>0),ye=v(!1),Te=v(""),L=e=>{Te.value=e,ye.value=!0},we=v(!1),ke=v(!1),_e=v(!1),nt=async e=>{try{await O("/api/cartoes",{method:"POST",body:JSON.stringify({...e,icone:"credit-card"})}),L("CartÃ£o adicionado com sucesso!"),ke.value=!1,await ge(),X.reload()}catch{L("NÃ£o foi possÃ­vel adicionar o cartÃ£o")}},lt=async()=>{await ge(),X.reload()},Ae=e=>{const s=k.value.findIndex(o=>o.id===e.id);s>=0?k.value[s]=e:k.value.unshift(e),xe()},it=e=>{k.value=k.value.filter(s=>s.id!==e),xe()},rt=e=>({kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",isPaid:e.status==="paid"||e.status==="received",isInstallment:!!e.installment,installmentCount:e.installment?Re(e.installment):void 0,tags:e.tags??[]}),Ce=v(!1),De=v(null),K=v(!1),Q=v(null),dt=e=>e?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e)):"",ct=e=>{const s=e.toLowerCase();return s.includes("carteira")||s.includes("wallet")?"wallet":s.includes("card")||s.includes("crÃ©dito")||s.includes("credito")?"card":"bank"},ut=e=>{const s=(e.categoryKey??"").toLowerCase();if(s==="food")return"food";if(s==="home")return"home";if(s==="car")return"car";const o=(e.icon??"").toLowerCase();return o.includes("home")?"home":o.includes("car")?"car":o.includes("cart")?"cart":"bolt"},mt=m(()=>{const e=o=>{const a=o.toLowerCase();return a.includes("aliment")?"amber":a.includes("mora")||a.includes("casa")?"blue":a.includes("transp")||a.includes("uber")||a.includes("car")?"slate":a.includes("lazer")?"purple":a.includes("saÃºd")||a.includes("saude")?"red":a.includes("estud")?"green":"slate"},s=new Map;for(const o of _.value.categories??[]){const a=o.name,f=o.icon??"other",d=o.type==="income"?"income":o.type==="expense"?"expense":void 0,r=s.get(a),x=r?.kind&&d&&r.kind!==d?void 0:r?.kind??d;s.set(a,{label:a,icon:r?.icon&&r.icon!=="other"?r.icon:f,kind:x,customColor:r?.customColor??(o.color||void 0),tone:r?.tone??(!o.icon||/^[a-z]+$/.test(o.icon)?e(a):void 0)})}return s.size?Array.from(s.values()).map(o=>({key:o.label,label:o.label,icon:o.icon,customColor:o.customColor,tone:o.tone,kind:o.kind})):[]}),Le=m(()=>{const e=[];for(const s of _.value.accounts??[])s.type!=="credit_card"&&e.push({key:s.name,label:s.name,subtitle:s.type==="wallet"?"Dinheiro fÃ­sico":s.type==="bank"?"Corrente":"Conta",balance:Number(s.current_balance??0),icon:s.icon??void 0,customColor:s.color,type:s.type});for(const s of _.value.accounts??[]){if(s.type!=="credit_card")continue;const o=Number(s.credit_limit??0),a=Math.max(0,Number(s.current_balance??0));e.push({key:s.name,label:s.name,subtitle:"CartÃ£o de CrÃ©dito",limit:o,used:a,available:o-a,icon:s.icon??void 0,customColor:s.color,type:"credit_card"})}return e}),vt=m(()=>{const e=Q.value;return e?{id:e.id,title:e.title,amount:e.amount,kind:e.kind,status:e.status,categoryLabel:e.categoryLabel,categoryIcon:ut(e),accountLabel:e.accountLabel,accountIcon:ct(e.accountLabel),dateLabel:dt(e.transactionDate)||e.dateLabel,installmentLabel:e.installment??void 0,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null}:null}),Z=v(!1),Me=v("expense"),ie=v(null),Ie=v(!1),pt=e=>{Me.value=e,ie.value=null,Ie.value=!1,Z.value=!0},Re=e=>{if(!e)return 3;const s=e.match(/\/\s*(\d+)/);if(!s)return 3;const o=Number(s[1]);return Number.isFinite(o)&&o>0?o:3},ft=e=>{const s=(()=>{const a=Le.value.filter(r=>r.type!=="credit_card").map(r=>r.key),f=a[0]??e.accountLabel??"",d=a.find(r=>r!==f)??f;return{from:f,to:d}})();Me.value=e.kind;const o={id:e.id,kind:e.kind,amount:e.amount,description:e.title,category:e.categoryLabel,account:e.accountLabel,dateKind:e.transactionDate?"other":"today",dateOther:e.transactionDate??"",transactionDate:e.transactionDate??"",isInstallment:!!e.installment,installmentCount:Re(e.installment),isPaid:e.status==="paid"||e.status==="received",tags:e.tags??[],receiptFile:null,receiptUrl:e.receiptUrl??null,receiptName:e.receiptName??null,removeReceipt:!1,transferFrom:s.from,transferTo:s.to,transferDescription:"",despesaFixa:!!e.isFixed,repetir:!!e.isRecurring&&!e.isFixed,recurrenceGroupId:e.recurrenceGroupId??null,isFixed:!!e.isFixed,recurrenceEveryMonths:e.recurrenceEveryMonths??null,recurrenceEndsAt:e.recurrenceEndsAt??null};if(y.value){ie.value=o,Z.value=!0;return}ie.value=o,Z.value=!0},xt=e=>{if(y.value){Q.value=e,K.value=!0;return}Q.value=e,K.value=!0,De.value=e,Ce.value=!0},Ee=()=>{const e=y.value?Q.value:De.value;e&&(Ce.value=!1,K.value=!1,ft(e))},ht=async()=>{const e=y.value?Q.value:De.value;e&&(await O(route("transactions.destroy",e.id),{method:"DELETE"}),it(e.id),Ce.value=!1,K.value=!1,L("LanÃ§amento excluÃ­do"))},bt=async e=>{if(e.kind==="transfer"){try{await Tt(e),L("TransferÃªncia realizada"),X.reload({only:["bootstrap"]})}catch{L("NÃ£o foi possÃ­vel realizar a transferÃªncia")}return}const s=e.id?route("transactions.update",e.id):route("transactions.store"),o=e.id?"PATCH":"POST",a=await(Ve(e)?Ft:O)(s,{method:o,body:Ve(e)?At(e):JSON.stringify(Lt(e))});Ae(a.entry),L(e.id?"LanÃ§amento atualizado":"LanÃ§amento criado")},gt=async e=>{const s=k.value.find(d=>d.id===e);if(!s||s.kind!=="expense")return;const o=s.status==="paid"?"pending":"paid",a={...rt({...s,status:o}),isPaid:o==="paid"},f=await O(route("transactions.update",s.id),{method:"PATCH",body:JSON.stringify(a)});Ae(f.entry),o==="paid"&&L("Conta marcada como paga")},yt=e=>{const s=k.value.find(o=>o.id===e);s&&xt(s)},wt=()=>{X.visit(route("settings"))};return qe(()=>{j(),ge(),M();try{const e=window.localStorage.getItem(Qo)==="1",s=(_.value.accounts??[]).length>0;!e&&!s&&(p.value=!0)}catch{}}),(e,s)=>(n(),Be(St(me.value),Bt(ve.value,{onAdd:s[16]||(s[16]=o=>pt("expense"))}),{default:$(()=>[C(y)?(n(),l("header",gs,[t("button",{type:"button",onClick:wt,class:"flex items-center gap-3","aria-label":"Abrir perfil"},[t("span",ys,[ee.value?(n(),l("img",{key:0,src:ee.value,alt:"",class:"h-full w-full object-cover"},null,8,ws)):(n(),l("span",ks,c(te.value),1))]),t("div",_s,[t("div",Cs,"OLÃ, "+c(J.value.toUpperCase()),1),s[17]||(s[17]=t("div",{class:"text-xl font-semibold tracking-tight text-slate-900"},"VisÃ£o Geral",-1))])]),t("div",Ds,[h(C(T),{href:e.route("notifications.index"),class:"relative flex h-11 w-11 items-center justify-center rounded-full bg-white text-slate-600 shadow-sm ring-1 ring-slate-200/60 hover:bg-slate-50","aria-label":"NotificaÃ§Ãµes"},{default:$(()=>[R.value>0?(n(),l("span",Ms,c(R.value>9?"9+":R.value),1)):g("",!0),s[18]||(s[18]=t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 7 3 7H3s3 0 3-7"}),t("path",{d:"M10 21a2 2 0 0 0 4 0"})],-1))]),_:1},8,["href"])])])):g("",!0),t("section",$s,[t("div",Bs,[t("div",null,[s[19]||(s[19]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide text-slate-300"},"Saldo Total",-1)),t("div",Ss,c(he(se.value)),1)]),t("div",js,[t("button",{type:"button",class:"mt-1 inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/10","aria-label":u.value?"Mostrar valores":"Ocultar valores",onClick:s[0]||(s[0]=o=>He(!u.value))},[u.value?(n(),l("svg",Ns,[...s[20]||(s[20]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("path",{d:"M12 15a3 3 0 1 0 0-6"},null,-1),t("path",{d:"M4 4l16 16"},null,-1)])])):(n(),l("svg",Ts,[...s[21]||(s[21]=[t("path",{d:"M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z"},null,-1),t("circle",{cx:"12",cy:"12",r:"3"},null,-1)])]))],8,Fs)])]),t("div",As,[h(C(T),{href:e.route("accounts.index",{kind:"income"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver receitas"},{default:$(()=>[s[22]||(s[22]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-emerald-300"},[t("span",null,"Entrou"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",Ls,c(he(oe.value)),1)]),_:1},8,["href"]),h(C(T),{href:e.route("accounts.index",{kind:"expense"}),class:"rounded-2xl bg-white/5 p-4 ring-1 ring-white/10","aria-label":"Ver despesas"},{default:$(()=>[s[23]||(s[23]=t("div",{class:"flex items-center justify-between text-[10px] font-semibold uppercase tracking-wide text-red-300"},[t("span",null,"Saiu"),t("svg",{class:"h-4 w-4 text-white/70",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})])],-1)),t("div",Is,c(he(ae.value)),1)]),_:1},8,["href"])])]),F.value?(n(),l("section",Rs,[t("div",Es,[s[24]||(s[24]=t("div",{class:"flex items-center gap-3"},[t("span",{class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-emerald-50 text-emerald-600"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])]),t("div",{class:"text-base font-semibold text-slate-900"},"ProjeÃ§Ã£o 30 dias")],-1)),w.value?.primeiro_dia_negativo?(n(),l("div",Os," âš ï¸ "+c(Ne.value||w.value.primeiro_dia_negativo),1)):w.value&&w.value.saldo_dia_30>0?(n(),l("div",Ps," âœ… "+c(N(Math.abs(w.value.saldo_dia_30))),1)):g("",!0)]),w.value?.primeiro_dia_negativo?(n(),l("div",Vs,[s[26]||(s[26]=t("div",{class:"text-xl text-red-500"},"âš ï¸",-1)),t("div",zs,[t("h3",Us," AtenÃ§Ã£o: Seu saldo pode ficar negativo em "+c(Ne.value||"breve"),1),t("p",Ks," No ritmo atual, seu saldo pode ficar negativo a partir do dia "+c(w.value.primeiro_dia_negativo)+". ",1),h(C(T),{href:e.route("analysis"),class:"mt-2 inline-flex text-sm font-medium text-red-600 hover:underline"},{default:$(()=>[...s[25]||(s[25]=[re(" Ver anÃ¡lise detalhada â†’ ",-1)])]),_:1},8,["href"])])])):w.value&&w.value.saldo_dia_30>0?(n(),l("div",Gs,[s[28]||(s[28]=t("div",{class:"text-xl text-emerald-600"},"âœ…",-1)),t("div",qs,[s[27]||(s[27]=t("h3",{class:"mb-1 font-semibold text-emerald-900"},"TÃ¡ tranquilo!",-1)),t("p",Hs," VocÃª pode gastar atÃ© "+c(N(Math.abs(w.value.saldo_dia_30)))+" atÃ© o fim do mÃªs ",1)])])):g("",!0),Xe.value&&le.value?(n(),l("div",Js,[t("div",Ys,[t("div",{class:"pointer-events-none absolute left-0 right-0 border-t-2 border-dashed border-[#EF4444]",style:I({top:`${le.value.baselinePx}px`})},null,4),t("div",{class:"pointer-events-none absolute right-0 -translate-y-1/2 text-[10px] font-semibold text-[#EF4444]",style:I({top:`${le.value.baselinePx}px`})}," Saldo zero ",4),t("div",Ws,[(n(!0),l(P,null,V(le.value.bars,o=>(n(),l("div",{key:o.key,class:"relative h-24 text-center"},[o.showCriticalBadge?(n(),l("div",{key:0,class:"absolute left-1/2 -translate-x-1/2 rounded-full bg-red-50 px-2 py-1 text-[10px] font-semibold text-red-600",style:I({top:`${Math.max(0,o.topPx-22)}px`})}," âš ï¸ "+c(o.labelShort),5)):g("",!0),t("div",{class:A(["mx-auto w-8 rounded-2xl",o.tone]),style:I({height:`${o.heightPx}px`,position:"absolute",left:"50%",transform:"translateX(-50%)",top:`${o.topPx}px`})},null,6),t("div",Qs,c(o.labelShort),1)]))),128))])])])):ot.value?(n(),l("div",Zs,[t("div",Xs,[(n(!0),l(P,null,V(Se.value,o=>(n(),l("div",{key:o.label,class:"text-center"},[t("div",eo,c(u.value?"â€¢â€¢â€¢â€¢":N(o.amount).replace("R$","").trim()),1),t("div",{class:A(["mx-auto mt-2 w-8 rounded-2xl",o.tone]),style:I({height:`${o.height}px`})},null,6),t("div",{class:A(["mt-2 text-[10px] font-semibold",o.highlight?"text-emerald-600":"text-slate-400"])},c(o.label),3)]))),128))])])):(n(),l("div",to,[...s[29]||(s[29]=[t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M4 19V5"}),t("path",{d:"M10 19V9"}),t("path",{d:"M16 19v-4"}),t("path",{d:"M22 19V7"})])],-1),t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"Sem projeÃ§Ãµes ainda",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione seus primeiros lanÃ§amentos para ver o fluxo.",-1)])]))])):g("",!0),U.value?(n(),l("section",so,[t("div",oo,[s[31]||(s[31]=t("div",{class:"text-lg font-semibold text-slate-900"},"Contas",-1)),h(C(T),{href:e.route("accounts.overview"),class:"rounded-2xl px-3 py-2 text-sm font-semibold text-emerald-600 hover:bg-slate-50"},{default:$(()=>[...s[30]||(s[30]=[re(" Ver todas ",-1)])]),_:1},8,["href"])]),Fe.value.length===0?(n(),l("div",ao,[s[32]||(s[32]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 10h18"}),t("path",{d:"M5 10V8l7-5 7 5v2"}),t("path",{d:"M6 10v9"}),t("path",{d:"M18 10v9"})])],-1)),s[33]||(s[33]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"VocÃª ainda nÃ£o possui contas cadastradas.",-1)),s[34]||(s[34]=t("div",{class:"mt-1 text-xs text-slate-500"},"Adicione uma conta para comeÃ§ar a planejar seu mÃªs.",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[1]||(s[1]=o=>we.value=!0)}," Adicionar contas ")])):(n(),l("div",no,[(n(!0),l(P,null,V(Fe.value,o=>(n(),Be(C(T),{key:o.id,href:e.route("accounts.show",{accountKey:o.id}),class:"flex items-center justify-between rounded-2xl border border-slate-100 bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60"},{default:$(()=>[t("div",lo,[t("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl text-white",style:I({backgroundColor:o.color})},[...s[35]||(s[35]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 10h18"}),t("path",{d:"M5 10V8l7-5 7 5v2"}),t("path",{d:"M6 10v9"}),t("path",{d:"M18 10v9"})],-1)])],4),t("div",null,[t("div",io,c(o.label),1),t("div",ro,c(o.subtitle),1)])]),t("div",co,c(u.value?"R$ â€¢â€¢â€¢â€¢":`R$ ${o.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)]),_:2},1032,["href"]))),128))]))])):g("",!0),E.value?(n(),l("section",uo,[t("div",mo,[s[37]||(s[37]=t("div",{class:"text-lg font-semibold text-slate-900"},"CartÃµes de crÃ©dito",-1)),h(C(T),{href:e.route("credit-cards.my-cards"),class:"text-sm font-semibold text-emerald-600"},{default:$(()=>[...s[36]||(s[36]=[re("Ver todas",-1)])]),_:1},8,["href"])]),Y.value.length>0?(n(),l("div",vo,[t("button",{type:"button",class:A(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",W.value==="open"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[2]||(s[2]=o=>W.value="open")}," Faturas abertas ",2),t("button",{type:"button",class:A(["flex-1 rounded-full px-4 py-2 text-xs font-semibold transition",W.value==="closed"?"bg-emerald-600 text-white shadow-sm":"text-slate-500"]),onClick:s[3]||(s[3]=o=>W.value="closed")}," Faturas fechadas ",2)])):g("",!0),Y.value.length===0?(n(),l("div",po,[s[38]||(s[38]=t("div",{class:"mx-auto flex h-12 w-12 items-center justify-center rounded-2xl bg-white text-slate-400"},[t("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),t("path",{d:"M3 10h18"})])],-1)),s[39]||(s[39]=t("div",{class:"mt-3 text-sm font-semibold text-slate-900"},"VocÃª ainda nÃ£o possui cartÃµes cadastrados.",-1)),s[40]||(s[40]=t("div",{class:"mt-1 text-xs text-slate-500"},"Melhore seu controle financeiro agora!",-1)),t("button",{type:"button",class:"mt-4 rounded-full bg-emerald-500 px-4 py-2 text-xs font-semibold text-white",onClick:s[4]||(s[4]=o=>_e.value=!0)}," Adicionar cartÃµes ")])):(n(),l("div",fo,[ne.value.length===0?(n(),l("div",xo,[...s[41]||(s[41]=[t("div",{class:"text-sm font-semibold text-slate-900"},"Nada por aqui.",-1),t("div",{class:"mt-1 text-xs text-slate-500"},"Quando houver cartÃµes com esse status, eles aparecem aqui.",-1)])])):(n(),l("div",ho,[(n(!0),l(P,null,V(ne.value,o=>(n(),Be(C(T),{key:o.id,href:e.route("credit-cards.show",{account:o.id}),class:"relative shrink-0 overflow-hidden rounded-3xl p-5 shadow-lg transition hover:shadow-xl",style:I({backgroundColor:o.color,width:"320px"})},{default:$(()=>[t("div",bo,[t("div",go,[t("div",yo,[s[42]||(s[42]=t("div",{class:"flex h-6 w-6 items-center justify-center rounded bg-white/20"},[t("svg",{class:"h-4 w-4 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"5",width:"18",height:"14",rx:"3"}),t("path",{d:"M3 10h18"})])],-1)),t("span",wo,c(o.label),1)]),ne.value.find(a=>a.id===o.id)?.is_primary?(n(),l("span",ko," PRINCIPAL ")):g("",!0)]),t("div",_o,[s[44]||(s[44]=t("div",{class:"text-[10px] font-semibold uppercase tracking-wide opacity-90"},"FATURA ATUAL",-1)),t("div",Co,c(u.value?"R$ â€¢â€¢â€¢â€¢":N(o.used).replace("R$","R$")),1),t("div",Do,[t("div",{class:"h-full rounded-full bg-white",style:I({width:`${o.percent}%`})},null,4)]),t("div",Mo,[t("span",$o," Limite: "+c(u.value?"R$ â€¢â€¢â€¢â€¢":`R$ ${o.limit.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`),1),t("span",Bo,c(Math.round(o.percent))+"%",1)]),o.dueDay?(n(),l("div",So,[s[43]||(s[43]=t("svg",{class:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),t("path",{d:"M16 2v4"}),t("path",{d:"M8 2v4"}),t("path",{d:"M3 10h18"})],-1)),t("span",null,"Vence dia "+c(o.dueDay),1)])):g("",!0)])])]),_:2},1032,["href","style"]))),128))])),t("div",jo,[t("div",Fo,[s[45]||(s[45]=t("span",null,"Total (todos cartÃµes)",-1)),t("span",No,c(u.value?"R$ â€¢â€¢â€¢â€¢":`R$ ${Ze.value.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`),1)])])]))])):g("",!0),ce.value?(n(),l("section",To,[t("div",Ao,[s[47]||(s[47]=t("div",{class:"text-lg font-semibold text-slate-900"},"A Vencer",-1)),h(C(T),{href:e.route("accounts.index"),class:"text-sm font-semibold text-emerald-600"},{default:$(()=>[...s[46]||(s[46]=[re("Ver todas",-1)])]),_:1},8,["href"])]),at.value?(n(),l("div",Lo,[(n(!0),l(P,null,V(je.value,o=>(n(),l("div",{key:o.id,class:"flex items-center gap-4 rounded-3xl bg-white px-4 py-4 shadow-sm ring-1 ring-slate-200/60 cursor-pointer hover:bg-slate-50 active:bg-slate-100 transition-colors",onClick:a=>yt(o.id)},[t("div",Ro,[t("div",Eo,c(o.month),1),t("div",Oo,c(o.day),1)]),t("div",Po,[t("div",Vo,c(o.title),1),t("div",zo,c(o.subtitle),1)]),t("div",Uo,[t("div",{class:A(["text-sm font-semibold",o.paid?"text-emerald-600 line-through":"text-red-500"])}," - "+c(o.amountLabel),3),t("button",{type:"button",class:A(["flex h-6 w-6 items-center justify-center rounded-full border-2",o.paid?"border-emerald-500 bg-emerald-500":"border-slate-200 bg-white"]),"aria-label":o.paid?"Marcar como nÃ£o paga":"Marcar como paga",onClick:$t(a=>gt(o.id),["stop"])},[o.paid?(n(),l("svg",Go,[...s[48]||(s[48]=[t("path",{d:"M20 6 9 17l-5-5"},null,-1)])])):g("",!0)],10,Ko)])],8,Io))),128))])):g("",!0)])):g("",!0),t("section",qo,[t("button",{type:"button",class:"flex w-full items-center justify-between rounded-2xl bg-slate-50 px-4 py-4 text-left ring-1 ring-slate-200/60",onClick:s[5]||(s[5]=o=>i.value=!0)},[...s[49]||(s[49]=[t("div",{class:"flex items-center gap-4"},[t("span",{class:"flex h-11 w-11 items-center justify-center rounded-2xl bg-white text-slate-500 ring-1 ring-slate-200/60"},[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"3",y:"3",width:"8",height:"8",rx:"2"}),t("rect",{x:"13",y:"3",width:"8",height:"5",rx:"2"}),t("rect",{x:"13",y:"10",width:"8",height:"11",rx:"2"}),t("rect",{x:"3",y:"13",width:"8",height:"8",rx:"2"})])]),t("div",null,[t("div",{class:"text-sm font-semibold text-slate-900"},"Gerencie sua tela inicial aqui"),t("div",{class:"mt-1 text-xs font-semibold text-slate-400"},"Escolha o que aparece na Home.")])],-1),t("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])])]),h(Nt,{open:Z.value,kind:Me.value,initial:ie.value,categories:mt.value,accounts:Le.value,tags:_.value.tags,"lock-kind":Ie.value,onClose:s[6]||(s[6]=o=>Z.value=!1),onSave:bt},null,8,["open","kind","initial","categories","accounts","tags","lock-kind"]),h(Pt,{open:ke.value,onClose:s[7]||(s[7]=o=>ke.value=!1),onSave:nt},null,8,["open"]),h(Ut,{open:we.value,onClose:s[8]||(s[8]=o=>we.value=!1),onToast:L},null,8,["open"]),h(Kt,{open:_e.value,onClose:s[9]||(s[9]=o=>_e.value=!1),onSave:lt},null,8,["open"]),h(Et,{open:K.value,transaction:vt.value,onClose:s[10]||(s[10]=o=>K.value=!1),onEdit:Ee,onDelete:ht,onDuplicate:Ee},null,8,["open","transaction"]),h(Gt,{show:i.value,maxWidth:"md",onClose:s[12]||(s[12]=o=>i.value=!1)},{default:$(()=>[t("div",Ho,[t("div",Jo,[s[51]||(s[51]=t("div",{class:"text-lg font-semibold text-slate-900"},"Tela inicial",-1)),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-50 text-slate-600 ring-1 ring-slate-200/60","aria-label":"Fechar",onClick:s[11]||(s[11]=o=>i.value=!1)},[...s[50]||(s[50]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"M6 6l12 12"})],-1)])])]),t("div",Yo,[h(qt)])])]),_:1},8,["show"]),h(Ot,{show:ye.value,message:Te.value,onDismiss:s[13]||(s[13]=o=>ye.value=!1)},null,8,["show","message"]),h(bs,{open:p.value,onClose:s[14]||(s[14]=o=>p.value=!1),onDone:s[15]||(s[15]=o=>p.value=!1)},null,8,["open"])]),_:1},16))}});export{va as default};
