import{d as I,c as n,h as x,p as N,g as h,F as f,e as t,i as $,t as p,r as E,n as G,o as b}from"./app-Pd0ejbZJ.js";const S={class:"flex items-center justify-between rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-slate-200/60"},z=["disabled"],L={class:"flex-1 text-center"},R=["disabled"],T={key:0,class:"fixed inset-0 z-[90]"},U={class:"absolute left-1/2 top-28 w-[min(360px,calc(100vw-2.5rem))] -translate-x-1/2 overflow-hidden rounded-3xl bg-white shadow-[0_20px_60px_-20px_rgba(0,0,0,0.4)] ring-1 ring-slate-200/60"},O={class:"flex items-center justify-between bg-[#14B8A6] px-5 py-4 text-white"},q=["disabled"],H={class:"text-lg font-bold tracking-wide"},J=["disabled"],K={class:"grid grid-cols-4 gap-y-4 px-6 py-6"},Q=["disabled","onClick"],X=I({__name:"MonthNavigator",props:{modelValue:{},months:{}},emits:["update:modelValue"],setup(w,{emit:y}){const o=w,k=y,r=n({get:()=>o.modelValue,set:l=>k("update:modelValue",l)}),c=n(()=>o.months.find(l=>l.key===r.value)),u=n(()=>o.months.findIndex(l=>l.key===r.value)),d=x(!1),a=x(new Date().getFullYear()),C=()=>{u.value>0&&(r.value=o.months[u.value-1].key)},_=()=>{u.value<o.months.length-1&&(r.value=o.months[u.value+1].key)},F=n(()=>u.value>0),M=n(()=>u.value<o.months.length-1),B=n(()=>{if(!c.value)return"";const l=new Intl.DateTimeFormat("pt-BR",{month:"long"}).format(c.value.date),e=c.value.date.getFullYear();return`${l.charAt(0).toUpperCase()+l.slice(1)} ${e}`}),v=n(()=>Array.from(new Set(o.months.map(e=>e.date.getFullYear()))).sort((e,s)=>e-s)),i=n(()=>{const l=new Map;for(const e of o.months){const s=e.date.getFullYear(),g=e.date.getMonth();l.has(s)||l.set(s,new Map),l.get(s).set(g,{key:e.key,date:e.date})}return l}),Y=l=>{const e=new Date(2026,l,1);return new Intl.DateTimeFormat("pt-BR",{month:"short"}).format(e).replace(".","").toUpperCase()},j=n(()=>v.value.length>0&&a.value>v.value[0]),A=n(()=>v.value.length>0&&a.value<v.value[v.value.length-1]),D=()=>{const l=c.value?.date.getFullYear()??new Date().getFullYear();a.value=l,d.value=!0},m=()=>{d.value=!1},V=l=>{const e=i.value.get(a.value)?.get(l)?.key??null;e&&(r.value=e,d.value=!1)},P=()=>{const l=new Date,e=i.value.get(l.getFullYear())?.get(l.getMonth())?.key??null;e&&(r.value=e,d.value=!1)};return N(()=>o.modelValue,()=>{d.value&&(a.value=c.value?.date.getFullYear()??a.value)}),(l,e)=>(b(),h(f,null,[t("div",S,[t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!F.value,"aria-label":"Mês anterior",onClick:C},[...e[2]||(e[2]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])],8,z),t("div",L,[t("button",{type:"button",class:"inline-flex items-center justify-center gap-2 rounded-full px-4 py-1.5 text-sm font-semibold tracking-wide text-slate-900 hover:bg-slate-50","aria-label":"Escolher mês",onClick:D},[t("span",null,p(B.value),1),e[3]||(e[3]=t("svg",{class:"h-4 w-4 text-slate-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[t("path",{d:"M6 9l6 6 6-6"})],-1))])]),t("button",{type:"button",class:"flex h-10 w-10 items-center justify-center rounded-xl text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!M.value,"aria-label":"Próximo mês",onClick:_},[...e[4]||(e[4]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])],8,R)]),d.value?(b(),h("div",T,[t("button",{class:"absolute inset-0 bg-black/40 backdrop-blur-sm",type:"button","aria-label":"Fechar",onClick:m}),t("div",U,[t("div",O,[t("button",{type:"button",class:"flex h-9 w-9 items-center justify-center rounded-2xl bg-white/10 disabled:opacity-50",disabled:!j.value,"aria-label":"Ano anterior",onClick:e[0]||(e[0]=s=>a.value=a.value-1)},[...e[5]||(e[5]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M15 18l-6-6 6-6"})],-1)])],8,q),t("div",H,p(a.value),1),t("button",{type:"button",class:"flex h-9 w-9 items-center justify-center rounded-2xl bg-white/10 disabled:opacity-50",disabled:!A.value,"aria-label":"Próximo ano",onClick:e[1]||(e[1]=s=>a.value=a.value+1)},[...e[6]||(e[6]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M9 18l6-6-6-6"})],-1)])],8,J)]),t("div",K,[(b(),h(f,null,E(12,s=>t("button",{key:s,type:"button",class:G(["mx-auto w-16 rounded-xl py-2 text-center text-xs font-bold tracking-wide transition",{"bg-[#E6FFFB] text-[#14B8A6] ring-1 ring-[#99F6E4]":i.value.get(a.value)?.get(s-1)?.key===r.value,"text-slate-900 hover:bg-slate-50":i.value.get(a.value)?.has(s-1)&&i.value.get(a.value)?.get(s-1)?.key!==r.value,"text-slate-300 cursor-not-allowed":!i.value.get(a.value)?.has(s-1)}]),disabled:!i.value.get(a.value)?.has(s-1),onClick:g=>V(s-1)},p(Y(s-1)),11,Q)),64))]),t("div",{class:"flex items-center justify-between px-6 pb-5"},[t("button",{type:"button",class:"text-sm font-semibold text-[#14B8A6]",onClick:m},"Cancelar"),t("button",{type:"button",class:"text-sm font-semibold text-[#14B8A6]",onClick:P},"Mês atual")])])])):$("",!0)],64))}});export{X as _};
